(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Bg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Vu={exports:{}},zs={},Ku={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf;function K_(){if(Yf)return ye;Yf=1;var o=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function R(L,I,se){this.props=L,this.context=I,this.refs=w,this.updater=se||x}R.prototype.isReactComponent={},R.prototype.setState=function(L,I){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,I,"setState")},R.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=R.prototype;function M(L,I,se){this.props=L,this.context=I,this.refs=w,this.updater=se||x}var F=M.prototype=new k;F.constructor=M,E(F,R.prototype),F.isPureReactComponent=!0;var A=Array.isArray,z=Object.prototype.hasOwnProperty,B={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function V(L,I,se){var b,ne={},me=null,xe=null;if(I!=null)for(b in I.ref!==void 0&&(xe=I.ref),I.key!==void 0&&(me=""+I.key),I)z.call(I,b)&&!Z.hasOwnProperty(b)&&(ne[b]=I[b]);var de=arguments.length-2;if(de===1)ne.children=se;else if(1<de){for(var Ee=Array(de),Ue=0;Ue<de;Ue++)Ee[Ue]=arguments[Ue+2];ne.children=Ee}if(L&&L.defaultProps)for(b in de=L.defaultProps,de)ne[b]===void 0&&(ne[b]=de[b]);return{$$typeof:o,type:L,key:me,ref:xe,props:ne,_owner:B.current}}function te(L,I){return{$$typeof:o,type:L.type,key:I,ref:L.ref,props:L.props,_owner:L._owner}}function re(L){return typeof L=="object"&&L!==null&&L.$$typeof===o}function _e(L){var I={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(se){return I[se]})}var he=/\/+/g;function ce(L,I){return typeof L=="object"&&L!==null&&L.key!=null?_e(""+L.key):I.toString(36)}function Re(L,I,se,b,ne){var me=typeof L;(me==="undefined"||me==="boolean")&&(L=null);var xe=!1;if(L===null)xe=!0;else switch(me){case"string":case"number":xe=!0;break;case"object":switch(L.$$typeof){case o:case e:xe=!0}}if(xe)return xe=L,ne=ne(xe),L=b===""?"."+ce(xe,0):b,A(ne)?(se="",L!=null&&(se=L.replace(he,"$&/")+"/"),Re(ne,I,se,"",function(Ue){return Ue})):ne!=null&&(re(ne)&&(ne=te(ne,se+(!ne.key||xe&&xe.key===ne.key?"":(""+ne.key).replace(he,"$&/")+"/")+L)),I.push(ne)),1;if(xe=0,b=b===""?".":b+":",A(L))for(var de=0;de<L.length;de++){me=L[de];var Ee=b+ce(me,de);xe+=Re(me,I,se,Ee,ne)}else if(Ee=v(L),typeof Ee=="function")for(L=Ee.call(L),de=0;!(me=L.next()).done;)me=me.value,Ee=b+ce(me,de++),xe+=Re(me,I,se,Ee,ne);else if(me==="object")throw I=String(L),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return xe}function $(L,I,se){if(L==null)return L;var b=[],ne=0;return Re(L,b,"","",function(me){return I.call(se,me,ne++)}),b}function J(L){if(L._status===-1){var I=L._result;I=I(),I.then(function(se){(L._status===0||L._status===-1)&&(L._status=1,L._result=se)},function(se){(L._status===0||L._status===-1)&&(L._status=2,L._result=se)}),L._status===-1&&(L._status=0,L._result=I)}if(L._status===1)return L._result.default;throw L._result}var Y={current:null},N={transition:null},K={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:N,ReactCurrentOwner:B};function X(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:$,forEach:function(L,I,se){$(L,function(){I.apply(this,arguments)},se)},count:function(L){var I=0;return $(L,function(){I++}),I},toArray:function(L){return $(L,function(I){return I})||[]},only:function(L){if(!re(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},ye.Component=R,ye.Fragment=t,ye.Profiler=s,ye.PureComponent=M,ye.StrictMode=i,ye.Suspense=d,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,ye.act=X,ye.cloneElement=function(L,I,se){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var b=E({},L.props),ne=L.key,me=L.ref,xe=L._owner;if(I!=null){if(I.ref!==void 0&&(me=I.ref,xe=B.current),I.key!==void 0&&(ne=""+I.key),L.type&&L.type.defaultProps)var de=L.type.defaultProps;for(Ee in I)z.call(I,Ee)&&!Z.hasOwnProperty(Ee)&&(b[Ee]=I[Ee]===void 0&&de!==void 0?de[Ee]:I[Ee])}var Ee=arguments.length-2;if(Ee===1)b.children=se;else if(1<Ee){de=Array(Ee);for(var Ue=0;Ue<Ee;Ue++)de[Ue]=arguments[Ue+2];b.children=de}return{$$typeof:o,type:L.type,key:ne,ref:me,props:b,_owner:xe}},ye.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},ye.createElement=V,ye.createFactory=function(L){var I=V.bind(null,L);return I.type=L,I},ye.createRef=function(){return{current:null}},ye.forwardRef=function(L){return{$$typeof:h,render:L}},ye.isValidElement=re,ye.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:J}},ye.memo=function(L,I){return{$$typeof:m,type:L,compare:I===void 0?null:I}},ye.startTransition=function(L){var I=N.transition;N.transition={};try{L()}finally{N.transition=I}},ye.unstable_act=X,ye.useCallback=function(L,I){return Y.current.useCallback(L,I)},ye.useContext=function(L){return Y.current.useContext(L)},ye.useDebugValue=function(){},ye.useDeferredValue=function(L){return Y.current.useDeferredValue(L)},ye.useEffect=function(L,I){return Y.current.useEffect(L,I)},ye.useId=function(){return Y.current.useId()},ye.useImperativeHandle=function(L,I,se){return Y.current.useImperativeHandle(L,I,se)},ye.useInsertionEffect=function(L,I){return Y.current.useInsertionEffect(L,I)},ye.useLayoutEffect=function(L,I){return Y.current.useLayoutEffect(L,I)},ye.useMemo=function(L,I){return Y.current.useMemo(L,I)},ye.useReducer=function(L,I,se){return Y.current.useReducer(L,I,se)},ye.useRef=function(L){return Y.current.useRef(L)},ye.useState=function(L){return Y.current.useState(L)},ye.useSyncExternalStore=function(L,I,se){return Y.current.useSyncExternalStore(L,I,se)},ye.useTransition=function(){return Y.current.useTransition()},ye.version="18.3.1",ye}var Uf;function Pc(){return Uf||(Uf=1,Ku.exports=K_()),Ku.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function Z_(){if(Bf)return zs;Bf=1;var o=Pc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,d,m){var p,_={},v=null,x=null;m!==void 0&&(v=""+m),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)i.call(d,p)&&!a.hasOwnProperty(p)&&(_[p]=d[p]);if(h&&h.defaultProps)for(p in d=h.defaultProps,d)_[p]===void 0&&(_[p]=d[p]);return{$$typeof:e,type:h,key:v,ref:x,props:_,_owner:s.current}}return zs.Fragment=t,zs.jsx=u,zs.jsxs=u,zs}var Vf;function H_(){return Vf||(Vf=1,Vu.exports=Z_()),Vu.exports}var cc=H_(),Vg=Pc();const b_=Bg(Vg);var vl={},Zu={exports:{}},Rt={},Hu={exports:{}},bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function $_(){return Kf||(Kf=1,function(o){function e(N,K){var X=N.length;N.push(K);e:for(;0<X;){var L=X-1>>>1,I=N[L];if(0<s(I,K))N[L]=K,N[X]=I,X=L;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var K=N[0],X=N.pop();if(X!==K){N[0]=X;e:for(var L=0,I=N.length,se=I>>>1;L<se;){var b=2*(L+1)-1,ne=N[b],me=b+1,xe=N[me];if(0>s(ne,X))me<I&&0>s(xe,ne)?(N[L]=xe,N[me]=X,L=me):(N[L]=ne,N[b]=X,L=b);else if(me<I&&0>s(xe,X))N[L]=xe,N[me]=X,L=me;else break e}}return K}function s(N,K){var X=N.sortIndex-K.sortIndex;return X!==0?X:N.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;o.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();o.unstable_now=function(){return u.now()-h}}var d=[],m=[],p=1,_=null,v=3,x=!1,E=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(N){for(var K=t(m);K!==null;){if(K.callback===null)i(m);else if(K.startTime<=N)i(m),K.sortIndex=K.expirationTime,e(d,K);else break;K=t(m)}}function A(N){if(w=!1,F(N),!E)if(t(d)!==null)E=!0,J(z);else{var K=t(m);K!==null&&Y(A,K.startTime-N)}}function z(N,K){E=!1,w&&(w=!1,k(V),V=-1),x=!0;var X=v;try{for(F(K),_=t(d);_!==null&&(!(_.expirationTime>K)||N&&!_e());){var L=_.callback;if(typeof L=="function"){_.callback=null,v=_.priorityLevel;var I=L(_.expirationTime<=K);K=o.unstable_now(),typeof I=="function"?_.callback=I:_===t(d)&&i(d),F(K)}else i(d);_=t(d)}if(_!==null)var se=!0;else{var b=t(m);b!==null&&Y(A,b.startTime-K),se=!1}return se}finally{_=null,v=X,x=!1}}var B=!1,Z=null,V=-1,te=5,re=-1;function _e(){return!(o.unstable_now()-re<te)}function he(){if(Z!==null){var N=o.unstable_now();re=N;var K=!0;try{K=Z(!0,N)}finally{K?ce():(B=!1,Z=null)}}else B=!1}var ce;if(typeof M=="function")ce=function(){M(he)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,$=Re.port2;Re.port1.onmessage=he,ce=function(){$.postMessage(null)}}else ce=function(){R(he,0)};function J(N){Z=N,B||(B=!0,ce())}function Y(N,K){V=R(function(){N(o.unstable_now())},K)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(N){N.callback=null},o.unstable_continueExecution=function(){E||x||(E=!0,J(z))},o.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<N?Math.floor(1e3/N):5},o.unstable_getCurrentPriorityLevel=function(){return v},o.unstable_getFirstCallbackNode=function(){return t(d)},o.unstable_next=function(N){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var X=v;v=K;try{return N()}finally{v=X}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(N,K){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var X=v;v=N;try{return K()}finally{v=X}},o.unstable_scheduleCallback=function(N,K,X){var L=o.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?L+X:L):X=L,N){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=X+I,N={id:p++,callback:K,priorityLevel:N,startTime:X,expirationTime:I,sortIndex:-1},X>L?(N.sortIndex=X,e(m,N),t(d)===null&&N===t(m)&&(w?(k(V),V=-1):w=!0,Y(A,X-L))):(N.sortIndex=I,e(d,N),E||x||(E=!0,J(z))),N},o.unstable_shouldYield=_e,o.unstable_wrapCallback=function(N){var K=v;return function(){var X=v;v=K;try{return N.apply(this,arguments)}finally{v=X}}}}(bu)),bu}var Zf;function q_(){return Zf||(Zf=1,Hu.exports=$_()),Hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function Q_(){if(Hf)return Rt;Hf=1;var o=Pc(),e=q_();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function a(n,r){u(n,r),u(n+"Capture",r)}function u(n,r){for(s[n]=r,n=0;n<r.length;n++)i.add(r[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},_={};function v(n){return d.call(_,n)?!0:d.call(p,n)?!1:m.test(n)?_[n]=!0:(p[n]=!0,!1)}function x(n,r,l,c){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function E(n,r,l,c){if(r===null||typeof r>"u"||x(n,r,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function w(n,r,l,c,f,g,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=n,this.type=r,this.sanitizeURL=g,this.removeEmptyString=y}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){R[n]=new w(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];R[r]=new w(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){R[n]=new w(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){R[n]=new w(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){R[n]=new w(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){R[n]=new w(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){R[n]=new w(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){R[n]=new w(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){R[n]=new w(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function M(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(k,M);R[r]=new w(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(k,M);R[r]=new w(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(k,M);R[r]=new w(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){R[n]=new w(n,1,!1,n.toLowerCase(),null,!1,!1)}),R.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){R[n]=new w(n,1,!1,n.toLowerCase(),null,!0,!0)});function F(n,r,l,c){var f=R.hasOwnProperty(r)?R[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,l,f,c)&&(l=null),c||f===null?v(r)&&(l===null?n.removeAttribute(r):n.setAttribute(r,""+l)):f.mustUseProperty?n[f.propertyName]=l===null?f.type===3?!1:"":l:(r=f.attributeName,c=f.attributeNamespace,l===null?n.removeAttribute(r):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,c?n.setAttributeNS(c,r,l):n.setAttribute(r,l))))}var A=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),B=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),_e=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),N=Symbol.iterator;function K(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var X=Object.assign,L;function I(n){if(L===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+n}var se=!1;function b(n,r){if(!n||se)return"";se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(D){var c=D}Reflect.construct(n,[],r)}else{try{r.call()}catch(D){c=D}n.call(r.prototype)}else{try{throw Error()}catch(D){c=D}n()}}catch(D){if(D&&c&&typeof D.stack=="string"){for(var f=D.stack.split(`
`),g=c.stack.split(`
`),y=f.length-1,C=g.length-1;1<=y&&0<=C&&f[y]!==g[C];)C--;for(;1<=y&&0<=C;y--,C--)if(f[y]!==g[C]){if(y!==1||C!==1)do if(y--,C--,0>C||f[y]!==g[C]){var S=`
`+f[y].replace(" at new "," at ");return n.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",n.displayName)),S}while(1<=y&&0<=C);break}}}finally{se=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?I(n):""}function ne(n){switch(n.tag){case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return n=b(n.type,!1),n;case 11:return n=b(n.type.render,!1),n;case 1:return n=b(n.type,!0),n;default:return""}}function me(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Z:return"Fragment";case B:return"Portal";case te:return"Profiler";case V:return"StrictMode";case ce:return"Suspense";case Re:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _e:return(n.displayName||"Context")+".Consumer";case re:return(n._context.displayName||"Context")+".Provider";case he:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return r=n.displayName||null,r!==null?r:me(n.type)||"Memo";case J:r=n._payload,n=n._init;try{return me(n(r))}catch{}}return null}function xe(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(r);case 8:return r===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function de(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ee(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ue(n){var r=Ee(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,g.call(this,y)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function wn(n){n._valueTracker||(n._valueTracker=Ue(n))}function Sn(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return n&&(c=Ee(n)?n.checked?"true":"false":n.value),n=c,n!==l?(r.setValue(n),!0):!1}function Rn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Nt(n,r){var l=r.checked;return X({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Kn(n,r){var l=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;l=de(r.value!=null?r.value:l),n._wrapperState={initialChecked:c,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function bt(n,r){r=r.checked,r!=null&&F(n,"checked",r,!1)}function Zn(n,r){bt(n,r);var l=de(r.value),c=r.type;if(l!=null)c==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Hn(n,r.type,l):r.hasOwnProperty("defaultValue")&&Hn(n,r.type,de(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function ki(n,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,l||r===n.value||(n.value=r),n.defaultValue=r}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Hn(n,r,l){(r!=="number"||Rn(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var zt=Array.isArray;function ln(n,r,l,c){if(n=n.options,r){r={};for(var f=0;f<l.length;f++)r["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=r.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&c&&(n[l].defaultSelected=!0)}else{for(l=""+de(l),r=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function $e(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function dt(n,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(t(92));if(zt(l)){if(1<l.length)throw Error(t(93));l=l[0]}r=l}r==null&&(r=""),l=r}n._wrapperState={initialValue:de(l)}}function yt(n,r){var l=de(r.value),c=de(r.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),r.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),c!=null&&(n.defaultValue=""+c)}function Gt(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Tn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Tn(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var kt,In=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,c,f){MSApp.execUnsafeLocalFunction(function(){return n(r,l,c,f)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=kt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function an(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ts=["Webkit","ms","Moz","O"];Object.keys(je).forEach(function(n){ts.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),je[r]=je[n]})});function uo(n,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||je.hasOwnProperty(n)&&je[n]?(""+r).trim():r+"px"}function co(n,r){n=n.style;for(var l in r)if(r.hasOwnProperty(l)){var c=l.indexOf("--")===0,f=uo(l,r[l],c);l==="float"&&(l="cssFloat"),c?n.setProperty(l,f):n[l]=f}}var ho=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ar(n,r){if(r){if(ho[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function Pi(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ur=null;function Mi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ln=null,Wt=null,jt=null;function ns(n){if(n=Cs(n)){if(typeof Ln!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Fo(r),Ln(n.stateNode,n.type,r))}}function is(n){Wt?jt?jt.push(n):jt=[n]:Wt=n}function rt(){if(Wt){var n=Wt,r=jt;if(jt=Wt=null,ns(n),r)for(n=0;n<r.length;n++)ns(r[n])}}function kn(n,r){return n(r)}function ft(){}var Pt=!1;function st(n,r,l){if(Pt)return n(r,l);Pt=!0;try{return kn(n,r,l)}finally{Pt=!1,(Wt!==null||jt!==null)&&(ft(),rt())}}function un(n,r){var l=n.stateNode;if(l===null)return null;var c=Fo(l);if(c===null)return null;l=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(t(231,r,typeof l));return l}var bn=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){bn=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch{bn=!1}function vt(n,r,l,c,f,g,y,C,S){var D=Array.prototype.slice.call(arguments,3);try{r.apply(l,D)}catch(W){this.onError(W)}}var gt=!1,cr=null,fo=!1,ca=null,Jm={onError:function(n){gt=!0,cr=n}};function ep(n,r,l,c,f,g,y,C,S){gt=!1,cr=null,vt.apply(Jm,arguments)}function tp(n,r,l,c,f,g,y,C,S){if(ep.apply(this,arguments),gt){if(gt){var D=cr;gt=!1,cr=null}else throw Error(t(198));fo||(fo=!0,ca=D)}}function Oi(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function ch(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function hh(n){if(Oi(n)!==n)throw Error(t(188))}function np(n){var r=n.alternate;if(!r){if(r=Oi(n),r===null)throw Error(t(188));return r!==n?null:n}for(var l=n,c=r;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return hh(f),n;if(g===c)return hh(f),r;g=g.sibling}throw Error(t(188))}if(l.return!==c.return)l=f,c=g;else{for(var y=!1,C=f.child;C;){if(C===l){y=!0,l=f,c=g;break}if(C===c){y=!0,c=f,l=g;break}C=C.sibling}if(!y){for(C=g.child;C;){if(C===l){y=!0,l=g,c=f;break}if(C===c){y=!0,c=g,l=f;break}C=C.sibling}if(!y)throw Error(t(189))}}if(l.alternate!==c)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?n:r}function dh(n){return n=np(n),n!==null?fh(n):null}function fh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=fh(n);if(r!==null)return r;n=n.sibling}return null}var gh=e.unstable_scheduleCallback,mh=e.unstable_cancelCallback,ip=e.unstable_shouldYield,rp=e.unstable_requestPaint,Xe=e.unstable_now,sp=e.unstable_getCurrentPriorityLevel,ha=e.unstable_ImmediatePriority,ph=e.unstable_UserBlockingPriority,go=e.unstable_NormalPriority,op=e.unstable_LowPriority,_h=e.unstable_IdlePriority,mo=null,cn=null;function lp(n){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(mo,n,void 0,(n.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:cp,ap=Math.log,up=Math.LN2;function cp(n){return n>>>=0,n===0?32:31-(ap(n)/up|0)|0}var po=64,_o=4194304;function rs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function yo(n,r){var l=n.pendingLanes;if(l===0)return 0;var c=0,f=n.suspendedLanes,g=n.pingedLanes,y=l&268435455;if(y!==0){var C=y&~f;C!==0?c=rs(C):(g&=y,g!==0&&(c=rs(g)))}else y=l&~f,y!==0?c=rs(y):g!==0&&(c=rs(g));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,g=r&-r,f>=g||f===16&&(g&4194240)!==0))return r;if((c&4)!==0&&(c|=l&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)l=31-qt(r),f=1<<l,c|=n[l],r&=~f;return c}function hp(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dp(n,r){for(var l=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var y=31-qt(g),C=1<<y,S=f[y];S===-1?((C&l)===0||(C&c)!==0)&&(f[y]=hp(C,r)):S<=r&&(n.expiredLanes|=C),g&=~C}}function da(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yh(){var n=po;return po<<=1,(po&4194240)===0&&(po=64),n}function fa(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function ss(n,r,l){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-qt(r),n[r]=l}function fp(n,r){var l=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<l;){var f=31-qt(l),g=1<<f;r[f]=0,c[f]=-1,n[f]=-1,l&=~g}}function ga(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var c=31-qt(l),f=1<<c;f&r|n[c]&r&&(n[c]|=r),l&=~f}}var Ie=0;function vh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var xh,ma,Eh,Ch,wh,pa=!1,vo=[],$n=null,qn=null,Qn=null,os=new Map,ls=new Map,Jn=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(n,r){switch(n){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":os.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(r.pointerId)}}function as(n,r,l,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Cs(r),r!==null&&ma(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function mp(n,r,l,c,f){switch(r){case"focusin":return $n=as($n,n,r,l,c,f),!0;case"dragenter":return qn=as(qn,n,r,l,c,f),!0;case"mouseover":return Qn=as(Qn,n,r,l,c,f),!0;case"pointerover":var g=f.pointerId;return os.set(g,as(os.get(g)||null,n,r,l,c,f)),!0;case"gotpointercapture":return g=f.pointerId,ls.set(g,as(ls.get(g)||null,n,r,l,c,f)),!0}return!1}function Rh(n){var r=Ai(n.target);if(r!==null){var l=Oi(r);if(l!==null){if(r=l.tag,r===13){if(r=ch(l),r!==null){n.blockedOn=r,wh(n.priority,function(){Eh(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xo(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=ya(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);ur=c,l.target.dispatchEvent(c),ur=null}else return r=Cs(l),r!==null&&ma(r),n.blockedOn=l,!1;r.shift()}return!0}function Th(n,r,l){xo(n)&&l.delete(r)}function pp(){pa=!1,$n!==null&&xo($n)&&($n=null),qn!==null&&xo(qn)&&(qn=null),Qn!==null&&xo(Qn)&&(Qn=null),os.forEach(Th),ls.forEach(Th)}function us(n,r){n.blockedOn===r&&(n.blockedOn=null,pa||(pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pp)))}function cs(n){function r(f){return us(f,n)}if(0<vo.length){us(vo[0],n);for(var l=1;l<vo.length;l++){var c=vo[l];c.blockedOn===n&&(c.blockedOn=null)}}for($n!==null&&us($n,n),qn!==null&&us(qn,n),Qn!==null&&us(Qn,n),os.forEach(r),ls.forEach(r),l=0;l<Jn.length;l++)c=Jn[l],c.blockedOn===n&&(c.blockedOn=null);for(;0<Jn.length&&(l=Jn[0],l.blockedOn===null);)Rh(l),l.blockedOn===null&&Jn.shift()}var hr=A.ReactCurrentBatchConfig,Eo=!0;function _p(n,r,l,c){var f=Ie,g=hr.transition;hr.transition=null;try{Ie=1,_a(n,r,l,c)}finally{Ie=f,hr.transition=g}}function yp(n,r,l,c){var f=Ie,g=hr.transition;hr.transition=null;try{Ie=4,_a(n,r,l,c)}finally{Ie=f,hr.transition=g}}function _a(n,r,l,c){if(Eo){var f=ya(n,r,l,c);if(f===null)Da(n,r,c,Co,l),Sh(n,c);else if(mp(f,n,r,l,c))c.stopPropagation();else if(Sh(n,c),r&4&&-1<gp.indexOf(n)){for(;f!==null;){var g=Cs(f);if(g!==null&&xh(g),g=ya(n,r,l,c),g===null&&Da(n,r,c,Co,l),g===f)break;f=g}f!==null&&c.stopPropagation()}else Da(n,r,c,null,l)}}var Co=null;function ya(n,r,l,c){if(Co=null,n=Mi(c),n=Ai(n),n!==null)if(r=Oi(n),r===null)n=null;else if(l=r.tag,l===13){if(n=ch(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Co=n,null}function Ih(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sp()){case ha:return 1;case ph:return 4;case go:case op:return 16;case _h:return 536870912;default:return 16}default:return 16}}var ei=null,va=null,wo=null;function Lh(){if(wo)return wo;var n,r=va,l=r.length,c,f="value"in ei?ei.value:ei.textContent,g=f.length;for(n=0;n<l&&r[n]===f[n];n++);var y=l-n;for(c=1;c<=y&&r[l-c]===f[g-c];c++);return wo=f.slice(n,1<c?1-c:void 0)}function So(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ro(){return!0}function kh(){return!1}function Mt(n){function r(l,c,f,g,y){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(l=n[C],this[C]=l?l(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ro:kh,this.isPropagationStopped=kh,this}return X(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),r}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Mt(dr),hs=X({},dr,{view:0,detail:0}),vp=Mt(hs),Ea,Ca,ds,To=X({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ds&&(ds&&n.type==="mousemove"?(Ea=n.screenX-ds.screenX,Ca=n.screenY-ds.screenY):Ca=Ea=0,ds=n),Ea)},movementY:function(n){return"movementY"in n?n.movementY:Ca}}),Ph=Mt(To),xp=X({},To,{dataTransfer:0}),Ep=Mt(xp),Cp=X({},hs,{relatedTarget:0}),wa=Mt(Cp),wp=X({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sp=Mt(wp),Rp=X({},dr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Tp=Mt(Rp),Ip=X({},dr,{data:0}),Mh=Mt(Ip),Lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Pp[n])?!!r[n]:!1}function Sa(){return Mp}var Op=X({},hs,{key:function(n){if(n.key){var r=Lp[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=So(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kp[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(n){return n.type==="keypress"?So(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?So(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ap=Mt(Op),Fp=X({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=Mt(Fp),Dp=X({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),Np=Mt(Dp),zp=X({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=Mt(zp),Wp=X({},To,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jp=Mt(Wp),Xp=[9,13,27,32],Ra=h&&"CompositionEvent"in window,fs=null;h&&"documentMode"in document&&(fs=document.documentMode);var Yp=h&&"TextEvent"in window&&!fs,Ah=h&&(!Ra||fs&&8<fs&&11>=fs),Fh=" ",Dh=!1;function Nh(n,r){switch(n){case"keyup":return Xp.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fr=!1;function Up(n,r){switch(n){case"compositionend":return zh(r);case"keypress":return r.which!==32?null:(Dh=!0,Fh);case"textInput":return n=r.data,n===Fh&&Dh?null:n;default:return null}}function Bp(n,r){if(fr)return n==="compositionend"||!Ra&&Nh(n,r)?(n=Lh(),wo=va=ei=null,fr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ah&&r.locale!=="ko"?null:r.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vp[n.type]:r==="textarea"}function Wh(n,r,l,c){is(c),r=Mo(r,"onChange"),0<r.length&&(l=new xa("onChange","change",null,l,c),n.push({event:l,listeners:r}))}var gs=null,ms=null;function Kp(n){id(n,0)}function Io(n){var r=yr(n);if(Sn(r))return n}function Zp(n,r){if(n==="change")return r}var jh=!1;if(h){var Ta;if(h){var Ia="oninput"in document;if(!Ia){var Xh=document.createElement("div");Xh.setAttribute("oninput","return;"),Ia=typeof Xh.oninput=="function"}Ta=Ia}else Ta=!1;jh=Ta&&(!document.documentMode||9<document.documentMode)}function Yh(){gs&&(gs.detachEvent("onpropertychange",Uh),ms=gs=null)}function Uh(n){if(n.propertyName==="value"&&Io(ms)){var r=[];Wh(r,ms,n,Mi(n)),st(Kp,r)}}function Hp(n,r,l){n==="focusin"?(Yh(),gs=r,ms=l,gs.attachEvent("onpropertychange",Uh)):n==="focusout"&&Yh()}function bp(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Io(ms)}function $p(n,r){if(n==="click")return Io(r)}function qp(n,r){if(n==="input"||n==="change")return Io(r)}function Qp(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Qt=typeof Object.is=="function"?Object.is:Qp;function ps(n,r){if(Qt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!d.call(r,f)||!Qt(n[f],r[f]))return!1}return!0}function Bh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vh(n,r){var l=Bh(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=r&&c>=r)return{node:l,offset:r-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bh(l)}}function Kh(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Kh(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Zh(){for(var n=window,r=Rn();r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=Rn(n.document)}return r}function La(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Jp(n){var r=Zh(),l=n.focusedElem,c=n.selectionRange;if(r!==l&&l&&l.ownerDocument&&Kh(l.ownerDocument.documentElement,l)){if(c!==null&&La(l)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(n,l.value.length);else if(n=(r=l.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var f=l.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!n.extend&&g>c&&(f=c,c=g,g=f),f=Vh(l,g);var y=Vh(l,c);f&&y&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==y.node||n.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),n.removeAllRanges(),g>c?(n.addRange(r),n.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),n.addRange(r)))}}for(r=[],n=l;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)n=r[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var e_=h&&"documentMode"in document&&11>=document.documentMode,gr=null,ka=null,_s=null,Pa=!1;function Hh(n,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pa||gr==null||gr!==Rn(c)||(c=gr,"selectionStart"in c&&La(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_s&&ps(_s,c)||(_s=c,c=Mo(ka,"onSelect"),0<c.length&&(r=new xa("onSelect","select",null,r,l),n.push({event:r,listeners:c}),r.target=gr)))}function Lo(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var mr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},Ma={},bh={};h&&(bh=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function ko(n){if(Ma[n])return Ma[n];if(!mr[n])return n;var r=mr[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in bh)return Ma[n]=r[l];return n}var $h=ko("animationend"),qh=ko("animationiteration"),Qh=ko("animationstart"),Jh=ko("transitionend"),ed=new Map,td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(n,r){ed.set(n,r),a(r,[n])}for(var Oa=0;Oa<td.length;Oa++){var Aa=td[Oa],t_=Aa.toLowerCase(),n_=Aa[0].toUpperCase()+Aa.slice(1);ti(t_,"on"+n_)}ti($h,"onAnimationEnd"),ti(qh,"onAnimationIteration"),ti(Qh,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Jh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function nd(n,r,l){var c=n.type||"unknown-event";n.currentTarget=l,tp(c,r,void 0,n),n.currentTarget=null}function id(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],f=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var y=c.length-1;0<=y;y--){var C=c[y],S=C.instance,D=C.currentTarget;if(C=C.listener,S!==g&&f.isPropagationStopped())break e;nd(f,C,D),g=S}else for(y=0;y<c.length;y++){if(C=c[y],S=C.instance,D=C.currentTarget,C=C.listener,S!==g&&f.isPropagationStopped())break e;nd(f,C,D),g=S}}}if(fo)throw n=ca,fo=!1,ca=null,n}function Pe(n,r){var l=r[Xa];l===void 0&&(l=r[Xa]=new Set);var c=n+"__bubble";l.has(c)||(rd(r,n,2,!1),l.add(c))}function Fa(n,r,l){var c=0;r&&(c|=4),rd(l,n,c,r)}var Po="_reactListening"+Math.random().toString(36).slice(2);function vs(n){if(!n[Po]){n[Po]=!0,i.forEach(function(l){l!=="selectionchange"&&(i_.has(l)||Fa(l,!1,n),Fa(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Po]||(r[Po]=!0,Fa("selectionchange",!1,r))}}function rd(n,r,l,c){switch(Ih(r)){case 1:var f=_p;break;case 4:f=yp;break;default:f=_a}l=f.bind(null,r,l,n),f=void 0,!bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(r,l,{capture:!0,passive:f}):n.addEventListener(r,l,!0):f!==void 0?n.addEventListener(r,l,{passive:f}):n.addEventListener(r,l,!1)}function Da(n,r,l,c,f){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(y===4)for(y=c.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===f||S.nodeType===8&&S.parentNode===f))return;y=y.return}for(;C!==null;){if(y=Ai(C),y===null)return;if(S=y.tag,S===5||S===6){c=g=y;continue e}C=C.parentNode}}c=c.return}st(function(){var D=g,W=Mi(l),j=[];e:{var G=ed.get(n);if(G!==void 0){var H=xa,Q=n;switch(n){case"keypress":if(So(l)===0)break e;case"keydown":case"keyup":H=Ap;break;case"focusin":Q="focus",H=wa;break;case"focusout":Q="blur",H=wa;break;case"beforeblur":case"afterblur":H=wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Np;break;case $h:case qh:case Qh:H=Sp;break;case Jh:H=Gp;break;case"scroll":H=vp;break;case"wheel":H=jp;break;case"copy":case"cut":case"paste":H=Tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Oh}var ee=(r&4)!==0,Ye=!ee&&n==="scroll",P=ee?G!==null?G+"Capture":null:G;ee=[];for(var T=D,O;T!==null;){O=T;var U=O.stateNode;if(O.tag===5&&U!==null&&(O=U,P!==null&&(U=un(T,P),U!=null&&ee.push(xs(T,U,O)))),Ye)break;T=T.return}0<ee.length&&(G=new H(G,Q,null,l,W),j.push({event:G,listeners:ee}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",G&&l!==ur&&(Q=l.relatedTarget||l.fromElement)&&(Ai(Q)||Q[Pn]))break e;if((H||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,H?(Q=l.relatedTarget||l.toElement,H=D,Q=Q?Ai(Q):null,Q!==null&&(Ye=Oi(Q),Q!==Ye||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(H=null,Q=D),H!==Q)){if(ee=Ph,U="onMouseLeave",P="onMouseEnter",T="mouse",(n==="pointerout"||n==="pointerover")&&(ee=Oh,U="onPointerLeave",P="onPointerEnter",T="pointer"),Ye=H==null?G:yr(H),O=Q==null?G:yr(Q),G=new ee(U,T+"leave",H,l,W),G.target=Ye,G.relatedTarget=O,U=null,Ai(W)===D&&(ee=new ee(P,T+"enter",Q,l,W),ee.target=O,ee.relatedTarget=Ye,U=ee),Ye=U,H&&Q)t:{for(ee=H,P=Q,T=0,O=ee;O;O=pr(O))T++;for(O=0,U=P;U;U=pr(U))O++;for(;0<T-O;)ee=pr(ee),T--;for(;0<O-T;)P=pr(P),O--;for(;T--;){if(ee===P||P!==null&&ee===P.alternate)break t;ee=pr(ee),P=pr(P)}ee=null}else ee=null;H!==null&&sd(j,G,H,ee,!1),Q!==null&&Ye!==null&&sd(j,Ye,Q,ee,!0)}}e:{if(G=D?yr(D):window,H=G.nodeName&&G.nodeName.toLowerCase(),H==="select"||H==="input"&&G.type==="file")var ie=Zp;else if(Gh(G))if(jh)ie=qp;else{ie=bp;var le=Hp}else(H=G.nodeName)&&H.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ie=$p);if(ie&&(ie=ie(n,D))){Wh(j,ie,l,W);break e}le&&le(n,G,D),n==="focusout"&&(le=G._wrapperState)&&le.controlled&&G.type==="number"&&Hn(G,"number",G.value)}switch(le=D?yr(D):window,n){case"focusin":(Gh(le)||le.contentEditable==="true")&&(gr=le,ka=D,_s=null);break;case"focusout":_s=ka=gr=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Hh(j,l,W);break;case"selectionchange":if(e_)break;case"keydown":case"keyup":Hh(j,l,W)}var ae;if(Ra)e:{switch(n){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else fr?Nh(n,l)&&(fe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(fe="onCompositionStart");fe&&(Ah&&l.locale!=="ko"&&(fr||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&fr&&(ae=Lh()):(ei=W,va="value"in ei?ei.value:ei.textContent,fr=!0)),le=Mo(D,fe),0<le.length&&(fe=new Mh(fe,n,null,l,W),j.push({event:fe,listeners:le}),ae?fe.data=ae:(ae=zh(l),ae!==null&&(fe.data=ae)))),(ae=Yp?Up(n,l):Bp(n,l))&&(D=Mo(D,"onBeforeInput"),0<D.length&&(W=new Mh("onBeforeInput","beforeinput",null,l,W),j.push({event:W,listeners:D}),W.data=ae))}id(j,r)})}function xs(n,r,l){return{instance:n,listener:r,currentTarget:l}}function Mo(n,r){for(var l=r+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=un(n,l),g!=null&&c.unshift(xs(n,g,f)),g=un(n,r),g!=null&&c.push(xs(n,g,f))),n=n.return}return c}function pr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sd(n,r,l,c,f){for(var g=r._reactName,y=[];l!==null&&l!==c;){var C=l,S=C.alternate,D=C.stateNode;if(S!==null&&S===c)break;C.tag===5&&D!==null&&(C=D,f?(S=un(l,g),S!=null&&y.unshift(xs(l,S,C))):f||(S=un(l,g),S!=null&&y.push(xs(l,S,C)))),l=l.return}y.length!==0&&n.push({event:r,listeners:y})}var r_=/\r\n?/g,s_=/\u0000|\uFFFD/g;function od(n){return(typeof n=="string"?n:""+n).replace(r_,`
`).replace(s_,"")}function Oo(n,r,l){if(r=od(r),od(n)!==r&&l)throw Error(t(425))}function Ao(){}var Na=null,za=null;function Ga(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,l_=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(n){return ld.resolve(null).then(n).catch(a_)}:Wa;function a_(n){setTimeout(function(){throw n})}function ja(n,r){var l=r,c=0;do{var f=l.nextSibling;if(n.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(c===0){n.removeChild(f),cs(r);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=f}while(l);cs(r)}function ni(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function ad(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return n;r--}else l==="/$"&&r++}n=n.previousSibling}return null}var _r=Math.random().toString(36).slice(2),hn="__reactFiber$"+_r,Es="__reactProps$"+_r,Pn="__reactContainer$"+_r,Xa="__reactEvents$"+_r,u_="__reactListeners$"+_r,c_="__reactHandles$"+_r;function Ai(n){var r=n[hn];if(r)return r;for(var l=n.parentNode;l;){if(r=l[Pn]||l[hn]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=ad(n);n!==null;){if(l=n[hn])return l;n=ad(n)}return r}n=l,l=n.parentNode}return null}function Cs(n){return n=n[hn]||n[Pn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function yr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Fo(n){return n[Es]||null}var Ya=[],vr=-1;function ii(n){return{current:n}}function Me(n){0>vr||(n.current=Ya[vr],Ya[vr]=null,vr--)}function ke(n,r){vr++,Ya[vr]=n.current,n.current=r}var ri={},ot=ii(ri),xt=ii(!1),Fi=ri;function xr(n,r){var l=n.type.contextTypes;if(!l)return ri;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=r[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=f),f}function Et(n){return n=n.childContextTypes,n!=null}function Do(){Me(xt),Me(ot)}function ud(n,r,l){if(ot.current!==ri)throw Error(t(168));ke(ot,r),ke(xt,l)}function cd(n,r,l){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(t(108,xe(n)||"Unknown",f));return X({},l,c)}function No(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ri,Fi=ot.current,ke(ot,n),ke(xt,xt.current),!0}function hd(n,r,l){var c=n.stateNode;if(!c)throw Error(t(169));l?(n=cd(n,r,Fi),c.__reactInternalMemoizedMergedChildContext=n,Me(xt),Me(ot),ke(ot,n)):Me(xt),ke(xt,l)}var Mn=null,zo=!1,Ua=!1;function dd(n){Mn===null?Mn=[n]:Mn.push(n)}function h_(n){zo=!0,dd(n)}function si(){if(!Ua&&Mn!==null){Ua=!0;var n=0,r=Ie;try{var l=Mn;for(Ie=1;n<l.length;n++){var c=l[n];do c=c(!0);while(c!==null)}Mn=null,zo=!1}catch(f){throw Mn!==null&&(Mn=Mn.slice(n+1)),gh(ha,si),f}finally{Ie=r,Ua=!1}}return null}var Er=[],Cr=0,Go=null,Wo=0,Xt=[],Yt=0,Di=null,On=1,An="";function Ni(n,r){Er[Cr++]=Wo,Er[Cr++]=Go,Go=n,Wo=r}function fd(n,r,l){Xt[Yt++]=On,Xt[Yt++]=An,Xt[Yt++]=Di,Di=n;var c=On;n=An;var f=32-qt(c)-1;c&=~(1<<f),l+=1;var g=32-qt(r)+f;if(30<g){var y=f-f%5;g=(c&(1<<y)-1).toString(32),c>>=y,f-=y,On=1<<32-qt(r)+f|l<<f|c,An=g+n}else On=1<<g|l<<f|c,An=n}function Ba(n){n.return!==null&&(Ni(n,1),fd(n,1,0))}function Va(n){for(;n===Go;)Go=Er[--Cr],Er[Cr]=null,Wo=Er[--Cr],Er[Cr]=null;for(;n===Di;)Di=Xt[--Yt],Xt[Yt]=null,An=Xt[--Yt],Xt[Yt]=null,On=Xt[--Yt],Xt[Yt]=null}var Ot=null,At=null,Fe=!1,Jt=null;function gd(n,r){var l=Kt(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=n,r=n.deletions,r===null?(n.deletions=[l],n.flags|=16):r.push(l)}function md(n,r){switch(n.tag){case 5:var l=n.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,Ot=n,At=ni(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,Ot=n,At=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=Di!==null?{id:On,overflow:An}:null,n.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=Kt(18,null,null,0),l.stateNode=r,l.return=n,n.child=l,Ot=n,At=null,!0):!1;default:return!1}}function Ka(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Za(n){if(Fe){var r=At;if(r){var l=r;if(!md(n,r)){if(Ka(n))throw Error(t(418));r=ni(l.nextSibling);var c=Ot;r&&md(n,r)?gd(c,l):(n.flags=n.flags&-4097|2,Fe=!1,Ot=n)}}else{if(Ka(n))throw Error(t(418));n.flags=n.flags&-4097|2,Fe=!1,Ot=n}}}function pd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ot=n}function jo(n){if(n!==Ot)return!1;if(!Fe)return pd(n),Fe=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Ga(n.type,n.memoizedProps)),r&&(r=At)){if(Ka(n))throw _d(),Error(t(418));for(;r;)gd(n,r),r=ni(r.nextSibling)}if(pd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(r===0){At=ni(n.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}n=n.nextSibling}At=null}}else At=Ot?ni(n.stateNode.nextSibling):null;return!0}function _d(){for(var n=At;n;)n=ni(n.nextSibling)}function wr(){At=Ot=null,Fe=!1}function Ha(n){Jt===null?Jt=[n]:Jt.push(n)}var d_=A.ReactCurrentBatchConfig;function ws(n,r,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var c=l.stateNode}if(!c)throw Error(t(147,n));var f=c,g=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(y){var C=f.refs;y===null?delete C[g]:C[g]=y},r._stringRef=g,r)}if(typeof n!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,n))}return n}function Xo(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function yd(n){var r=n._init;return r(n._payload)}function vd(n){function r(P,T){if(n){var O=P.deletions;O===null?(P.deletions=[T],P.flags|=16):O.push(T)}}function l(P,T){if(!n)return null;for(;T!==null;)r(P,T),T=T.sibling;return null}function c(P,T){for(P=new Map;T!==null;)T.key!==null?P.set(T.key,T):P.set(T.index,T),T=T.sibling;return P}function f(P,T){return P=fi(P,T),P.index=0,P.sibling=null,P}function g(P,T,O){return P.index=O,n?(O=P.alternate,O!==null?(O=O.index,O<T?(P.flags|=2,T):O):(P.flags|=2,T)):(P.flags|=1048576,T)}function y(P){return n&&P.alternate===null&&(P.flags|=2),P}function C(P,T,O,U){return T===null||T.tag!==6?(T=Wu(O,P.mode,U),T.return=P,T):(T=f(T,O),T.return=P,T)}function S(P,T,O,U){var ie=O.type;return ie===Z?W(P,T,O.props.children,U,O.key):T!==null&&(T.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&yd(ie)===T.type)?(U=f(T,O.props),U.ref=ws(P,T,O),U.return=P,U):(U=hl(O.type,O.key,O.props,null,P.mode,U),U.ref=ws(P,T,O),U.return=P,U)}function D(P,T,O,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=ju(O,P.mode,U),T.return=P,T):(T=f(T,O.children||[]),T.return=P,T)}function W(P,T,O,U,ie){return T===null||T.tag!==7?(T=Bi(O,P.mode,U,ie),T.return=P,T):(T=f(T,O),T.return=P,T)}function j(P,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Wu(""+T,P.mode,O),T.return=P,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case z:return O=hl(T.type,T.key,T.props,null,P.mode,O),O.ref=ws(P,null,T),O.return=P,O;case B:return T=ju(T,P.mode,O),T.return=P,T;case J:var U=T._init;return j(P,U(T._payload),O)}if(zt(T)||K(T))return T=Bi(T,P.mode,O,null),T.return=P,T;Xo(P,T)}return null}function G(P,T,O,U){var ie=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ie!==null?null:C(P,T,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return O.key===ie?S(P,T,O,U):null;case B:return O.key===ie?D(P,T,O,U):null;case J:return ie=O._init,G(P,T,ie(O._payload),U)}if(zt(O)||K(O))return ie!==null?null:W(P,T,O,U,null);Xo(P,O)}return null}function H(P,T,O,U,ie){if(typeof U=="string"&&U!==""||typeof U=="number")return P=P.get(O)||null,C(T,P,""+U,ie);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return P=P.get(U.key===null?O:U.key)||null,S(T,P,U,ie);case B:return P=P.get(U.key===null?O:U.key)||null,D(T,P,U,ie);case J:var le=U._init;return H(P,T,O,le(U._payload),ie)}if(zt(U)||K(U))return P=P.get(O)||null,W(T,P,U,ie,null);Xo(T,U)}return null}function Q(P,T,O,U){for(var ie=null,le=null,ae=T,fe=T=0,Je=null;ae!==null&&fe<O.length;fe++){ae.index>fe?(Je=ae,ae=null):Je=ae.sibling;var Se=G(P,ae,O[fe],U);if(Se===null){ae===null&&(ae=Je);break}n&&ae&&Se.alternate===null&&r(P,ae),T=g(Se,T,fe),le===null?ie=Se:le.sibling=Se,le=Se,ae=Je}if(fe===O.length)return l(P,ae),Fe&&Ni(P,fe),ie;if(ae===null){for(;fe<O.length;fe++)ae=j(P,O[fe],U),ae!==null&&(T=g(ae,T,fe),le===null?ie=ae:le.sibling=ae,le=ae);return Fe&&Ni(P,fe),ie}for(ae=c(P,ae);fe<O.length;fe++)Je=H(ae,P,fe,O[fe],U),Je!==null&&(n&&Je.alternate!==null&&ae.delete(Je.key===null?fe:Je.key),T=g(Je,T,fe),le===null?ie=Je:le.sibling=Je,le=Je);return n&&ae.forEach(function(gi){return r(P,gi)}),Fe&&Ni(P,fe),ie}function ee(P,T,O,U){var ie=K(O);if(typeof ie!="function")throw Error(t(150));if(O=ie.call(O),O==null)throw Error(t(151));for(var le=ie=null,ae=T,fe=T=0,Je=null,Se=O.next();ae!==null&&!Se.done;fe++,Se=O.next()){ae.index>fe?(Je=ae,ae=null):Je=ae.sibling;var gi=G(P,ae,Se.value,U);if(gi===null){ae===null&&(ae=Je);break}n&&ae&&gi.alternate===null&&r(P,ae),T=g(gi,T,fe),le===null?ie=gi:le.sibling=gi,le=gi,ae=Je}if(Se.done)return l(P,ae),Fe&&Ni(P,fe),ie;if(ae===null){for(;!Se.done;fe++,Se=O.next())Se=j(P,Se.value,U),Se!==null&&(T=g(Se,T,fe),le===null?ie=Se:le.sibling=Se,le=Se);return Fe&&Ni(P,fe),ie}for(ae=c(P,ae);!Se.done;fe++,Se=O.next())Se=H(ae,P,fe,Se.value,U),Se!==null&&(n&&Se.alternate!==null&&ae.delete(Se.key===null?fe:Se.key),T=g(Se,T,fe),le===null?ie=Se:le.sibling=Se,le=Se);return n&&ae.forEach(function(V_){return r(P,V_)}),Fe&&Ni(P,fe),ie}function Ye(P,T,O,U){if(typeof O=="object"&&O!==null&&O.type===Z&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case z:e:{for(var ie=O.key,le=T;le!==null;){if(le.key===ie){if(ie=O.type,ie===Z){if(le.tag===7){l(P,le.sibling),T=f(le,O.props.children),T.return=P,P=T;break e}}else if(le.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&yd(ie)===le.type){l(P,le.sibling),T=f(le,O.props),T.ref=ws(P,le,O),T.return=P,P=T;break e}l(P,le);break}else r(P,le);le=le.sibling}O.type===Z?(T=Bi(O.props.children,P.mode,U,O.key),T.return=P,P=T):(U=hl(O.type,O.key,O.props,null,P.mode,U),U.ref=ws(P,T,O),U.return=P,P=U)}return y(P);case B:e:{for(le=O.key;T!==null;){if(T.key===le)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){l(P,T.sibling),T=f(T,O.children||[]),T.return=P,P=T;break e}else{l(P,T);break}else r(P,T);T=T.sibling}T=ju(O,P.mode,U),T.return=P,P=T}return y(P);case J:return le=O._init,Ye(P,T,le(O._payload),U)}if(zt(O))return Q(P,T,O,U);if(K(O))return ee(P,T,O,U);Xo(P,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,T!==null&&T.tag===6?(l(P,T.sibling),T=f(T,O),T.return=P,P=T):(l(P,T),T=Wu(O,P.mode,U),T.return=P,P=T),y(P)):l(P,T)}return Ye}var Sr=vd(!0),xd=vd(!1),Yo=ii(null),Uo=null,Rr=null,ba=null;function $a(){ba=Rr=Uo=null}function qa(n){var r=Yo.current;Me(Yo),n._currentValue=r}function Qa(n,r,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===l)break;n=n.return}}function Tr(n,r){Uo=n,ba=Rr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Ct=!0),n.firstContext=null)}function Ut(n){var r=n._currentValue;if(ba!==n)if(n={context:n,memoizedValue:r,next:null},Rr===null){if(Uo===null)throw Error(t(308));Rr=n,Uo.dependencies={lanes:0,firstContext:n}}else Rr=Rr.next=n;return r}var zi=null;function Ja(n){zi===null?zi=[n]:zi.push(n)}function Ed(n,r,l,c){var f=r.interleaved;return f===null?(l.next=l,Ja(r)):(l.next=f.next,f.next=l),r.interleaved=l,Fn(n,c)}function Fn(n,r){n.lanes|=r;var l=n.alternate;for(l!==null&&(l.lanes|=r),l=n,n=n.return;n!==null;)n.childLanes|=r,l=n.alternate,l!==null&&(l.childLanes|=r),l=n,n=n.return;return l.tag===3?l.stateNode:null}var oi=!1;function eu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Dn(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function li(n,r,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ce&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,Fn(n,l)}return f=c.interleaved,f===null?(r.next=r,Ja(c)):(r.next=f.next,f.next=r),c.interleaved=r,Fn(n,l)}function Bo(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,l|=c,r.lanes=l,ga(n,l)}}function wd(n,r){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var y={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=y:g=g.next=y,l=l.next}while(l!==null);g===null?f=g=r:g=g.next=r}else f=g=r;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}function Vo(n,r,l,c){var f=n.updateQueue;oi=!1;var g=f.firstBaseUpdate,y=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var S=C,D=S.next;S.next=null,y===null?g=D:y.next=D,y=S;var W=n.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==y&&(C===null?W.firstBaseUpdate=D:C.next=D,W.lastBaseUpdate=S))}if(g!==null){var j=f.baseState;y=0,W=D=S=null,C=g;do{var G=C.lane,H=C.eventTime;if((c&G)===G){W!==null&&(W=W.next={eventTime:H,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Q=n,ee=C;switch(G=r,H=l,ee.tag){case 1:if(Q=ee.payload,typeof Q=="function"){j=Q.call(H,j,G);break e}j=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ee.payload,G=typeof Q=="function"?Q.call(H,j,G):Q,G==null)break e;j=X({},j,G);break e;case 2:oi=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,G=f.effects,G===null?f.effects=[C]:G.push(C))}else H={eventTime:H,lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(D=W=H,S=j):W=W.next=H,y|=G;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;G=C,C=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(W===null&&(S=j),f.baseState=S,f.firstBaseUpdate=D,f.lastBaseUpdate=W,r=f.shared.interleaved,r!==null){f=r;do y|=f.lane,f=f.next;while(f!==r)}else g===null&&(f.shared.lanes=0);ji|=y,n.lanes=y,n.memoizedState=j}}function Sd(n,r,l){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],f=c.callback;if(f!==null){if(c.callback=null,c=l,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Ss={},dn=ii(Ss),Rs=ii(Ss),Ts=ii(Ss);function Gi(n){if(n===Ss)throw Error(t(174));return n}function tu(n,r){switch(ke(Ts,r),ke(Rs,n),ke(dn,Ss),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:$t(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=$t(r,n)}Me(dn),ke(dn,r)}function Ir(){Me(dn),Me(Rs),Me(Ts)}function Rd(n){Gi(Ts.current);var r=Gi(dn.current),l=$t(r,n.type);r!==l&&(ke(Rs,n),ke(dn,l))}function nu(n){Rs.current===n&&(Me(dn),Me(Rs))}var De=ii(0);function Ko(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var iu=[];function ru(){for(var n=0;n<iu.length;n++)iu[n]._workInProgressVersionPrimary=null;iu.length=0}var Zo=A.ReactCurrentDispatcher,su=A.ReactCurrentBatchConfig,Wi=0,Ne=null,Ze=null,qe=null,Ho=!1,Is=!1,Ls=0,f_=0;function lt(){throw Error(t(321))}function ou(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!Qt(n[l],r[l]))return!1;return!0}function lu(n,r,l,c,f,g){if(Wi=g,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Zo.current=n===null||n.memoizedState===null?__:y_,n=l(c,f),Is){g=0;do{if(Is=!1,Ls=0,25<=g)throw Error(t(301));g+=1,qe=Ze=null,r.updateQueue=null,Zo.current=v_,n=l(c,f)}while(Is)}if(Zo.current=qo,r=Ze!==null&&Ze.next!==null,Wi=0,qe=Ze=Ne=null,Ho=!1,r)throw Error(t(300));return n}function au(){var n=Ls!==0;return Ls=0,n}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ne.memoizedState=qe=n:qe=qe.next=n,qe}function Bt(){if(Ze===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=qe===null?Ne.memoizedState:qe.next;if(r!==null)qe=r,Ze=n;else{if(n===null)throw Error(t(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},qe===null?Ne.memoizedState=qe=n:qe=qe.next=n}return qe}function ks(n,r){return typeof r=="function"?r(n):r}function uu(n){var r=Bt(),l=r.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var c=Ze,f=c.baseQueue,g=l.pending;if(g!==null){if(f!==null){var y=f.next;f.next=g.next,g.next=y}c.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,c=c.baseState;var C=y=null,S=null,D=g;do{var W=D.lane;if((Wi&W)===W)S!==null&&(S=S.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),c=D.hasEagerState?D.eagerState:n(c,D.action);else{var j={lane:W,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};S===null?(C=S=j,y=c):S=S.next=j,Ne.lanes|=W,ji|=W}D=D.next}while(D!==null&&D!==g);S===null?y=c:S.next=C,Qt(c,r.memoizedState)||(Ct=!0),r.memoizedState=c,r.baseState=y,r.baseQueue=S,l.lastRenderedState=c}if(n=l.interleaved,n!==null){f=n;do g=f.lane,Ne.lanes|=g,ji|=g,f=f.next;while(f!==n)}else f===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function cu(n){var r=Bt(),l=r.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var c=l.dispatch,f=l.pending,g=r.memoizedState;if(f!==null){l.pending=null;var y=f=f.next;do g=n(g,y.action),y=y.next;while(y!==f);Qt(g,r.memoizedState)||(Ct=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),l.lastRenderedState=g}return[g,c]}function Td(){}function Id(n,r){var l=Ne,c=Bt(),f=r(),g=!Qt(c.memoizedState,f);if(g&&(c.memoizedState=f,Ct=!0),c=c.queue,hu(Pd.bind(null,l,c,n),[n]),c.getSnapshot!==r||g||qe!==null&&qe.memoizedState.tag&1){if(l.flags|=2048,Ps(9,kd.bind(null,l,c,f,r),void 0,null),Qe===null)throw Error(t(349));(Wi&30)!==0||Ld(l,r,f)}return f}function Ld(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=Ne.updateQueue,r===null?(r={lastEffect:null,stores:null},Ne.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function kd(n,r,l,c){r.value=l,r.getSnapshot=c,Md(r)&&Od(n)}function Pd(n,r,l){return l(function(){Md(r)&&Od(n)})}function Md(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!Qt(n,l)}catch{return!0}}function Od(n){var r=Fn(n,1);r!==null&&rn(r,n,1,-1)}function Ad(n){var r=fn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:n},r.queue=n,n=n.dispatch=p_.bind(null,Ne,n),[r.memoizedState,n]}function Ps(n,r,l,c){return n={tag:n,create:r,destroy:l,deps:c,next:null},r=Ne.updateQueue,r===null?(r={lastEffect:null,stores:null},Ne.updateQueue=r,r.lastEffect=n.next=n):(l=r.lastEffect,l===null?r.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,r.lastEffect=n)),n}function Fd(){return Bt().memoizedState}function bo(n,r,l,c){var f=fn();Ne.flags|=n,f.memoizedState=Ps(1|r,l,void 0,c===void 0?null:c)}function $o(n,r,l,c){var f=Bt();c=c===void 0?null:c;var g=void 0;if(Ze!==null){var y=Ze.memoizedState;if(g=y.destroy,c!==null&&ou(c,y.deps)){f.memoizedState=Ps(r,l,g,c);return}}Ne.flags|=n,f.memoizedState=Ps(1|r,l,g,c)}function Dd(n,r){return bo(8390656,8,n,r)}function hu(n,r){return $o(2048,8,n,r)}function Nd(n,r){return $o(4,2,n,r)}function zd(n,r){return $o(4,4,n,r)}function Gd(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Wd(n,r,l){return l=l!=null?l.concat([n]):null,$o(4,4,Gd.bind(null,r,n),l)}function du(){}function jd(n,r){var l=Bt();r=r===void 0?null:r;var c=l.memoizedState;return c!==null&&r!==null&&ou(r,c[1])?c[0]:(l.memoizedState=[n,r],n)}function Xd(n,r){var l=Bt();r=r===void 0?null:r;var c=l.memoizedState;return c!==null&&r!==null&&ou(r,c[1])?c[0]:(n=n(),l.memoizedState=[n,r],n)}function Yd(n,r,l){return(Wi&21)===0?(n.baseState&&(n.baseState=!1,Ct=!0),n.memoizedState=l):(Qt(l,r)||(l=yh(),Ne.lanes|=l,ji|=l,n.baseState=!0),r)}function g_(n,r){var l=Ie;Ie=l!==0&&4>l?l:4,n(!0);var c=su.transition;su.transition={};try{n(!1),r()}finally{Ie=l,su.transition=c}}function Ud(){return Bt().memoizedState}function m_(n,r,l){var c=hi(n);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Bd(n))Vd(r,l);else if(l=Ed(n,r,l,c),l!==null){var f=pt();rn(l,n,c,f),Kd(l,r,c)}}function p_(n,r,l){var c=hi(n),f={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bd(n))Vd(r,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var y=r.lastRenderedState,C=g(y,l);if(f.hasEagerState=!0,f.eagerState=C,Qt(C,y)){var S=r.interleaved;S===null?(f.next=f,Ja(r)):(f.next=S.next,S.next=f),r.interleaved=f;return}}catch{}finally{}l=Ed(n,r,f,c),l!==null&&(f=pt(),rn(l,n,c,f),Kd(l,r,c))}}function Bd(n){var r=n.alternate;return n===Ne||r!==null&&r===Ne}function Vd(n,r){Is=Ho=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function Kd(n,r,l){if((l&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,l|=c,r.lanes=l,ga(n,l)}}var qo={readContext:Ut,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},__={readContext:Ut,useCallback:function(n,r){return fn().memoizedState=[n,r===void 0?null:r],n},useContext:Ut,useEffect:Dd,useImperativeHandle:function(n,r,l){return l=l!=null?l.concat([n]):null,bo(4194308,4,Gd.bind(null,r,n),l)},useLayoutEffect:function(n,r){return bo(4194308,4,n,r)},useInsertionEffect:function(n,r){return bo(4,2,n,r)},useMemo:function(n,r){var l=fn();return r=r===void 0?null:r,n=n(),l.memoizedState=[n,r],n},useReducer:function(n,r,l){var c=fn();return r=l!==void 0?l(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=m_.bind(null,Ne,n),[c.memoizedState,n]},useRef:function(n){var r=fn();return n={current:n},r.memoizedState=n},useState:Ad,useDebugValue:du,useDeferredValue:function(n){return fn().memoizedState=n},useTransition:function(){var n=Ad(!1),r=n[0];return n=g_.bind(null,n[1]),fn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,l){var c=Ne,f=fn();if(Fe){if(l===void 0)throw Error(t(407));l=l()}else{if(l=r(),Qe===null)throw Error(t(349));(Wi&30)!==0||Ld(c,r,l)}f.memoizedState=l;var g={value:l,getSnapshot:r};return f.queue=g,Dd(Pd.bind(null,c,g,n),[n]),c.flags|=2048,Ps(9,kd.bind(null,c,g,l,r),void 0,null),l},useId:function(){var n=fn(),r=Qe.identifierPrefix;if(Fe){var l=An,c=On;l=(c&~(1<<32-qt(c)-1)).toString(32)+l,r=":"+r+"R"+l,l=Ls++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=f_++,r=":"+r+"r"+l.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},y_={readContext:Ut,useCallback:jd,useContext:Ut,useEffect:hu,useImperativeHandle:Wd,useInsertionEffect:Nd,useLayoutEffect:zd,useMemo:Xd,useReducer:uu,useRef:Fd,useState:function(){return uu(ks)},useDebugValue:du,useDeferredValue:function(n){var r=Bt();return Yd(r,Ze.memoizedState,n)},useTransition:function(){var n=uu(ks)[0],r=Bt().memoizedState;return[n,r]},useMutableSource:Td,useSyncExternalStore:Id,useId:Ud,unstable_isNewReconciler:!1},v_={readContext:Ut,useCallback:jd,useContext:Ut,useEffect:hu,useImperativeHandle:Wd,useInsertionEffect:Nd,useLayoutEffect:zd,useMemo:Xd,useReducer:cu,useRef:Fd,useState:function(){return cu(ks)},useDebugValue:du,useDeferredValue:function(n){var r=Bt();return Ze===null?r.memoizedState=n:Yd(r,Ze.memoizedState,n)},useTransition:function(){var n=cu(ks)[0],r=Bt().memoizedState;return[n,r]},useMutableSource:Td,useSyncExternalStore:Id,useId:Ud,unstable_isNewReconciler:!1};function en(n,r){if(n&&n.defaultProps){r=X({},r),n=n.defaultProps;for(var l in n)r[l]===void 0&&(r[l]=n[l]);return r}return r}function fu(n,r,l,c){r=n.memoizedState,l=l(c,r),l=l==null?r:X({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Qo={isMounted:function(n){return(n=n._reactInternals)?Oi(n)===n:!1},enqueueSetState:function(n,r,l){n=n._reactInternals;var c=pt(),f=hi(n),g=Dn(c,f);g.payload=r,l!=null&&(g.callback=l),r=li(n,g,f),r!==null&&(rn(r,n,f,c),Bo(r,n,f))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var c=pt(),f=hi(n),g=Dn(c,f);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=li(n,g,f),r!==null&&(rn(r,n,f,c),Bo(r,n,f))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=pt(),c=hi(n),f=Dn(l,c);f.tag=2,r!=null&&(f.callback=r),r=li(n,f,c),r!==null&&(rn(r,n,c,l),Bo(r,n,c))}};function Zd(n,r,l,c,f,g,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,y):r.prototype&&r.prototype.isPureReactComponent?!ps(l,c)||!ps(f,g):!0}function Hd(n,r,l){var c=!1,f=ri,g=r.contextType;return typeof g=="object"&&g!==null?g=Ut(g):(f=Et(r)?Fi:ot.current,c=r.contextTypes,g=(c=c!=null)?xr(n,f):ri),r=new r(l,g),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Qo,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),r}function bd(n,r,l,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==n&&Qo.enqueueReplaceState(r,r.state,null)}function gu(n,r,l,c){var f=n.stateNode;f.props=l,f.state=n.memoizedState,f.refs={},eu(n);var g=r.contextType;typeof g=="object"&&g!==null?f.context=Ut(g):(g=Et(r)?Fi:ot.current,f.context=xr(n,g)),f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(fu(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Qo.enqueueReplaceState(f,f.state,null),Vo(n,l,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Lr(n,r){try{var l="",c=r;do l+=ne(c),c=c.return;while(c);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:r,stack:f,digest:null}}function mu(n,r,l){return{value:n,source:null,stack:l??null,digest:r??null}}function pu(n,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var x_=typeof WeakMap=="function"?WeakMap:Map;function $d(n,r,l){l=Dn(-1,l),l.tag=3,l.payload={element:null};var c=r.value;return l.callback=function(){sl||(sl=!0,Mu=c),pu(n,r)},l}function qd(n,r,l){l=Dn(-1,l),l.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;l.payload=function(){return c(f)},l.callback=function(){pu(n,r)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){pu(n,r),typeof c!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),l}function Qd(n,r,l){var c=n.pingCache;if(c===null){c=n.pingCache=new x_;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(l)||(f.add(l),n=F_.bind(null,n,r,l),r.then(n,n))}function Jd(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function ef(n,r,l,c,f){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=Dn(-1,1),r.tag=2,li(l,r,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var E_=A.ReactCurrentOwner,Ct=!1;function mt(n,r,l,c){r.child=n===null?xd(r,null,l,c):Sr(r,n.child,l,c)}function tf(n,r,l,c,f){l=l.render;var g=r.ref;return Tr(r,f),c=lu(n,r,l,c,g,f),l=au(),n!==null&&!Ct?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~f,Nn(n,r,f)):(Fe&&l&&Ba(r),r.flags|=1,mt(n,r,c,f),r.child)}function nf(n,r,l,c,f){if(n===null){var g=l.type;return typeof g=="function"&&!Gu(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=g,rf(n,r,g,c,f)):(n=hl(l.type,null,c,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,(n.lanes&f)===0){var y=g.memoizedProps;if(l=l.compare,l=l!==null?l:ps,l(y,c)&&n.ref===r.ref)return Nn(n,r,f)}return r.flags|=1,n=fi(g,c),n.ref=r.ref,n.return=r,r.child=n}function rf(n,r,l,c,f){if(n!==null){var g=n.memoizedProps;if(ps(g,c)&&n.ref===r.ref)if(Ct=!1,r.pendingProps=c=g,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Ct=!0);else return r.lanes=n.lanes,Nn(n,r,f)}return _u(n,r,l,c,f)}function sf(n,r,l){var c=r.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Pr,Ft),Ft|=l;else{if((l&1073741824)===0)return n=g!==null?g.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,ke(Pr,Ft),Ft|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:l,ke(Pr,Ft),Ft|=c}else g!==null?(c=g.baseLanes|l,r.memoizedState=null):c=l,ke(Pr,Ft),Ft|=c;return mt(n,r,f,l),r.child}function of(n,r){var l=r.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function _u(n,r,l,c,f){var g=Et(l)?Fi:ot.current;return g=xr(r,g),Tr(r,f),l=lu(n,r,l,c,g,f),c=au(),n!==null&&!Ct?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~f,Nn(n,r,f)):(Fe&&c&&Ba(r),r.flags|=1,mt(n,r,l,f),r.child)}function lf(n,r,l,c,f){if(Et(l)){var g=!0;No(r)}else g=!1;if(Tr(r,f),r.stateNode===null)el(n,r),Hd(r,l,c),gu(r,l,c,f),c=!0;else if(n===null){var y=r.stateNode,C=r.memoizedProps;y.props=C;var S=y.context,D=l.contextType;typeof D=="object"&&D!==null?D=Ut(D):(D=Et(l)?Fi:ot.current,D=xr(r,D));var W=l.getDerivedStateFromProps,j=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function";j||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==c||S!==D)&&bd(r,y,c,D),oi=!1;var G=r.memoizedState;y.state=G,Vo(r,c,y,f),S=r.memoizedState,C!==c||G!==S||xt.current||oi?(typeof W=="function"&&(fu(r,l,W,c),S=r.memoizedState),(C=oi||Zd(r,l,C,c,G,S,D))?(j||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=S),y.props=c,y.state=S,y.context=D,c=C):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,Cd(n,r),C=r.memoizedProps,D=r.type===r.elementType?C:en(r.type,C),y.props=D,j=r.pendingProps,G=y.context,S=l.contextType,typeof S=="object"&&S!==null?S=Ut(S):(S=Et(l)?Fi:ot.current,S=xr(r,S));var H=l.getDerivedStateFromProps;(W=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==j||G!==S)&&bd(r,y,c,S),oi=!1,G=r.memoizedState,y.state=G,Vo(r,c,y,f);var Q=r.memoizedState;C!==j||G!==Q||xt.current||oi?(typeof H=="function"&&(fu(r,l,H,c),Q=r.memoizedState),(D=oi||Zd(r,l,D,c,G,Q,S)||!1)?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Q,S),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Q,S)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Q),y.props=c,y.state=Q,y.context=S,c=D):(typeof y.componentDidUpdate!="function"||C===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),c=!1)}return yu(n,r,l,c,g,f)}function yu(n,r,l,c,f,g){of(n,r);var y=(r.flags&128)!==0;if(!c&&!y)return f&&hd(r,l,!1),Nn(n,r,g);c=r.stateNode,E_.current=r;var C=y&&typeof l.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&y?(r.child=Sr(r,n.child,null,g),r.child=Sr(r,null,C,g)):mt(n,r,C,g),r.memoizedState=c.state,f&&hd(r,l,!0),r.child}function af(n){var r=n.stateNode;r.pendingContext?ud(n,r.pendingContext,r.pendingContext!==r.context):r.context&&ud(n,r.context,!1),tu(n,r.containerInfo)}function uf(n,r,l,c,f){return wr(),Ha(f),r.flags|=256,mt(n,r,l,c),r.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function xu(n){return{baseLanes:n,cachePool:null,transitions:null}}function cf(n,r,l){var c=r.pendingProps,f=De.current,g=!1,y=(r.flags&128)!==0,C;if((C=y)||(C=n!==null&&n.memoizedState===null?!1:(f&2)!==0),C?(g=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),ke(De,f&1),n===null)return Za(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=c.children,n=c.fallback,g?(c=r.mode,g=r.child,y={mode:"hidden",children:y},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=y):g=dl(y,c,0,null),n=Bi(n,c,l,null),g.return=r,n.return=r,g.sibling=n,r.child=g,r.child.memoizedState=xu(l),r.memoizedState=vu,n):Eu(r,y));if(f=n.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return C_(n,r,y,c,C,f,l);if(g){g=c.fallback,y=r.mode,f=n.child,C=f.sibling;var S={mode:"hidden",children:c.children};return(y&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=S,r.deletions=null):(c=fi(f,S),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=fi(C,g):(g=Bi(g,y,l,null),g.flags|=2),g.return=r,c.return=r,c.sibling=g,r.child=c,c=g,g=r.child,y=n.child.memoizedState,y=y===null?xu(l):{baseLanes:y.baseLanes|l,cachePool:null,transitions:y.transitions},g.memoizedState=y,g.childLanes=n.childLanes&~l,r.memoizedState=vu,c}return g=n.child,n=g.sibling,c=fi(g,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=l),c.return=r,c.sibling=null,n!==null&&(l=r.deletions,l===null?(r.deletions=[n],r.flags|=16):l.push(n)),r.child=c,r.memoizedState=null,c}function Eu(n,r){return r=dl({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Jo(n,r,l,c){return c!==null&&Ha(c),Sr(r,n.child,null,l),n=Eu(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function C_(n,r,l,c,f,g,y){if(l)return r.flags&256?(r.flags&=-257,c=mu(Error(t(422))),Jo(n,r,y,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(g=c.fallback,f=r.mode,c=dl({mode:"visible",children:c.children},f,0,null),g=Bi(g,f,y,null),g.flags|=2,c.return=r,g.return=r,c.sibling=g,r.child=c,(r.mode&1)!==0&&Sr(r,n.child,null,y),r.child.memoizedState=xu(y),r.memoizedState=vu,g);if((r.mode&1)===0)return Jo(n,r,y,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=mu(g,c,void 0),Jo(n,r,y,c)}if(C=(y&n.childLanes)!==0,Ct||C){if(c=Qe,c!==null){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|y))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Fn(n,f),rn(c,n,f,-1))}return zu(),c=mu(Error(t(421))),Jo(n,r,y,c)}return f.data==="$?"?(r.flags|=128,r.child=n.child,r=D_.bind(null,n),f._reactRetry=r,null):(n=g.treeContext,At=ni(f.nextSibling),Ot=r,Fe=!0,Jt=null,n!==null&&(Xt[Yt++]=On,Xt[Yt++]=An,Xt[Yt++]=Di,On=n.id,An=n.overflow,Di=r),r=Eu(r,c.children),r.flags|=4096,r)}function hf(n,r,l){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Qa(n.return,r,l)}function Cu(n,r,l,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=f)}function df(n,r,l){var c=r.pendingProps,f=c.revealOrder,g=c.tail;if(mt(n,r,c.children,l),c=De.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hf(n,l,r);else if(n.tag===19)hf(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(ke(De,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(l=r.child,f=null;l!==null;)n=l.alternate,n!==null&&Ko(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=r.child,r.child=null):(f=l.sibling,l.sibling=null),Cu(r,!1,f,l,g);break;case"backwards":for(l=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ko(n)===null){r.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}Cu(r,!0,l,null,g);break;case"together":Cu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function el(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Nn(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),ji|=r.lanes,(l&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,l=fi(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=fi(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function w_(n,r,l){switch(r.tag){case 3:af(r),wr();break;case 5:Rd(r);break;case 1:Et(r.type)&&No(r);break;case 4:tu(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;ke(Yo,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(ke(De,De.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?cf(n,r,l):(ke(De,De.current&1),n=Nn(n,r,l),n!==null?n.sibling:null);ke(De,De.current&1);break;case 19:if(c=(l&r.childLanes)!==0,(n.flags&128)!==0){if(c)return df(n,r,l);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ke(De,De.current),c)break;return null;case 22:case 23:return r.lanes=0,sf(n,r,l)}return Nn(n,r,l)}var ff,wu,gf,mf;ff=function(n,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},wu=function(){},gf=function(n,r,l,c){var f=n.memoizedProps;if(f!==c){n=r.stateNode,Gi(dn.current);var g=null;switch(l){case"input":f=Nt(n,f),c=Nt(n,c),g=[];break;case"select":f=X({},f,{value:void 0}),c=X({},c,{value:void 0}),g=[];break;case"textarea":f=$e(n,f),c=$e(n,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ao)}ar(l,c);var y;l=null;for(D in f)if(!c.hasOwnProperty(D)&&f.hasOwnProperty(D)&&f[D]!=null)if(D==="style"){var C=f[D];for(y in C)C.hasOwnProperty(y)&&(l||(l={}),l[y]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(s.hasOwnProperty(D)?g||(g=[]):(g=g||[]).push(D,null));for(D in c){var S=c[D];if(C=f!=null?f[D]:void 0,c.hasOwnProperty(D)&&S!==C&&(S!=null||C!=null))if(D==="style")if(C){for(y in C)!C.hasOwnProperty(y)||S&&S.hasOwnProperty(y)||(l||(l={}),l[y]="");for(y in S)S.hasOwnProperty(y)&&C[y]!==S[y]&&(l||(l={}),l[y]=S[y])}else l||(g||(g=[]),g.push(D,l)),l=S;else D==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,C=C?C.__html:void 0,S!=null&&C!==S&&(g=g||[]).push(D,S)):D==="children"?typeof S!="string"&&typeof S!="number"||(g=g||[]).push(D,""+S):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(s.hasOwnProperty(D)?(S!=null&&D==="onScroll"&&Pe("scroll",n),g||C===S||(g=[])):(g=g||[]).push(D,S))}l&&(g=g||[]).push("style",l);var D=g;(r.updateQueue=D)&&(r.flags|=4)}},mf=function(n,r,l,c){l!==c&&(r.flags|=4)};function Ms(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function at(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(r)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=l,r}function S_(n,r,l){var c=r.pendingProps;switch(Va(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return Et(r.type)&&Do(),at(r),null;case 3:return c=r.stateNode,Ir(),Me(xt),Me(ot),ru(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(jo(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jt!==null&&(Fu(Jt),Jt=null))),wu(n,r),at(r),null;case 5:nu(r);var f=Gi(Ts.current);if(l=r.type,n!==null&&r.stateNode!=null)gf(n,r,l,c,f),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return at(r),null}if(n=Gi(dn.current),jo(r)){c=r.stateNode,l=r.type;var g=r.memoizedProps;switch(c[hn]=r,c[Es]=g,n=(r.mode&1)!==0,l){case"dialog":Pe("cancel",c),Pe("close",c);break;case"iframe":case"object":case"embed":Pe("load",c);break;case"video":case"audio":for(f=0;f<ys.length;f++)Pe(ys[f],c);break;case"source":Pe("error",c);break;case"img":case"image":case"link":Pe("error",c),Pe("load",c);break;case"details":Pe("toggle",c);break;case"input":Kn(c,g),Pe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Pe("invalid",c);break;case"textarea":dt(c,g),Pe("invalid",c)}ar(l,g),f=null;for(var y in g)if(g.hasOwnProperty(y)){var C=g[y];y==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&Oo(c.textContent,C,n),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Oo(c.textContent,C,n),f=["children",""+C]):s.hasOwnProperty(y)&&C!=null&&y==="onScroll"&&Pe("scroll",c)}switch(l){case"input":wn(c),ki(c,g,!0);break;case"textarea":wn(c),Gt(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Ao)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{y=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Tn(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=y.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=y.createElement(l,{is:c.is}):(n=y.createElement(l),l==="select"&&(y=n,c.multiple?y.multiple=!0:c.size&&(y.size=c.size))):n=y.createElementNS(n,l),n[hn]=r,n[Es]=c,ff(n,r,!1,!1),r.stateNode=n;e:{switch(y=Pi(l,c),l){case"dialog":Pe("cancel",n),Pe("close",n),f=c;break;case"iframe":case"object":case"embed":Pe("load",n),f=c;break;case"video":case"audio":for(f=0;f<ys.length;f++)Pe(ys[f],n);f=c;break;case"source":Pe("error",n),f=c;break;case"img":case"image":case"link":Pe("error",n),Pe("load",n),f=c;break;case"details":Pe("toggle",n),f=c;break;case"input":Kn(n,c),f=Nt(n,c),Pe("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=X({},c,{value:void 0}),Pe("invalid",n);break;case"textarea":dt(n,c),f=$e(n,c),Pe("invalid",n);break;default:f=c}ar(l,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var S=C[g];g==="style"?co(n,S):g==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&In(n,S)):g==="children"?typeof S=="string"?(l!=="textarea"||S!=="")&&an(n,S):typeof S=="number"&&an(n,""+S):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?S!=null&&g==="onScroll"&&Pe("scroll",n):S!=null&&F(n,g,S,y))}switch(l){case"input":wn(n),ki(n,c,!1);break;case"textarea":wn(n),Gt(n);break;case"option":c.value!=null&&n.setAttribute("value",""+de(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?ln(n,!!c.multiple,g,!1):c.defaultValue!=null&&ln(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Ao)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return at(r),null;case 6:if(n&&r.stateNode!=null)mf(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(l=Gi(Ts.current),Gi(dn.current),jo(r)){if(c=r.stateNode,l=r.memoizedProps,c[hn]=r,(g=c.nodeValue!==l)&&(n=Ot,n!==null))switch(n.tag){case 3:Oo(c.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Oo(c.nodeValue,l,(n.mode&1)!==0)}g&&(r.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[hn]=r,r.stateNode=c}return at(r),null;case 13:if(Me(De),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Fe&&At!==null&&(r.mode&1)!==0&&(r.flags&128)===0)_d(),wr(),r.flags|=98560,g=!1;else if(g=jo(r),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[hn]=r}else wr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),g=!1}else Jt!==null&&(Fu(Jt),Jt=null),g=!0;if(!g)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(De.current&1)!==0?He===0&&(He=3):zu())),r.updateQueue!==null&&(r.flags|=4),at(r),null);case 4:return Ir(),wu(n,r),n===null&&vs(r.stateNode.containerInfo),at(r),null;case 10:return qa(r.type._context),at(r),null;case 17:return Et(r.type)&&Do(),at(r),null;case 19:if(Me(De),g=r.memoizedState,g===null)return at(r),null;if(c=(r.flags&128)!==0,y=g.rendering,y===null)if(c)Ms(g,!1);else{if(He!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=Ko(n),y!==null){for(r.flags|=128,Ms(g,!1),c=y.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=l,l=r.child;l!==null;)g=l,n=c,g.flags&=14680066,y=g.alternate,y===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=y.childLanes,g.lanes=y.lanes,g.child=y.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=y.memoizedProps,g.memoizedState=y.memoizedState,g.updateQueue=y.updateQueue,g.type=y.type,n=y.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return ke(De,De.current&1|2),r.child}n=n.sibling}g.tail!==null&&Xe()>Mr&&(r.flags|=128,c=!0,Ms(g,!1),r.lanes=4194304)}else{if(!c)if(n=Ko(y),n!==null){if(r.flags|=128,c=!0,l=n.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),Ms(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Fe)return at(r),null}else 2*Xe()-g.renderingStartTime>Mr&&l!==1073741824&&(r.flags|=128,c=!0,Ms(g,!1),r.lanes=4194304);g.isBackwards?(y.sibling=r.child,r.child=y):(l=g.last,l!==null?l.sibling=y:r.child=y,g.last=y)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Xe(),r.sibling=null,l=De.current,ke(De,c?l&1|2:l&1),r):(at(r),null);case 22:case 23:return Nu(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Ft&1073741824)!==0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function R_(n,r){switch(Va(r),r.tag){case 1:return Et(r.type)&&Do(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ir(),Me(xt),Me(ot),ru(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return nu(r),null;case 13:if(Me(De),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));wr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Me(De),null;case 4:return Ir(),null;case 10:return qa(r.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var tl=!1,ut=!1,T_=typeof WeakSet=="function"?WeakSet:Set,q=null;function kr(n,r){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){ze(n,r,c)}else l.current=null}function Su(n,r,l){try{l()}catch(c){ze(n,r,c)}}var pf=!1;function I_(n,r){if(Na=Eo,n=Zh(),La(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var y=0,C=-1,S=-1,D=0,W=0,j=n,G=null;t:for(;;){for(var H;j!==l||f!==0&&j.nodeType!==3||(C=y+f),j!==g||c!==0&&j.nodeType!==3||(S=y+c),j.nodeType===3&&(y+=j.nodeValue.length),(H=j.firstChild)!==null;)G=j,j=H;for(;;){if(j===n)break t;if(G===l&&++D===f&&(C=y),G===g&&++W===c&&(S=y),(H=j.nextSibling)!==null)break;j=G,G=j.parentNode}j=H}l=C===-1||S===-1?null:{start:C,end:S}}else l=null}l=l||{start:0,end:0}}else l=null;for(za={focusedElem:n,selectionRange:l},Eo=!1,q=r;q!==null;)if(r=q,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,q=n;else for(;q!==null;){r=q;try{var Q=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var ee=Q.memoizedProps,Ye=Q.memoizedState,P=r.stateNode,T=P.getSnapshotBeforeUpdate(r.elementType===r.type?ee:en(r.type,ee),Ye);P.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(U){ze(r,r.return,U)}if(n=r.sibling,n!==null){n.return=r.return,q=n;break}q=r.return}return Q=pf,pf=!1,Q}function Os(n,r,l){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&Su(r,l,g)}f=f.next}while(f!==c)}}function nl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&n)===n){var c=l.create;l.destroy=c()}l=l.next}while(l!==r)}}function Ru(n){var r=n.ref;if(r!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof r=="function"?r(n):r.current=n}}function _f(n){var r=n.alternate;r!==null&&(n.alternate=null,_f(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[hn],delete r[Es],delete r[Xa],delete r[u_],delete r[c_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function yf(n){return n.tag===5||n.tag===3||n.tag===4}function vf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||yf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tu(n,r,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(n,r):l.insertBefore(n,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(n,l)):(r=l,r.appendChild(n)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Ao));else if(c!==4&&(n=n.child,n!==null))for(Tu(n,r,l),n=n.sibling;n!==null;)Tu(n,r,l),n=n.sibling}function Iu(n,r,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Iu(n,r,l),n=n.sibling;n!==null;)Iu(n,r,l),n=n.sibling}var nt=null,tn=!1;function ai(n,r,l){for(l=l.child;l!==null;)xf(n,r,l),l=l.sibling}function xf(n,r,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(mo,l)}catch{}switch(l.tag){case 5:ut||kr(l,r);case 6:var c=nt,f=tn;nt=null,ai(n,r,l),nt=c,tn=f,nt!==null&&(tn?(n=nt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):nt.removeChild(l.stateNode));break;case 18:nt!==null&&(tn?(n=nt,l=l.stateNode,n.nodeType===8?ja(n.parentNode,l):n.nodeType===1&&ja(n,l),cs(n)):ja(nt,l.stateNode));break;case 4:c=nt,f=tn,nt=l.stateNode.containerInfo,tn=!0,ai(n,r,l),nt=c,tn=f;break;case 0:case 11:case 14:case 15:if(!ut&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,y=g.destroy;g=g.tag,y!==void 0&&((g&2)!==0||(g&4)!==0)&&Su(l,r,y),f=f.next}while(f!==c)}ai(n,r,l);break;case 1:if(!ut&&(kr(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(C){ze(l,r,C)}ai(n,r,l);break;case 21:ai(n,r,l);break;case 22:l.mode&1?(ut=(c=ut)||l.memoizedState!==null,ai(n,r,l),ut=c):ai(n,r,l);break;default:ai(n,r,l)}}function Ef(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new T_),r.forEach(function(c){var f=N_.bind(null,n,c);l.has(c)||(l.add(c),c.then(f,f))})}}function nn(n,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];try{var g=n,y=r,C=y;e:for(;C!==null;){switch(C.tag){case 5:nt=C.stateNode,tn=!1;break e;case 3:nt=C.stateNode.containerInfo,tn=!0;break e;case 4:nt=C.stateNode.containerInfo,tn=!0;break e}C=C.return}if(nt===null)throw Error(t(160));xf(g,y,f),nt=null,tn=!1;var S=f.alternate;S!==null&&(S.return=null),f.return=null}catch(D){ze(f,r,D)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Cf(r,n),r=r.sibling}function Cf(n,r){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(nn(r,n),gn(n),c&4){try{Os(3,n,n.return),nl(3,n)}catch(ee){ze(n,n.return,ee)}try{Os(5,n,n.return)}catch(ee){ze(n,n.return,ee)}}break;case 1:nn(r,n),gn(n),c&512&&l!==null&&kr(l,l.return);break;case 5:if(nn(r,n),gn(n),c&512&&l!==null&&kr(l,l.return),n.flags&32){var f=n.stateNode;try{an(f,"")}catch(ee){ze(n,n.return,ee)}}if(c&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,y=l!==null?l.memoizedProps:g,C=n.type,S=n.updateQueue;if(n.updateQueue=null,S!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&bt(f,g),Pi(C,y);var D=Pi(C,g);for(y=0;y<S.length;y+=2){var W=S[y],j=S[y+1];W==="style"?co(f,j):W==="dangerouslySetInnerHTML"?In(f,j):W==="children"?an(f,j):F(f,W,j,D)}switch(C){case"input":Zn(f,g);break;case"textarea":yt(f,g);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var H=g.value;H!=null?ln(f,!!g.multiple,H,!1):G!==!!g.multiple&&(g.defaultValue!=null?ln(f,!!g.multiple,g.defaultValue,!0):ln(f,!!g.multiple,g.multiple?[]:"",!1))}f[Es]=g}catch(ee){ze(n,n.return,ee)}}break;case 6:if(nn(r,n),gn(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(ee){ze(n,n.return,ee)}}break;case 3:if(nn(r,n),gn(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{cs(r.containerInfo)}catch(ee){ze(n,n.return,ee)}break;case 4:nn(r,n),gn(n);break;case 13:nn(r,n),gn(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Pu=Xe())),c&4&&Ef(n);break;case 22:if(W=l!==null&&l.memoizedState!==null,n.mode&1?(ut=(D=ut)||W,nn(r,n),ut=D):nn(r,n),gn(n),c&8192){if(D=n.memoizedState!==null,(n.stateNode.isHidden=D)&&!W&&(n.mode&1)!==0)for(q=n,W=n.child;W!==null;){for(j=q=W;q!==null;){switch(G=q,H=G.child,G.tag){case 0:case 11:case 14:case 15:Os(4,G,G.return);break;case 1:kr(G,G.return);var Q=G.stateNode;if(typeof Q.componentWillUnmount=="function"){c=G,l=G.return;try{r=c,Q.props=r.memoizedProps,Q.state=r.memoizedState,Q.componentWillUnmount()}catch(ee){ze(c,l,ee)}}break;case 5:kr(G,G.return);break;case 22:if(G.memoizedState!==null){Rf(j);continue}}H!==null?(H.return=G,q=H):Rf(j)}W=W.sibling}e:for(W=null,j=n;;){if(j.tag===5){if(W===null){W=j;try{f=j.stateNode,D?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=j.stateNode,S=j.memoizedProps.style,y=S!=null&&S.hasOwnProperty("display")?S.display:null,C.style.display=uo("display",y))}catch(ee){ze(n,n.return,ee)}}}else if(j.tag===6){if(W===null)try{j.stateNode.nodeValue=D?"":j.memoizedProps}catch(ee){ze(n,n.return,ee)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===n)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===n)break e;for(;j.sibling===null;){if(j.return===null||j.return===n)break e;W===j&&(W=null),j=j.return}W===j&&(W=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:nn(r,n),gn(n),c&4&&Ef(n);break;case 21:break;default:nn(r,n),gn(n)}}function gn(n){var r=n.flags;if(r&2){try{e:{for(var l=n.return;l!==null;){if(yf(l)){var c=l;break e}l=l.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(an(f,""),c.flags&=-33);var g=vf(n);Iu(n,g,f);break;case 3:case 4:var y=c.stateNode.containerInfo,C=vf(n);Tu(n,C,y);break;default:throw Error(t(161))}}catch(S){ze(n,n.return,S)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function L_(n,r,l){q=n,wf(n)}function wf(n,r,l){for(var c=(n.mode&1)!==0;q!==null;){var f=q,g=f.child;if(f.tag===22&&c){var y=f.memoizedState!==null||tl;if(!y){var C=f.alternate,S=C!==null&&C.memoizedState!==null||ut;C=tl;var D=ut;if(tl=y,(ut=S)&&!D)for(q=f;q!==null;)y=q,S=y.child,y.tag===22&&y.memoizedState!==null?Tf(f):S!==null?(S.return=y,q=S):Tf(f);for(;g!==null;)q=g,wf(g),g=g.sibling;q=f,tl=C,ut=D}Sf(n)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,q=g):Sf(n)}}function Sf(n){for(;q!==null;){var r=q;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ut||nl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!ut)if(l===null)c.componentDidMount();else{var f=r.elementType===r.type?l.memoizedProps:en(r.type,l.memoizedProps);c.componentDidUpdate(f,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&Sd(r,g,c);break;case 3:var y=r.updateQueue;if(y!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}Sd(r,y,l)}break;case 5:var C=r.stateNode;if(l===null&&r.flags&4){l=C;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&l.focus();break;case"img":S.src&&(l.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var D=r.alternate;if(D!==null){var W=D.memoizedState;if(W!==null){var j=W.dehydrated;j!==null&&cs(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ut||r.flags&512&&Ru(r)}catch(G){ze(r,r.return,G)}}if(r===n){q=null;break}if(l=r.sibling,l!==null){l.return=r.return,q=l;break}q=r.return}}function Rf(n){for(;q!==null;){var r=q;if(r===n){q=null;break}var l=r.sibling;if(l!==null){l.return=r.return,q=l;break}q=r.return}}function Tf(n){for(;q!==null;){var r=q;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{nl(4,r)}catch(S){ze(r,l,S)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(S){ze(r,f,S)}}var g=r.return;try{Ru(r)}catch(S){ze(r,g,S)}break;case 5:var y=r.return;try{Ru(r)}catch(S){ze(r,y,S)}}}catch(S){ze(r,r.return,S)}if(r===n){q=null;break}var C=r.sibling;if(C!==null){C.return=r.return,q=C;break}q=r.return}}var k_=Math.ceil,il=A.ReactCurrentDispatcher,Lu=A.ReactCurrentOwner,Vt=A.ReactCurrentBatchConfig,Ce=0,Qe=null,Ve=null,it=0,Ft=0,Pr=ii(0),He=0,As=null,ji=0,rl=0,ku=0,Fs=null,wt=null,Pu=0,Mr=1/0,zn=null,sl=!1,Mu=null,ui=null,ol=!1,ci=null,ll=0,Ds=0,Ou=null,al=-1,ul=0;function pt(){return(Ce&6)!==0?Xe():al!==-1?al:al=Xe()}function hi(n){return(n.mode&1)===0?1:(Ce&2)!==0&&it!==0?it&-it:d_.transition!==null?(ul===0&&(ul=yh()),ul):(n=Ie,n!==0||(n=window.event,n=n===void 0?16:Ih(n.type)),n)}function rn(n,r,l,c){if(50<Ds)throw Ds=0,Ou=null,Error(t(185));ss(n,l,c),((Ce&2)===0||n!==Qe)&&(n===Qe&&((Ce&2)===0&&(rl|=l),He===4&&di(n,it)),St(n,c),l===1&&Ce===0&&(r.mode&1)===0&&(Mr=Xe()+500,zo&&si()))}function St(n,r){var l=n.callbackNode;dp(n,r);var c=yo(n,n===Qe?it:0);if(c===0)l!==null&&mh(l),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(l!=null&&mh(l),r===1)n.tag===0?h_(Lf.bind(null,n)):dd(Lf.bind(null,n)),l_(function(){(Ce&6)===0&&si()}),l=null;else{switch(vh(c)){case 1:l=ha;break;case 4:l=ph;break;case 16:l=go;break;case 536870912:l=_h;break;default:l=go}l=Nf(l,If.bind(null,n))}n.callbackPriority=r,n.callbackNode=l}}function If(n,r){if(al=-1,ul=0,(Ce&6)!==0)throw Error(t(327));var l=n.callbackNode;if(Or()&&n.callbackNode!==l)return null;var c=yo(n,n===Qe?it:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=cl(n,c);else{r=c;var f=Ce;Ce|=2;var g=Pf();(Qe!==n||it!==r)&&(zn=null,Mr=Xe()+500,Yi(n,r));do try{O_();break}catch(C){kf(n,C)}while(!0);$a(),il.current=g,Ce=f,Ve!==null?r=0:(Qe=null,it=0,r=He)}if(r!==0){if(r===2&&(f=da(n),f!==0&&(c=f,r=Au(n,f))),r===1)throw l=As,Yi(n,0),di(n,c),St(n,Xe()),l;if(r===6)di(n,c);else{if(f=n.current.alternate,(c&30)===0&&!P_(f)&&(r=cl(n,c),r===2&&(g=da(n),g!==0&&(c=g,r=Au(n,g))),r===1))throw l=As,Yi(n,0),di(n,c),St(n,Xe()),l;switch(n.finishedWork=f,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:Ui(n,wt,zn);break;case 3:if(di(n,c),(c&130023424)===c&&(r=Pu+500-Xe(),10<r)){if(yo(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){pt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Wa(Ui.bind(null,n,wt,zn),r);break}Ui(n,wt,zn);break;case 4:if(di(n,c),(c&4194240)===c)break;for(r=n.eventTimes,f=-1;0<c;){var y=31-qt(c);g=1<<y,y=r[y],y>f&&(f=y),c&=~g}if(c=f,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*k_(c/1960))-c,10<c){n.timeoutHandle=Wa(Ui.bind(null,n,wt,zn),c);break}Ui(n,wt,zn);break;case 5:Ui(n,wt,zn);break;default:throw Error(t(329))}}}return St(n,Xe()),n.callbackNode===l?If.bind(null,n):null}function Au(n,r){var l=Fs;return n.current.memoizedState.isDehydrated&&(Yi(n,r).flags|=256),n=cl(n,r),n!==2&&(r=wt,wt=l,r!==null&&Fu(r)),n}function Fu(n){wt===null?wt=n:wt.push.apply(wt,n)}function P_(n){for(var r=n;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var f=l[c],g=f.getSnapshot;f=f.value;try{if(!Qt(g(),f))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function di(n,r){for(r&=~ku,r&=~rl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var l=31-qt(r),c=1<<l;n[l]=-1,r&=~c}}function Lf(n){if((Ce&6)!==0)throw Error(t(327));Or();var r=yo(n,0);if((r&1)===0)return St(n,Xe()),null;var l=cl(n,r);if(n.tag!==0&&l===2){var c=da(n);c!==0&&(r=c,l=Au(n,c))}if(l===1)throw l=As,Yi(n,0),di(n,r),St(n,Xe()),l;if(l===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Ui(n,wt,zn),St(n,Xe()),null}function Du(n,r){var l=Ce;Ce|=1;try{return n(r)}finally{Ce=l,Ce===0&&(Mr=Xe()+500,zo&&si())}}function Xi(n){ci!==null&&ci.tag===0&&(Ce&6)===0&&Or();var r=Ce;Ce|=1;var l=Vt.transition,c=Ie;try{if(Vt.transition=null,Ie=1,n)return n()}finally{Ie=c,Vt.transition=l,Ce=r,(Ce&6)===0&&si()}}function Nu(){Ft=Pr.current,Me(Pr)}function Yi(n,r){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,o_(l)),Ve!==null)for(l=Ve.return;l!==null;){var c=l;switch(Va(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Do();break;case 3:Ir(),Me(xt),Me(ot),ru();break;case 5:nu(c);break;case 4:Ir();break;case 13:Me(De);break;case 19:Me(De);break;case 10:qa(c.type._context);break;case 22:case 23:Nu()}l=l.return}if(Qe=n,Ve=n=fi(n.current,null),it=Ft=r,He=0,As=null,ku=rl=ji=0,wt=Fs=null,zi!==null){for(r=0;r<zi.length;r++)if(l=zi[r],c=l.interleaved,c!==null){l.interleaved=null;var f=c.next,g=l.pending;if(g!==null){var y=g.next;g.next=f,c.next=y}l.pending=c}zi=null}return n}function kf(n,r){do{var l=Ve;try{if($a(),Zo.current=qo,Ho){for(var c=Ne.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Ho=!1}if(Wi=0,qe=Ze=Ne=null,Is=!1,Ls=0,Lu.current=null,l===null||l.return===null){He=1,As=r,Ve=null;break}e:{var g=n,y=l.return,C=l,S=r;if(r=it,C.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var D=S,W=C,j=W.tag;if((W.mode&1)===0&&(j===0||j===11||j===15)){var G=W.alternate;G?(W.updateQueue=G.updateQueue,W.memoizedState=G.memoizedState,W.lanes=G.lanes):(W.updateQueue=null,W.memoizedState=null)}var H=Jd(y);if(H!==null){H.flags&=-257,ef(H,y,C,g,r),H.mode&1&&Qd(g,D,r),r=H,S=D;var Q=r.updateQueue;if(Q===null){var ee=new Set;ee.add(S),r.updateQueue=ee}else Q.add(S);break e}else{if((r&1)===0){Qd(g,D,r),zu();break e}S=Error(t(426))}}else if(Fe&&C.mode&1){var Ye=Jd(y);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),ef(Ye,y,C,g,r),Ha(Lr(S,C));break e}}g=S=Lr(S,C),He!==4&&(He=2),Fs===null?Fs=[g]:Fs.push(g),g=y;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var P=$d(g,S,r);wd(g,P);break e;case 1:C=S;var T=g.type,O=g.stateNode;if((g.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ui===null||!ui.has(O)))){g.flags|=65536,r&=-r,g.lanes|=r;var U=qd(g,C,r);wd(g,U);break e}}g=g.return}while(g!==null)}Of(l)}catch(ie){r=ie,Ve===l&&l!==null&&(Ve=l=l.return);continue}break}while(!0)}function Pf(){var n=il.current;return il.current=qo,n===null?qo:n}function zu(){(He===0||He===3||He===2)&&(He=4),Qe===null||(ji&268435455)===0&&(rl&268435455)===0||di(Qe,it)}function cl(n,r){var l=Ce;Ce|=2;var c=Pf();(Qe!==n||it!==r)&&(zn=null,Yi(n,r));do try{M_();break}catch(f){kf(n,f)}while(!0);if($a(),Ce=l,il.current=c,Ve!==null)throw Error(t(261));return Qe=null,it=0,He}function M_(){for(;Ve!==null;)Mf(Ve)}function O_(){for(;Ve!==null&&!ip();)Mf(Ve)}function Mf(n){var r=Df(n.alternate,n,Ft);n.memoizedProps=n.pendingProps,r===null?Of(n):Ve=r,Lu.current=null}function Of(n){var r=n;do{var l=r.alternate;if(n=r.return,(r.flags&32768)===0){if(l=S_(l,r,Ft),l!==null){Ve=l;return}}else{if(l=R_(l,r),l!==null){l.flags&=32767,Ve=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{He=6,Ve=null;return}}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);He===0&&(He=5)}function Ui(n,r,l){var c=Ie,f=Vt.transition;try{Vt.transition=null,Ie=1,A_(n,r,l,c)}finally{Vt.transition=f,Ie=c}return null}function A_(n,r,l,c){do Or();while(ci!==null);if((Ce&6)!==0)throw Error(t(327));l=n.finishedWork;var f=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=l.lanes|l.childLanes;if(fp(n,g),n===Qe&&(Ve=Qe=null,it=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ol||(ol=!0,Nf(go,function(){return Or(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Vt.transition,Vt.transition=null;var y=Ie;Ie=1;var C=Ce;Ce|=4,Lu.current=null,I_(n,l),Cf(l,n),Jp(za),Eo=!!Na,za=Na=null,n.current=l,L_(l),rp(),Ce=C,Ie=y,Vt.transition=g}else n.current=l;if(ol&&(ol=!1,ci=n,ll=f),g=n.pendingLanes,g===0&&(ui=null),lp(l.stateNode),St(n,Xe()),r!==null)for(c=n.onRecoverableError,l=0;l<r.length;l++)f=r[l],c(f.value,{componentStack:f.stack,digest:f.digest});if(sl)throw sl=!1,n=Mu,Mu=null,n;return(ll&1)!==0&&n.tag!==0&&Or(),g=n.pendingLanes,(g&1)!==0?n===Ou?Ds++:(Ds=0,Ou=n):Ds=0,si(),null}function Or(){if(ci!==null){var n=vh(ll),r=Vt.transition,l=Ie;try{if(Vt.transition=null,Ie=16>n?16:n,ci===null)var c=!1;else{if(n=ci,ci=null,ll=0,(Ce&6)!==0)throw Error(t(331));var f=Ce;for(Ce|=4,q=n.current;q!==null;){var g=q,y=g.child;if((q.flags&16)!==0){var C=g.deletions;if(C!==null){for(var S=0;S<C.length;S++){var D=C[S];for(q=D;q!==null;){var W=q;switch(W.tag){case 0:case 11:case 15:Os(8,W,g)}var j=W.child;if(j!==null)j.return=W,q=j;else for(;q!==null;){W=q;var G=W.sibling,H=W.return;if(_f(W),W===D){q=null;break}if(G!==null){G.return=H,q=G;break}q=H}}}var Q=g.alternate;if(Q!==null){var ee=Q.child;if(ee!==null){Q.child=null;do{var Ye=ee.sibling;ee.sibling=null,ee=Ye}while(ee!==null)}}q=g}}if((g.subtreeFlags&2064)!==0&&y!==null)y.return=g,q=y;else e:for(;q!==null;){if(g=q,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Os(9,g,g.return)}var P=g.sibling;if(P!==null){P.return=g.return,q=P;break e}q=g.return}}var T=n.current;for(q=T;q!==null;){y=q;var O=y.child;if((y.subtreeFlags&2064)!==0&&O!==null)O.return=y,q=O;else e:for(y=T;q!==null;){if(C=q,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:nl(9,C)}}catch(ie){ze(C,C.return,ie)}if(C===y){q=null;break e}var U=C.sibling;if(U!==null){U.return=C.return,q=U;break e}q=C.return}}if(Ce=f,si(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(mo,n)}catch{}c=!0}return c}finally{Ie=l,Vt.transition=r}}return!1}function Af(n,r,l){r=Lr(l,r),r=$d(n,r,1),n=li(n,r,1),r=pt(),n!==null&&(ss(n,1,r),St(n,r))}function ze(n,r,l){if(n.tag===3)Af(n,n,l);else for(;r!==null;){if(r.tag===3){Af(r,n,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ui===null||!ui.has(c))){n=Lr(l,n),n=qd(r,n,1),r=li(r,n,1),n=pt(),r!==null&&(ss(r,1,n),St(r,n));break}}r=r.return}}function F_(n,r,l){var c=n.pingCache;c!==null&&c.delete(r),r=pt(),n.pingedLanes|=n.suspendedLanes&l,Qe===n&&(it&l)===l&&(He===4||He===3&&(it&130023424)===it&&500>Xe()-Pu?Yi(n,0):ku|=l),St(n,r)}function Ff(n,r){r===0&&((n.mode&1)===0?r=1:(r=_o,_o<<=1,(_o&130023424)===0&&(_o=4194304)));var l=pt();n=Fn(n,r),n!==null&&(ss(n,r,l),St(n,l))}function D_(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),Ff(n,l)}function N_(n,r){var l=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),Ff(n,l)}var Df;Df=function(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps||xt.current)Ct=!0;else{if((n.lanes&l)===0&&(r.flags&128)===0)return Ct=!1,w_(n,r,l);Ct=(n.flags&131072)!==0}else Ct=!1,Fe&&(r.flags&1048576)!==0&&fd(r,Wo,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;el(n,r),n=r.pendingProps;var f=xr(r,ot.current);Tr(r,l),f=lu(null,r,c,n,f,l);var g=au();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Et(c)?(g=!0,No(r)):g=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,eu(r),f.updater=Qo,r.stateNode=f,f._reactInternals=r,gu(r,c,n,l),r=yu(null,r,c,!0,g,l)):(r.tag=0,Fe&&g&&Ba(r),mt(null,r,f,l),r=r.child),r;case 16:c=r.elementType;e:{switch(el(n,r),n=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=G_(c),n=en(c,n),f){case 0:r=_u(null,r,c,n,l);break e;case 1:r=lf(null,r,c,n,l);break e;case 11:r=tf(null,r,c,n,l);break e;case 14:r=nf(null,r,c,en(c.type,n),l);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:en(c,f),_u(n,r,c,f,l);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:en(c,f),lf(n,r,c,f,l);case 3:e:{if(af(r),n===null)throw Error(t(387));c=r.pendingProps,g=r.memoizedState,f=g.element,Cd(n,r),Vo(r,c,null,l);var y=r.memoizedState;if(c=y.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){f=Lr(Error(t(423)),r),r=uf(n,r,c,l,f);break e}else if(c!==f){f=Lr(Error(t(424)),r),r=uf(n,r,c,l,f);break e}else for(At=ni(r.stateNode.containerInfo.firstChild),Ot=r,Fe=!0,Jt=null,l=xd(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(wr(),c===f){r=Nn(n,r,l);break e}mt(n,r,c,l)}r=r.child}return r;case 5:return Rd(r),n===null&&Za(r),c=r.type,f=r.pendingProps,g=n!==null?n.memoizedProps:null,y=f.children,Ga(c,f)?y=null:g!==null&&Ga(c,g)&&(r.flags|=32),of(n,r),mt(n,r,y,l),r.child;case 6:return n===null&&Za(r),null;case 13:return cf(n,r,l);case 4:return tu(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Sr(r,null,c,l):mt(n,r,c,l),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:en(c,f),tf(n,r,c,f,l);case 7:return mt(n,r,r.pendingProps,l),r.child;case 8:return mt(n,r,r.pendingProps.children,l),r.child;case 12:return mt(n,r,r.pendingProps.children,l),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,g=r.memoizedProps,y=f.value,ke(Yo,c._currentValue),c._currentValue=y,g!==null)if(Qt(g.value,y)){if(g.children===f.children&&!xt.current){r=Nn(n,r,l);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var C=g.dependencies;if(C!==null){y=g.child;for(var S=C.firstContext;S!==null;){if(S.context===c){if(g.tag===1){S=Dn(-1,l&-l),S.tag=2;var D=g.updateQueue;if(D!==null){D=D.shared;var W=D.pending;W===null?S.next=S:(S.next=W.next,W.next=S),D.pending=S}}g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),Qa(g.return,l,r),C.lanes|=l;break}S=S.next}}else if(g.tag===10)y=g.type===r.type?null:g.child;else if(g.tag===18){if(y=g.return,y===null)throw Error(t(341));y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),Qa(y,l,r),y=g.sibling}else y=g.child;if(y!==null)y.return=g;else for(y=g;y!==null;){if(y===r){y=null;break}if(g=y.sibling,g!==null){g.return=y.return,y=g;break}y=y.return}g=y}mt(n,r,f.children,l),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,Tr(r,l),f=Ut(f),c=c(f),r.flags|=1,mt(n,r,c,l),r.child;case 14:return c=r.type,f=en(c,r.pendingProps),f=en(c.type,f),nf(n,r,c,f,l);case 15:return rf(n,r,r.type,r.pendingProps,l);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:en(c,f),el(n,r),r.tag=1,Et(c)?(n=!0,No(r)):n=!1,Tr(r,l),Hd(r,c,f),gu(r,c,f,l),yu(null,r,c,!0,n,l);case 19:return df(n,r,l);case 22:return sf(n,r,l)}throw Error(t(156,r.tag))};function Nf(n,r){return gh(n,r)}function z_(n,r,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(n,r,l,c){return new z_(n,r,l,c)}function Gu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function G_(n){if(typeof n=="function")return Gu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===he)return 11;if(n===$)return 14}return 2}function fi(n,r){var l=n.alternate;return l===null?(l=Kt(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function hl(n,r,l,c,f,g){var y=2;if(c=n,typeof n=="function")Gu(n)&&(y=1);else if(typeof n=="string")y=5;else e:switch(n){case Z:return Bi(l.children,f,g,r);case V:y=8,f|=8;break;case te:return n=Kt(12,l,r,f|2),n.elementType=te,n.lanes=g,n;case ce:return n=Kt(13,l,r,f),n.elementType=ce,n.lanes=g,n;case Re:return n=Kt(19,l,r,f),n.elementType=Re,n.lanes=g,n;case Y:return dl(l,f,g,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case re:y=10;break e;case _e:y=9;break e;case he:y=11;break e;case $:y=14;break e;case J:y=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=Kt(y,l,r,f),r.elementType=n,r.type=c,r.lanes=g,r}function Bi(n,r,l,c){return n=Kt(7,n,c,r),n.lanes=l,n}function dl(n,r,l,c){return n=Kt(22,n,c,r),n.elementType=Y,n.lanes=l,n.stateNode={isHidden:!1},n}function Wu(n,r,l){return n=Kt(6,n,null,r),n.lanes=l,n}function ju(n,r,l){return r=Kt(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function W_(n,r,l,c,f){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Xu(n,r,l,c,f,g,y,C,S){return n=new W_(n,r,l,C,S),r===1?(r=1,g===!0&&(r|=8)):r=0,g=Kt(3,null,null,r),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(g),n}function j_(n,r,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:c==null?null:""+c,children:n,containerInfo:r,implementation:l}}function zf(n){if(!n)return ri;n=n._reactInternals;e:{if(Oi(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Et(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var l=n.type;if(Et(l))return cd(n,l,r)}return r}function Gf(n,r,l,c,f,g,y,C,S){return n=Xu(l,c,!0,n,f,g,y,C,S),n.context=zf(null),l=n.current,c=pt(),f=hi(l),g=Dn(c,f),g.callback=r??null,li(l,g,f),n.current.lanes=f,ss(n,f,c),St(n,c),n}function fl(n,r,l,c){var f=r.current,g=pt(),y=hi(f);return l=zf(l),r.context===null?r.context=l:r.pendingContext=l,r=Dn(g,y),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=li(f,r,y),n!==null&&(rn(n,f,y,g),Bo(n,f,y)),y}function gl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Wf(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function Yu(n,r){Wf(n,r),(n=n.alternate)&&Wf(n,r)}function X_(){return null}var jf=typeof reportError=="function"?reportError:function(n){console.error(n)};function Uu(n){this._internalRoot=n}ml.prototype.render=Uu.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));fl(n,r,null,null)},ml.prototype.unmount=Uu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Xi(function(){fl(null,n,null,null)}),r[Pn]=null}};function ml(n){this._internalRoot=n}ml.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ch();n={blockedOn:null,target:n,priority:r};for(var l=0;l<Jn.length&&r!==0&&r<Jn[l].priority;l++);Jn.splice(l,0,n),l===0&&Rh(n)}};function Bu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function pl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Xf(){}function Y_(n,r,l,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var D=gl(y);g.call(D)}}var y=Gf(r,c,n,0,null,!1,!1,"",Xf);return n._reactRootContainer=y,n[Pn]=y.current,vs(n.nodeType===8?n.parentNode:n),Xi(),y}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var D=gl(S);C.call(D)}}var S=Xu(n,0,!1,null,null,!1,!1,"",Xf);return n._reactRootContainer=S,n[Pn]=S.current,vs(n.nodeType===8?n.parentNode:n),Xi(function(){fl(r,S,l,c)}),S}function _l(n,r,l,c,f){var g=l._reactRootContainer;if(g){var y=g;if(typeof f=="function"){var C=f;f=function(){var S=gl(y);C.call(S)}}fl(r,y,n,f)}else y=Y_(l,r,n,f,c);return gl(y)}xh=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var l=rs(r.pendingLanes);l!==0&&(ga(r,l|1),St(r,Xe()),(Ce&6)===0&&(Mr=Xe()+500,si()))}break;case 13:Xi(function(){var c=Fn(n,1);if(c!==null){var f=pt();rn(c,n,1,f)}}),Yu(n,1)}},ma=function(n){if(n.tag===13){var r=Fn(n,134217728);if(r!==null){var l=pt();rn(r,n,134217728,l)}Yu(n,134217728)}},Eh=function(n){if(n.tag===13){var r=hi(n),l=Fn(n,r);if(l!==null){var c=pt();rn(l,n,r,c)}Yu(n,r)}},Ch=function(){return Ie},wh=function(n,r){var l=Ie;try{return Ie=n,r()}finally{Ie=l}},Ln=function(n,r,l){switch(r){case"input":if(Zn(n,l),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==n&&c.form===n.form){var f=Fo(c);if(!f)throw Error(t(90));Sn(c),Zn(c,f)}}}break;case"textarea":yt(n,l);break;case"select":r=l.value,r!=null&&ln(n,!!l.multiple,r,!1)}},kn=Du,ft=Xi;var U_={usingClientEntryPoint:!1,Events:[Cs,yr,Fo,is,rt,Du]},Ns={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B_={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dh(n),n===null?null:n.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||X_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{mo=yl.inject(B_),cn=yl}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U_,Rt.createPortal=function(n,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bu(r))throw Error(t(200));return j_(n,r,null,l)},Rt.createRoot=function(n,r){if(!Bu(n))throw Error(t(299));var l=!1,c="",f=jf;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Xu(n,1,!1,null,null,l,!1,c,f),n[Pn]=r.current,vs(n.nodeType===8?n.parentNode:n),new Uu(r)},Rt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=dh(r),n=n===null?null:n.stateNode,n},Rt.flushSync=function(n){return Xi(n)},Rt.hydrate=function(n,r,l){if(!pl(r))throw Error(t(200));return _l(null,n,r,!0,l)},Rt.hydrateRoot=function(n,r,l){if(!Bu(n))throw Error(t(405));var c=l!=null&&l.hydratedSources||null,f=!1,g="",y=jf;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),r=Gf(r,null,n,1,l??null,f,!1,g,y),n[Pn]=r.current,vs(n),c)for(n=0;n<c.length;n++)l=c[n],f=l._getVersion,f=f(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,f]:r.mutableSourceEagerHydrationData.push(l,f);return new ml(r)},Rt.render=function(n,r,l){if(!pl(r))throw Error(t(200));return _l(null,n,r,!1,l)},Rt.unmountComponentAtNode=function(n){if(!pl(n))throw Error(t(40));return n._reactRootContainer?(Xi(function(){_l(null,null,n,!1,function(){n._reactRootContainer=null,n[Pn]=null})}),!0):!1},Rt.unstable_batchedUpdates=Du,Rt.unstable_renderSubtreeIntoContainer=function(n,r,l,c){if(!pl(l))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return _l(n,r,l,!1,c)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var bf;function J_(){if(bf)return Zu.exports;bf=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Zu.exports=Q_(),Zu.exports}var $f;function ey(){if($f)return vl;$f=1;var o=J_();return vl.createRoot=o.createRoot,vl.hydrateRoot=o.hydrateRoot,vl}var ty=ey();const ny=Bg(ty);class Vn{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Zr={PROPERTYCHANGE:"propertychange"};class Mc{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function iy(o,e,t){let i,s;t=t||tr;let a=0,u=o.length,h=!1;for(;a<u;)i=a+(u-a>>1),s=+t(o[i],e),s<0?a=i+1:(u=i,h=!s);return h?a:~a}function tr(o,e){return o>e?1:o<e?-1:0}function Oc(o,e,t){if(o[0]<=e)return 0;const i=o.length;if(e<=o[i-1])return i-1;if(typeof t=="function"){for(let s=1;s<i;++s){const a=o[s];if(a===e)return s;if(a<e)return t(e,o[s-1],a)>0?s-1:s}return i-1}if(t>0){for(let s=1;s<i;++s)if(o[s]<e)return s-1;return i-1}if(t<0){for(let s=1;s<i;++s)if(o[s]<=e)return s;return i-1}for(let s=1;s<i;++s){if(o[s]==e)return s;if(o[s]<e)return o[s-1]-e<e-o[s]?s-1:s}return i-1}function ry(o,e,t){for(;e<t;){const i=o[e];o[e]=o[t],o[t]=i,++e,--t}}function Yn(o,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let s=0;s<i;s++)o[o.length]=t[s]}function Li(o,e){const t=o.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(o[i]!==e[i])return!1;return!0}function sy(o,e,t){const i=e||tr;return o.every(function(s,a){if(a===0)return!0;const u=i(o[a-1],s);return!(u>0||u===0)})}function Bs(){return!0}function Zl(){return!1}function Hr(){}function oy(o){let e=!1,t,i,s;return function(){const a=Array.prototype.slice.call(arguments);return(!e||this!==s||!Li(a,i))&&(e=!0,s=this,i=a,t=o.apply(this,arguments)),t}}function eo(o){for(const e in o)delete o[e]}function br(o){let e;for(e in o)return!1;return!e}class Hl extends Mc{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),s=i[e]||(i[e]=[]);s.includes(t)||s.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const a=t?new Vn(e):e;a.target||(a.target=this.eventTarget_||this);const u=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in u||(u[i]=0,h[i]=0),++u[i];let d;for(let m=0,p=s.length;m<p;++m)if("handleEvent"in s[m]?d=s[m].handleEvent(a):d=s[m].call(this,a),d===!1||a.propagationStopped){d=!1;break}if(--u[i]===0){let m=h[i];for(delete h[i];m--;)this.removeEventListener(i,Hr);delete u[i]}return d}disposeInternal(){this.listeners_&&eo(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){const i=this.listeners_&&this.listeners_[e];if(i){const s=i.indexOf(t);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[s]=Hr,++this.pendingRemovals_[e]):(i.splice(s,1),i.length===0&&delete this.listeners_[e]))}}}const pe={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function we(o,e,t,i,s){if(i&&i!==o&&(t=t.bind(i)),s){const u=t;t=function(){o.removeEventListener(e,t),u.apply(this,arguments)}}const a={target:o,type:e,listener:t};return o.addEventListener(e,t),a}function Al(o,e,t,i){return we(o,e,t,i,!0)}function Ae(o){o&&o.target&&(o.target.removeEventListener(o.type,o.listener),eo(o))}class to extends Hl{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(pe.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,s=new Array(i);for(let a=0;a<i;++a)s[a]=we(this,e[a],t);return s}return we(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const s=e.length;i=new Array(s);for(let a=0;a<s;++a)i[a]=Al(this,e[a],t)}else i=Al(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)ly(i);else if(Array.isArray(e))for(let s=0,a=e.length;s<a;++s)this.removeEventListener(e[s],t);else this.removeEventListener(e,t)}}to.prototype.on;to.prototype.once;to.prototype.un;function ly(o){if(Array.isArray(o))for(let e=0,t=o.length;e<t;++e)Ae(o[e]);else Ae(o)}function ge(){throw new Error("Unimplemented abstract method.")}let ay=0;function Te(o){return o.ol_uid||(o.ol_uid=String(++ay))}class qf extends Vn{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class Cn extends to{constructor(e){super(),this.on,this.once,this.un,Te(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new qf(i,e,t)),i=Zr.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new qf(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const s=this.values_||(this.values_={});if(i)s[e]=t;else{const a=s[e];s[e]=t,a!==t&&this.notify(e,a)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],br(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const uy={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class Kg extends Error{constructor(e){const t=uy[e];super(t),this.code=e,this.name="AssertionError",this.message=t}}const Tt={ADD:"add",REMOVE:"remove"},Qf={LENGTH:"length"};class xl extends Vn{constructor(e,t,i){super(e),this.element=t,this.index=i}}class _n extends Cn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,s=t.length;i<s;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Qf.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new xl(Tt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,s=t.length;i<s;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new xl(Tt.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const s=this.array_[e];this.array_[e]=t,this.dispatchEvent(new xl(Tt.REMOVE,s,e)),this.dispatchEvent(new xl(Tt.ADD,t,e))}updateLength_(){this.set(Qf.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===e&&i!==t)throw new Kg(58)}}const Si=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",cy=Si.includes("firefox"),hy=Si.includes("safari")&&!Si.includes("chrom");hy&&(Si.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Si));const dy=Si.includes("webkit")&&!Si.includes("edge"),Zg=Si.includes("macintosh"),Hg=typeof devicePixelRatio<"u"?devicePixelRatio:1,Ac=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,fy=typeof Image<"u"&&Image.prototype.decode,bg=function(){let o=!1;try{const e=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return o}();function ve(o,e){if(!o)throw new Kg(e)}new Array(6);function vn(){return[1,0,0,1,0,0]}function gy(o,e,t,i,s,a,u){return o[0]=e,o[1]=t,o[2]=i,o[3]=s,o[4]=a,o[5]=u,o}function my(o,e){return o[0]=e[0],o[1]=e[1],o[2]=e[2],o[3]=e[3],o[4]=e[4],o[5]=e[5],o}function tt(o,e){const t=e[0],i=e[1];return e[0]=o[0]*t+o[2]*i+o[4],e[1]=o[1]*t+o[3]*i+o[5],e}function py(o,e,t){return gy(o,e,0,0,t,0,0)}function Ri(o,e,t,i,s,a,u,h){const d=Math.sin(a),m=Math.cos(a);return o[0]=i*m,o[1]=s*d,o[2]=-i*d,o[3]=s*m,o[4]=u*i*m-h*i*d+e,o[5]=u*s*d+h*s*m+t,o}function Fc(o,e){const t=_y(e);ve(t!==0,32);const i=e[0],s=e[1],a=e[2],u=e[3],h=e[4],d=e[5];return o[0]=u/t,o[1]=-s/t,o[2]=-a/t,o[3]=i/t,o[4]=(a*d-u*h)/t,o[5]=-(i*d-s*h)/t,o}function _y(o){return o[0]*o[3]-o[1]*o[2]}let Jf;function $g(o){const e="matrix("+o.join(", ")+")";if(Ac)return e;const t=Jf||(Jf=document.createElement("div"));return t.style.transform=e,t.style.transform}const et={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function eg(o){const e=Ht();for(let t=0,i=o.length;t<i;++t)Ys(e,o[t]);return e}function Dc(o,e,t){return t?(t[0]=o[0]-e,t[1]=o[1]-e,t[2]=o[2]+e,t[3]=o[3]+e,t):[o[0]-e,o[1]-e,o[2]+e,o[3]+e]}function qg(o,e){return e?(e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e):o.slice()}function sr(o,e,t){let i,s;return e<o[0]?i=o[0]-e:o[2]<e?i=e-o[2]:i=0,t<o[1]?s=o[1]-t:o[3]<t?s=t-o[3]:s=0,i*i+s*s}function bl(o,e){return Nc(o,e[0],e[1])}function Yr(o,e){return o[0]<=e[0]&&e[2]<=o[2]&&o[1]<=e[1]&&e[3]<=o[3]}function Nc(o,e,t){return o[0]<=e&&e<=o[2]&&o[1]<=t&&t<=o[3]}function hc(o,e){const t=o[0],i=o[1],s=o[2],a=o[3],u=e[0],h=e[1];let d=et.UNKNOWN;return u<t?d=d|et.LEFT:u>s&&(d=d|et.RIGHT),h<i?d=d|et.BELOW:h>a&&(d=d|et.ABOVE),d===et.UNKNOWN&&(d=et.INTERSECTING),d}function Ht(){return[1/0,1/0,-1/0,-1/0]}function Ti(o,e,t,i,s){return s?(s[0]=o,s[1]=e,s[2]=t,s[3]=i,s):[o,e,t,i]}function no(o){return Ti(1/0,1/0,-1/0,-1/0,o)}function yy(o,e){const t=o[0],i=o[1];return Ti(t,i,t,i,e)}function Qg(o,e,t,i,s){const a=no(s);return em(a,o,e,t,i)}function Vs(o,e){return o[0]==e[0]&&o[2]==e[2]&&o[1]==e[1]&&o[3]==e[3]}function Jg(o,e){return e[0]<o[0]&&(o[0]=e[0]),e[2]>o[2]&&(o[2]=e[2]),e[1]<o[1]&&(o[1]=e[1]),e[3]>o[3]&&(o[3]=e[3]),o}function Ys(o,e){e[0]<o[0]&&(o[0]=e[0]),e[0]>o[2]&&(o[2]=e[0]),e[1]<o[1]&&(o[1]=e[1]),e[1]>o[3]&&(o[3]=e[1])}function em(o,e,t,i,s){for(;t<i;t+=s)vy(o,e[t],e[t+1]);return o}function vy(o,e,t){o[0]=Math.min(o[0],e),o[1]=Math.min(o[1],t),o[2]=Math.max(o[2],e),o[3]=Math.max(o[3],t)}function tm(o,e){let t;return t=e($l(o)),t||(t=e(ql(o)),t)||(t=e(Ql(o)),t)||(t=e(or(o)),t)?t:!1}function dc(o){let e=0;return Jl(o)||(e=Oe(o)*En(o)),e}function $l(o){return[o[0],o[1]]}function ql(o){return[o[2],o[1]]}function nr(o){return[(o[0]+o[2])/2,(o[1]+o[3])/2]}function xy(o,e){let t;return e==="bottom-left"?t=$l(o):e==="bottom-right"?t=ql(o):e==="top-left"?t=or(o):e==="top-right"?t=Ql(o):ve(!1,13),t}function fc(o,e,t,i,s){const[a,u,h,d,m,p,_,v]=gc(o,e,t,i);return Ti(Math.min(a,h,m,_),Math.min(u,d,p,v),Math.max(a,h,m,_),Math.max(u,d,p,v),s)}function gc(o,e,t,i){const s=e*i[0]/2,a=e*i[1]/2,u=Math.cos(t),h=Math.sin(t),d=s*u,m=s*h,p=a*u,_=a*h,v=o[0],x=o[1];return[v-d+_,x-m-p,v-d-_,x-m+p,v+d-_,x+m+p,v+d+_,x+m-p,v-d+_,x-m-p]}function En(o){return o[3]-o[1]}function Us(o,e,t){const i=t||Ht();return Lt(o,e)?(o[0]>e[0]?i[0]=o[0]:i[0]=e[0],o[1]>e[1]?i[1]=o[1]:i[1]=e[1],o[2]<e[2]?i[2]=o[2]:i[2]=e[2],o[3]<e[3]?i[3]=o[3]:i[3]=e[3]):no(i),i}function or(o){return[o[0],o[3]]}function Ql(o){return[o[2],o[3]]}function Oe(o){return o[2]-o[0]}function Lt(o,e){return o[0]<=e[2]&&o[2]>=e[0]&&o[1]<=e[3]&&o[3]>=e[1]}function Jl(o){return o[2]<o[0]||o[3]<o[1]}function Ey(o,e){return e?(e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e):o}function Cy(o,e,t){let i=!1;const s=hc(o,e),a=hc(o,t);if(s===et.INTERSECTING||a===et.INTERSECTING)i=!0;else{const u=o[0],h=o[1],d=o[2],m=o[3],p=e[0],_=e[1],v=t[0],x=t[1],E=(x-_)/(v-p);let w,R;a&et.ABOVE&&!(s&et.ABOVE)&&(w=v-(x-m)/E,i=w>=u&&w<=d),!i&&a&et.RIGHT&&!(s&et.RIGHT)&&(R=x-(v-d)*E,i=R>=h&&R<=m),!i&&a&et.BELOW&&!(s&et.BELOW)&&(w=v-(x-h)/E,i=w>=u&&w<=d),!i&&a&et.LEFT&&!(s&et.LEFT)&&(R=x-(v-u)*E,i=R>=h&&R<=m)}return i}function nm(o,e){const t=e.getExtent(),i=nr(o);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const s=Oe(t),u=Math.floor((i[0]-t[0])/s)*s;o[0]-=u,o[2]-=u}return o}function wy(o,e){if(e.canWrapX()){const t=e.getExtent();if(!isFinite(o[0])||!isFinite(o[2]))return[[t[0],o[1],t[2],o[3]]];nm(o,e);const i=Oe(t);if(Oe(o)>i)return[[t[0],o[1],t[2],o[3]]];if(o[0]<t[0])return[[o[0]+i,o[1],t[2],o[3]],[t[0],o[1],o[2],o[3]]];if(o[2]>t[2])return[[o[0],o[1],t[2],o[3]],[t[0],o[1],o[2]-i,o[3]]]}return[o]}function Ke(o,e,t){return Math.min(Math.max(o,e),t)}function Sy(o,e,t,i,s,a){const u=s-t,h=a-i;if(u!==0||h!==0){const d=((o-t)*u+(e-i)*h)/(u*u+h*h);d>1?(t=s,i=a):d>0&&(t+=u*d,i+=h*d)}return Ji(o,e,t,i)}function Ji(o,e,t,i){const s=t-o,a=i-e;return s*s+a*a}function Ry(o){const e=o.length;for(let i=0;i<e;i++){let s=i,a=Math.abs(o[i][i]);for(let h=i+1;h<e;h++){const d=Math.abs(o[h][i]);d>a&&(a=d,s=h)}if(a===0)return null;const u=o[s];o[s]=o[i],o[i]=u;for(let h=i+1;h<e;h++){const d=-o[h][i]/o[i][i];for(let m=i;m<e+1;m++)i==m?o[h][m]=0:o[h][m]+=d*o[i][m]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=o[i][e]/o[i][i];for(let s=i-1;s>=0;s--)o[s][e]-=o[s][i]*t[i]}return t}function Ol(o){return o*Math.PI/180}function Br(o,e){const t=o%e;return t*e<0?t+e:t}function Dt(o,e,t){return o+t*(e-o)}function zc(o,e){const t=Math.pow(10,e);return Math.round(o*t)/t}function El(o,e){return Math.floor(zc(o,e))}function Cl(o,e){return Math.ceil(zc(o,e))}const Ty=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Iy=/^([a-z]*)$|^hsla?\(.*\)$/i;function im(o){return typeof o=="string"?o:rm(o)}function Ly(o){const e=document.createElement("div");if(e.style.color=o,e.style.color!==""){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}const ky=function(){const e={};let t=0;return function(i){let s;if(e.hasOwnProperty(i))s=e[i];else{if(t>=1024){let a=0;for(const u in e)(a++&3)===0&&(delete e[u],--t)}s=Py(i),e[i]=s,++t}return s}}();function Fl(o){return Array.isArray(o)?o:ky(o)}function Py(o){let e,t,i,s,a;if(Iy.exec(o)&&(o=Ly(o)),Ty.exec(o)){const u=o.length-1;let h;u<=4?h=1:h=2;const d=u===4||u===8;e=parseInt(o.substr(1+0*h,h),16),t=parseInt(o.substr(1+1*h,h),16),i=parseInt(o.substr(1+2*h,h),16),d?s=parseInt(o.substr(1+3*h,h),16):s=255,h==1&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,d&&(s=(s<<4)+s)),a=[e,t,i,s/255]}else o.startsWith("rgba(")?(a=o.slice(5,-1).split(",").map(Number),tg(a)):o.startsWith("rgb(")?(a=o.slice(4,-1).split(",").map(Number),a.push(1),tg(a)):ve(!1,14);return a}function tg(o){return o[0]=Ke(o[0]+.5|0,0,255),o[1]=Ke(o[1]+.5|0,0,255),o[2]=Ke(o[2]+.5|0,0,255),o[3]=Ke(o[3],0,1),o}function rm(o){let e=o[0];e!=(e|0)&&(e=e+.5|0);let t=o[1];t!=(t|0)&&(t=t+.5|0);let i=o[2];i!=(i|0)&&(i=i+.5|0);const s=o[3]===void 0?1:Math.round(o[3]*100)/100;return"rgba("+e+","+t+","+i+","+s+")"}class My{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const s=ng(e,t,i);return s in this.cache_?this.cache_[s]:null}set(e,t,i,s){const a=ng(e,t,i);this.cache_[a]=s,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function ng(o,e,t){const i=t?im(t):"null";return e+":"+o+":"+i}const Dl=new My,Le={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class sm extends Cn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Le.OPACITY]=e.opacity!==void 0?e.opacity:1,ve(typeof t[Le.OPACITY]=="number",64),t[Le.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Le.Z_INDEX]=e.zIndex,t[Le.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Le.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Le.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Le.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=Ke(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return ge()}getLayerStatesArray(e){return ge()}getExtent(){return this.get(Le.EXTENT)}getMaxResolution(){return this.get(Le.MAX_RESOLUTION)}getMinResolution(){return this.get(Le.MIN_RESOLUTION)}getMinZoom(){return this.get(Le.MIN_ZOOM)}getMaxZoom(){return this.get(Le.MAX_ZOOM)}getOpacity(){return this.get(Le.OPACITY)}getSourceState(){return ge()}getVisible(){return this.get(Le.VISIBLE)}getZIndex(){return this.get(Le.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Le.EXTENT,e)}setMaxResolution(e){this.set(Le.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Le.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Le.MAX_ZOOM,e)}setMinZoom(e){this.set(Le.MIN_ZOOM,e)}setOpacity(e){ve(typeof e=="number",64),this.set(Le.OPACITY,e)}setVisible(e){this.set(Le.VISIBLE,e)}setZIndex(e){this.set(Le.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const xn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ht={ANIMATING:0,INTERACTING:1},sn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Oy=42,Gc=256,Wc={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class om{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Wc[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const io=6378137,Ur=Math.PI*io,Ay=[-Ur,-Ur,Ur,Ur],Fy=[-180,-85,180,85],wl=io*Math.log(Math.tan(Math.PI/2));class Ar extends om{constructor(e){super({code:e,units:"m",extent:Ay,global:!0,worldExtent:Fy,getPointResolution:function(t,i){return t/Math.cosh(i[1]/io)}})}}const ig=[new Ar("EPSG:3857"),new Ar("EPSG:102100"),new Ar("EPSG:102113"),new Ar("EPSG:900913"),new Ar("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ar("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Dy(o,e,t){const i=o.length;t=t>1?t:2,e===void 0&&(t>2?e=o.slice():e=new Array(i));for(let s=0;s<i;s+=t){e[s]=Ur*o[s]/180;let a=io*Math.log(Math.tan(Math.PI*(+o[s+1]+90)/360));a>wl?a=wl:a<-wl&&(a=-wl),e[s+1]=a}return e}function Ny(o,e,t){const i=o.length;t=t>1?t:2,e===void 0&&(t>2?e=o.slice():e=new Array(i));for(let s=0;s<i;s+=t)e[s]=180*o[s]/Ur,e[s+1]=360*Math.atan(Math.exp(o[s+1]/io))/Math.PI-90;return e}const zy=6378137,rg=[-180,-90,180,90],Gy=Math.PI*zy/180;class Vi extends om{constructor(e,t){super({code:e,units:"degrees",extent:rg,axisOrientation:t,global:!0,metersPerUnit:Gy,worldExtent:rg})}}const sg=[new Vi("CRS:84"),new Vi("EPSG:4326","neu"),new Vi("urn:ogc:def:crs:OGC:1.3:CRS84"),new Vi("urn:ogc:def:crs:OGC:2:84"),new Vi("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Vi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Vi("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let mc={};function Wy(o){return mc[o]||mc[o.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function jy(o,e){mc[o]=e}let Vr={};function Nl(o,e,t){const i=o.getCode(),s=e.getCode();i in Vr||(Vr[i]={}),Vr[i][s]=t}function Xy(o,e){let t;return o in Vr&&e in Vr[o]&&(t=Vr[o][e]),t}function Yy(o,e){return o[0]+=+e[0],o[1]+=+e[1],o}function zl(o,e){let t=!0;for(let i=o.length-1;i>=0;--i)if(o[i]!=e[i]){t=!1;break}return t}function jc(o,e){const t=Math.cos(e),i=Math.sin(e),s=o[0]*t-o[1]*i,a=o[1]*t+o[0]*i;return o[0]=s,o[1]=a,o}function Uy(o,e){return o[0]*=e,o[1]*=e,o}function lm(o,e){if(e.canWrapX()){const t=Oe(e.getExtent()),i=By(o,e,t);i&&(o[0]-=i*t)}return o}function By(o,e,t){const i=e.getExtent();let s=0;return e.canWrapX()&&(o[0]<i[0]||o[0]>i[2])&&(t=t||Oe(i),s=Math.floor((o[0]-i[0])/t)),s}const Vy=63710088e-1;function og(o,e,t){t=t||Vy;const i=Ol(o[1]),s=Ol(e[1]),a=(s-i)/2,u=Ol(e[0]-o[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(u)*Math.sin(u)*Math.cos(i)*Math.cos(s);return 2*t*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function am(...o){console.warn(...o)}let pc=!0;function um(o){pc=!1}function Xc(o,e){if(e!==void 0){for(let t=0,i=o.length;t<i;++t)e[t]=o[t];e=e}else e=o.slice();return e}function cm(o,e){if(e!==void 0&&o!==e){for(let t=0,i=o.length;t<i;++t)e[t]=o[t];o=e}return o}function Ky(o){jy(o.getCode(),o),Nl(o,o,Xc)}function Zy(o){o.forEach(Ky)}function be(o){return typeof o=="string"?Wy(o):o||null}function lg(o,e,t,i){o=be(o);let s;const a=o.getPointResolutionFunc();if(a)s=a(e,t);else{const u=o.getUnits();if(u=="degrees"||i=="degrees")s=e;else{const h=Uc(o,be("EPSG:4326"));if(h===cm&&u!=="degrees")s=e*o.getMetersPerUnit();else{let m=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];m=h(m,m,2);const p=og(m.slice(0,2),m.slice(2,4)),_=og(m.slice(4,6),m.slice(6,8));s=(p+_)/2}const d=o.getMetersPerUnit();d!==void 0&&(s/=d)}}return s}function ag(o){Zy(o),o.forEach(function(e){o.forEach(function(t){e!==t&&Nl(e,t,Xc)})})}function Hy(o,e,t,i){o.forEach(function(s){e.forEach(function(a){Nl(s,a,t),Nl(a,s,i)})})}function Yc(o,e){return o?typeof o=="string"?be(o):o:be(e)}function by(o,e){return um(),hm(o,"EPSG:4326","EPSG:3857")}function Hi(o,e){if(o===e)return!0;const t=o.getUnits()===e.getUnits();return(o.getCode()===e.getCode()||Uc(o,e)===Xc)&&t}function Uc(o,e){const t=o.getCode(),i=e.getCode();let s=Xy(t,i);return s||(s=cm),s}function Gl(o,e){const t=be(o),i=be(e);return Uc(t,i)}function hm(o,e,t){return Gl(e,t)(o,void 0,o.length)}function _c(o,e){return o}function jn(o,e){return pc&&!zl(o,[0,0])&&o[0]>=-180&&o[0]<=180&&o[1]>=-90&&o[1]<=90&&(pc=!1,am("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),o}function dm(o,e){return o}function bi(o,e){return o}function $y(){ag(ig),ag(sg),Hy(sg,ig,Dy,Ny)}$y();function ug(o,e,t){return function(i,s,a,u,h){if(!i)return;if(!s&&!e)return i;const d=e?0:a[0]*s,m=e?0:a[1]*s,p=h?h[0]:0,_=h?h[1]:0;let v=o[0]+d/2+p,x=o[2]-d/2+p,E=o[1]+m/2+_,w=o[3]-m/2+_;v>x&&(v=(x+v)/2,x=v),E>w&&(E=(w+E)/2,w=E);let R=Ke(i[0],v,x),k=Ke(i[1],E,w);if(u&&t&&s){const M=30*s;R+=-M*Math.log(1+Math.max(0,v-i[0])/M)+M*Math.log(1+Math.max(0,i[0]-x)/M),k+=-M*Math.log(1+Math.max(0,E-i[1])/M)+M*Math.log(1+Math.max(0,i[1]-w)/M)}return[R,k]}}function qy(o){return o}function Bc(o,e,t,i){const s=Oe(e)/t[0],a=En(e)/t[1];return i?Math.min(o,Math.max(s,a)):Math.min(o,Math.min(s,a))}function Vc(o,e,t){let i=Math.min(o,e);const s=50;return i*=Math.log(1+s*Math.max(0,o/e-1))/s+1,t&&(i=Math.max(i,t),i/=Math.log(1+s*Math.max(0,t/o-1))/s+1),Ke(i,t/2,e*2)}function Qy(o,e,t,i){return e=e!==void 0?e:!0,function(s,a,u,h){if(s!==void 0){const d=o[0],m=o[o.length-1],p=t?Bc(d,t,u,i):d;if(h)return e?Vc(s,p,m):Ke(s,m,p);const _=Math.min(p,s),v=Math.floor(Oc(o,_,a));return o[v]>p&&v<o.length-1?o[v+1]:o[v]}}}function Jy(o,e,t,i,s,a){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(u,h,d,m){if(u!==void 0){const p=s?Bc(e,s,d,a):e;if(m)return i?Vc(u,p,t):Ke(u,t,p);const _=1e-9,v=Math.ceil(Math.log(e/p)/Math.log(o)-_),x=-h*(.5-_)+.5,E=Math.min(p,u),w=Math.floor(Math.log(e/E)/Math.log(o)+x),R=Math.max(v,w),k=e/Math.pow(o,R);return Ke(k,t,p)}}}function cg(o,e,t,i,s){return t=t!==void 0?t:!0,function(a,u,h,d){if(a!==void 0){const m=i?Bc(o,i,h,s):o;return!t||!d?Ke(a,e,m):Vc(a,m,e)}}}function Kc(o){if(o!==void 0)return 0}function hg(o){if(o!==void 0)return o}function e0(o){const e=2*Math.PI/o;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function t0(o){return o=o||Ol(5),function(e,t){if(t)return e;if(e!==void 0)return Math.abs(e)<=o?0:e}}function fm(o){return Math.pow(o,3)}function Jr(o){return 1-fm(1-o)}function n0(o){return 3*o*o-2*o*o*o}function i0(o){return o}function er(o,e,t,i,s,a){a=a||[];let u=0;for(let h=e;h<t;h+=i){const d=o[h],m=o[h+1];a[u++]=s[0]*d+s[2]*m+s[4],a[u++]=s[1]*d+s[3]*m+s[5]}return a&&a.length!=u&&(a.length=u),a}function gm(o,e,t,i,s,a,u){u=u||[];const h=Math.cos(s),d=Math.sin(s),m=a[0],p=a[1];let _=0;for(let v=e;v<t;v+=i){const x=o[v]-m,E=o[v+1]-p;u[_++]=m+x*h-E*d,u[_++]=p+x*d+E*h;for(let w=v+2;w<v+i;++w)u[_++]=o[w]}return u&&u.length!=_&&(u.length=_),u}function r0(o,e,t,i,s,a,u,h){h=h||[];const d=u[0],m=u[1];let p=0;for(let _=e;_<t;_+=i){const v=o[_]-d,x=o[_+1]-m;h[p++]=d+s*v,h[p++]=m+a*x;for(let E=_+2;E<_+i;++E)h[p++]=o[E]}return h&&h.length!=p&&(h.length=p),h}function s0(o,e,t,i,s,a,u){u=u||[];let h=0;for(let d=e;d<t;d+=i){u[h++]=o[d]+s,u[h++]=o[d+1]+a;for(let m=d+2;m<d+i;++m)u[h++]=o[m]}return u&&u.length!=h&&(u.length=h),u}const dg=vn();class mm extends Cn{constructor(){super(),this.extent_=Ht(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=oy(function(e,t,i){if(!i)return this.getSimplifiedGeometry(t);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return ge()}closestPointXY(e,t,i,s){return ge()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ge()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&no(t),this.extentRevision_=this.getRevision()}return Ey(this.extent_,e)}rotate(e,t){ge()}scale(e,t,i){ge()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ge()}getType(){return ge()}applyTransform(e){ge()}intersectsExtent(e){return ge()}translate(e,t){ge()}transform(e,t){const i=be(e),s=i.getUnits()=="tile-pixels"?function(a,u,h){const d=i.getExtent(),m=i.getWorldExtent(),p=En(m)/En(d);return Ri(dg,m[0],m[3],p,-p,0,0,0),er(a,0,a.length,h,dg,u),Gl(i,t)(a,u,h)}:Gl(i,t);return this.applyTransform(s),this}}class lr extends mm{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return Qg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ge()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=fg(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){ge()}setLayout(e,t,i){let s;if(e)s=fg(e);else{for(let a=0;a<i;++a){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}s=t.length,e=o0(s)}this.layout=e,this.stride=s}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const s=this.getStride();gm(i,0,i.length,s,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=nr(this.getExtent()));const s=this.getFlatCoordinates();if(s){const a=this.getStride();r0(s,0,s.length,a,e,t,i,s),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const s=this.getStride();s0(i,0,i.length,s,e,t,i),this.changed()}}}function o0(o){let e;return o==2?e="XY":o==3?e="XYZ":o==4&&(e="XYZM"),e}function fg(o){let e;return o=="XY"?e=2:o=="XYZ"||o=="XYM"?e=3:o=="XYZM"&&(e=4),e}function l0(o,e,t){const i=o.getFlatCoordinates();if(!i)return null;const s=o.getStride();return er(i,0,i.length,s,e,t)}function gg(o,e,t,i,s,a,u){const h=o[e],d=o[e+1],m=o[t]-h,p=o[t+1]-d;let _;if(m===0&&p===0)_=e;else{const v=((s-h)*m+(a-d)*p)/(m*m+p*p);if(v>1)_=t;else if(v>0){for(let x=0;x<i;++x)u[x]=Dt(o[e+x],o[t+x],v);u.length=i;return}else _=e}for(let v=0;v<i;++v)u[v]=o[_+v];u.length=i}function Zc(o,e,t,i,s){let a=o[e],u=o[e+1];for(e+=i;e<t;e+=i){const h=o[e],d=o[e+1],m=Ji(a,u,h,d);m>s&&(s=m),a=h,u=d}return s}function Hc(o,e,t,i,s){for(let a=0,u=t.length;a<u;++a){const h=t[a];s=Zc(o,e,h,i,s),e=h}return s}function a0(o,e,t,i,s){for(let a=0,u=t.length;a<u;++a){const h=t[a];s=Hc(o,e,h,i,s),e=h[h.length-1]}return s}function bc(o,e,t,i,s,a,u,h,d,m,p){if(e==t)return m;let _,v;if(s===0){if(v=Ji(u,h,o[e],o[e+1]),v<m){for(_=0;_<i;++_)d[_]=o[e+_];return d.length=i,v}return m}p=p||[NaN,NaN];let x=e+i;for(;x<t;)if(gg(o,x-i,x,i,u,h,p),v=Ji(u,h,p[0],p[1]),v<m){for(m=v,_=0;_<i;++_)d[_]=p[_];d.length=i,x+=i}else x+=i*Math.max((Math.sqrt(v)-Math.sqrt(m))/s|0,1);if(a&&(gg(o,t-i,e,i,u,h,p),v=Ji(u,h,p[0],p[1]),v<m)){for(m=v,_=0;_<i;++_)d[_]=p[_];d.length=i}return m}function $c(o,e,t,i,s,a,u,h,d,m,p){p=p||[NaN,NaN];for(let _=0,v=t.length;_<v;++_){const x=t[_];m=bc(o,e,x,i,s,a,u,h,d,m,p),e=x}return m}function u0(o,e,t,i,s,a,u,h,d,m,p){p=p||[NaN,NaN];for(let _=0,v=t.length;_<v;++_){const x=t[_];m=$c(o,e,x,i,s,a,u,h,d,m,p),e=x[x.length-1]}return m}function c0(o,e,t,i){for(let s=0,a=t.length;s<a;++s)o[e++]=t[s];return e}function ea(o,e,t,i){for(let s=0,a=t.length;s<a;++s){const u=t[s];for(let h=0;h<i;++h)o[e++]=u[h]}return e}function qc(o,e,t,i,s){s=s||[];let a=0;for(let u=0,h=t.length;u<h;++u){const d=ea(o,e,t[u],i);s[a++]=d,e=d}return s.length=a,s}function h0(o,e,t,i,s){s=s||[];let a=0;for(let u=0,h=t.length;u<h;++u){const d=qc(o,e,t[u],i,s[a]);d.length===0&&(d[0]=e),s[a++]=d,e=d[d.length-1]}return s.length=a,s}function Qc(o,e,t,i,s,a,u){const h=(t-e)/i;if(h<3){for(;e<t;e+=i)a[u++]=o[e],a[u++]=o[e+1];return u}const d=new Array(h);d[0]=1,d[h-1]=1;const m=[e,t-i];let p=0;for(;m.length>0;){const _=m.pop(),v=m.pop();let x=0;const E=o[v],w=o[v+1],R=o[_],k=o[_+1];for(let M=v+i;M<_;M+=i){const F=o[M],A=o[M+1],z=Sy(F,A,E,w,R,k);z>x&&(p=M,x=z)}x>s&&(d[(p-e)/i]=1,v+i<p&&m.push(v,p),p+i<_&&m.push(p,_))}for(let _=0;_<h;++_)d[_]&&(a[u++]=o[e+_*i],a[u++]=o[e+_*i+1]);return u}function d0(o,e,t,i,s,a,u,h){for(let d=0,m=t.length;d<m;++d){const p=t[d];u=Qc(o,e,p,i,s,a,u),h.push(u),e=p}return u}function Zi(o,e){return e*Math.round(o/e)}function f0(o,e,t,i,s,a,u){if(e==t)return u;let h=Zi(o[e],s),d=Zi(o[e+1],s);e+=i,a[u++]=h,a[u++]=d;let m,p;do if(m=Zi(o[e],s),p=Zi(o[e+1],s),e+=i,e==t)return a[u++]=m,a[u++]=p,u;while(m==h&&p==d);for(;e<t;){const _=Zi(o[e],s),v=Zi(o[e+1],s);if(e+=i,_==m&&v==p)continue;const x=m-h,E=p-d,w=_-h,R=v-d;if(x*R==E*w&&(x<0&&w<x||x==w||x>0&&w>x)&&(E<0&&R<E||E==R||E>0&&R>E)){m=_,p=v;continue}a[u++]=m,a[u++]=p,h=m,d=p,m=_,p=v}return a[u++]=m,a[u++]=p,u}function pm(o,e,t,i,s,a,u,h){for(let d=0,m=t.length;d<m;++d){const p=t[d];u=f0(o,e,p,i,s,a,u),h.push(u),e=p}return u}function g0(o,e,t,i,s,a,u,h){for(let d=0,m=t.length;d<m;++d){const p=t[d],_=[];u=pm(o,e,p,i,s,a,u,_),h.push(_),e=p[p.length-1]}return u}function Ci(o,e,t,i,s){s=s!==void 0?s:[];let a=0;for(let u=e;u<t;u+=i)s[a++]=o.slice(u,u+i);return s.length=a,s}function Ks(o,e,t,i,s){s=s!==void 0?s:[];let a=0;for(let u=0,h=t.length;u<h;++u){const d=t[u];s[a++]=Ci(o,e,d,i,s[a]),e=d}return s.length=a,s}function yc(o,e,t,i,s){s=s!==void 0?s:[];let a=0;for(let u=0,h=t.length;u<h;++u){const d=t[u];s[a++]=d.length===1&&d[0]===e?[]:Ks(o,e,d,i,s[a]),e=d[d.length-1]}return s.length=a,s}function _m(o,e,t,i){let s=0,a=o[t-i],u=o[t-i+1];for(;e<t;e+=i){const h=o[e],d=o[e+1];s+=u*h-a*d,a=h,u=d}return s/2}function ym(o,e,t,i){let s=0;for(let a=0,u=t.length;a<u;++a){const h=t[a];s+=_m(o,e,h,i),e=h}return s}function m0(o,e,t,i){let s=0;for(let a=0,u=t.length;a<u;++a){const h=t[a];s+=ym(o,e,h,i),e=h[h.length-1]}return s}class Zs extends lr{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Zs(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,s){return s<sr(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,s))}getArea(){return _m(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Ci(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Qc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Zs(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ea(this.flatCoordinates,0,e,this.stride),this.changed()}}class $r extends lr{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new $r(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,s){const a=this.flatCoordinates,u=Ji(e,t,a[0],a[1]);if(u<s){const h=this.stride;for(let d=0;d<h;++d)i[d]=a[d];return i.length=h,u}return s}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return yy(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Nc(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=c0(this.flatCoordinates,0,e,this.stride),this.changed()}}function p0(o,e,t,i,s){return!tm(s,function(u){return!$i(o,e,t,i,u[0],u[1])})}function $i(o,e,t,i,s,a){let u=0,h=o[t-i],d=o[t-i+1];for(;e<t;e+=i){const m=o[e],p=o[e+1];d<=a?p>a&&(m-h)*(a-d)-(s-h)*(p-d)>0&&u++:p<=a&&(m-h)*(a-d)-(s-h)*(p-d)<0&&u--,h=m,d=p}return u!==0}function Jc(o,e,t,i,s,a){if(t.length===0||!$i(o,e,t[0],i,s,a))return!1;for(let u=1,h=t.length;u<h;++u)if($i(o,t[u-1],t[u],i,s,a))return!1;return!0}function _0(o,e,t,i,s,a){if(t.length===0)return!1;for(let u=0,h=t.length;u<h;++u){const d=t[u];if(Jc(o,e,d,i,s,a))return!0;e=d[d.length-1]}return!1}function vm(o,e,t,i,s,a,u){let h,d,m,p,_,v,x;const E=s[a+1],w=[];for(let M=0,F=t.length;M<F;++M){const A=t[M];for(p=o[A-i],v=o[A-i+1],h=e;h<A;h+=i)_=o[h],x=o[h+1],(E<=v&&x<=E||v<=E&&E<=x)&&(m=(E-v)/(x-v)*(_-p)+p,w.push(m)),p=_,v=x}let R=NaN,k=-1/0;for(w.sort(tr),p=w[0],h=1,d=w.length;h<d;++h){_=w[h];const M=Math.abs(_-p);M>k&&(m=(p+_)/2,Jc(o,e,t,i,m,E)&&(R=m,k=M)),p=_}return isNaN(R)&&(R=s[a]),u?(u.push(R,E,k),u):[R,E,k]}function y0(o,e,t,i,s){let a=[];for(let u=0,h=t.length;u<h;++u){const d=t[u];a=vm(o,e,d,i,s,2*u,a),e=d[d.length-1]}return a}function xm(o,e,t,i,s){let a;for(e+=i;e<t;e+=i)if(a=s(o.slice(e-i,e),o.slice(e,e+i)),a)return a;return!1}function ta(o,e,t,i,s){const a=em(Ht(),o,e,t,i);return Lt(s,a)?Yr(s,a)||a[0]>=s[0]&&a[2]<=s[2]||a[1]>=s[1]&&a[3]<=s[3]?!0:xm(o,e,t,i,function(u,h){return Cy(s,u,h)}):!1}function v0(o,e,t,i,s){for(let a=0,u=t.length;a<u;++a){if(ta(o,e,t[a],i,s))return!0;e=t[a]}return!1}function Em(o,e,t,i,s){return!!(ta(o,e,t,i,s)||$i(o,e,t,i,s[0],s[1])||$i(o,e,t,i,s[0],s[3])||$i(o,e,t,i,s[2],s[1])||$i(o,e,t,i,s[2],s[3]))}function Cm(o,e,t,i,s){if(!Em(o,e,t[0],i,s))return!1;if(t.length===1)return!0;for(let a=1,u=t.length;a<u;++a)if(p0(o,t[a-1],t[a],i,s)&&!ta(o,t[a-1],t[a],i,s))return!1;return!0}function x0(o,e,t,i,s){for(let a=0,u=t.length;a<u;++a){const h=t[a];if(Cm(o,e,h,i,s))return!0;e=h[h.length-1]}return!1}function E0(o,e,t,i){for(;e<t-i;){for(let s=0;s<i;++s){const a=o[e+s];o[e+s]=o[t-i+s],o[t-i+s]=a}e+=i,t-=i}}function wm(o,e,t,i){let s=0,a=o[t-i],u=o[t-i+1];for(;e<t;e+=i){const h=o[e],d=o[e+1];s+=(h-a)*(d+u),a=h,u=d}return s===0?void 0:s>0}function Sm(o,e,t,i,s){s=s!==void 0?s:!1;for(let a=0,u=t.length;a<u;++a){const h=t[a],d=wm(o,e,h,i);if(a===0){if(s&&d||!s&&!d)return!1}else if(s&&!d||!s&&d)return!1;e=h}return!0}function C0(o,e,t,i,s){for(let a=0,u=t.length;a<u;++a){const h=t[a];if(!Sm(o,e,h,i,s))return!1;h.length&&(e=h[h.length-1])}return!0}function vc(o,e,t,i,s){s=s!==void 0?s:!1;for(let a=0,u=t.length;a<u;++a){const h=t[a],d=wm(o,e,h,i);(a===0?s&&d||!s&&!d:s&&!d||!s&&d)&&E0(o,e,h,i),e=h}return e}function mg(o,e,t,i,s){for(let a=0,u=t.length;a<u;++a)e=vc(o,e,t[a],i,s);return e}class Ii extends lr{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Yn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Ii(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,s){return s<sr(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hc(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$c(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,s))}containsXY(e,t){return Jc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return ym(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),vc(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Ks(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=nr(this.getExtent());this.flatInteriorPoint_=vm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new $r(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Zs(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,s=[];let a=0;for(let u=0,h=i.length;u<h;++u){const d=i[u],m=new Zs(t.slice(a,d),e);s.push(m),a=d}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Sm(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=vc(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=pm(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new Ii(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return Cm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=qc(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function pg(o){if(Jl(o))throw new Error("Cannot create polygon from empty extent");const e=o[0],t=o[1],i=o[2],s=o[3],a=[e,t,e,s,i,s,i,t,e,t];return new Ii(a,"XY",[a.length])}const $u=0;class mn extends Cn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Yc(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&um(),e.center&&(e.center=jn(e.center,this.projection_)),e.extent&&(e.extent=bi(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const h in sn)delete t[h];this.setProperties(t,!0);const i=S0(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const s=w0(e),a=i.constraint,u=R0(e);this.constraints_={center:s,resolution:a,rotation:u},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const s=e||[0,0,0,0];t=t||[0,0,0,0];const a=this.getResolution(),u=a/2*(s[3]-t[3]+t[1]-s[1]),h=a/2*(s[0]-t[0]+t[2]-s[2]);this.setCenterInternal([i[0]+u,i[1]-h])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=jn(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=jn(s.anchor,this.getProjection())),t[i]=s}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let s=0;for(;s<t&&!this.isDef();++s){const p=arguments[s];p.center&&this.setCenterInternal(p.center),p.zoom!==void 0?this.setZoom(p.zoom):p.resolution&&this.setResolution(p.resolution),p.rotation!==void 0&&this.setRotation(p.rotation)}if(s===t){i&&Sl(i,!0);return}let a=Date.now(),u=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const m=[];for(;s<t;++s){const p=arguments[s],_={start:a,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||n0,callback:i};if(p.center&&(_.sourceCenter=u,_.targetCenter=p.center.slice(),u=_.targetCenter),p.zoom!==void 0?(_.sourceResolution=h,_.targetResolution=this.getResolutionForZoom(p.zoom),h=_.targetResolution):p.resolution&&(_.sourceResolution=h,_.targetResolution=p.resolution,h=_.targetResolution),p.rotation!==void 0){_.sourceRotation=d;const v=Br(p.rotation-d+Math.PI,2*Math.PI)-Math.PI;_.targetRotation=d+v,d=_.targetRotation}T0(_)?_.complete=!0:a+=_.duration,m.push(_)}this.animations_.push(m),this.setHint(ht.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ht.ANIMATING]>0}getInteracting(){return this.hints_[ht.INTERACTING]>0}cancelAnimations(){this.setHint(ht.ANIMATING,-this.hints_[ht.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const s=this.animations_[t];if(s[0].callback&&Sl(s[0].callback,!1),!e)for(let a=0,u=s.length;a<u;++a){const h=s[a];if(!h.complete){e=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let a=!0;for(let u=0,h=s.length;u<h;++u){const d=s[u];if(d.complete)continue;const m=e-d.start;let p=d.duration>0?m/d.duration:1;p>=1?(d.complete=!0,p=1):a=!1;const _=d.easing(p);if(d.sourceCenter){const v=d.sourceCenter[0],x=d.sourceCenter[1],E=d.targetCenter[0],w=d.targetCenter[1];this.nextCenter_=d.targetCenter;const R=v+_*(E-v),k=x+_*(w-x);this.targetCenter_=[R,k]}if(d.sourceResolution&&d.targetResolution){const v=_===1?d.targetResolution:d.sourceResolution+_*(d.targetResolution-d.sourceResolution);if(d.anchor){const x=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(v,0,x,!0);this.targetCenter_=this.calculateCenterZoom(E,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const v=_===1?Br(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+_*(d.targetRotation-d.sourceRotation);if(d.anchor){const x=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(x,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),t=!0,!d.complete)break}if(a){this.animations_[i]=null,this.setHint(ht.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const u=s[0].callback;u&&Sl(u,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-t[0],s[1]-t[1]],jc(i,e-this.getRotation()),Yy(i,t)),i}calculateCenterZoom(e,t){let i;const s=this.getCenterInternal(),a=this.getResolution();if(s!==void 0&&a!==void 0){const u=t[0]-e*(t[0]-s[0])/a,h=t[1]-e*(t[1]-s[1])/a;i=[u,h]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],s=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(s*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&_c(e,this.getProjection())}getCenterInternal(){return this.get(sn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return dm(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();ve(t,1);const i=this.getResolution();ve(i!==void 0,2);const s=this.getRotation();return ve(s!==void 0,3),fc(t,i,s,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(sn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(bi(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=Oe(e)/t[0],s=En(e)/t[1];return Math.max(i,s)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(t/i)/Math.log(e);return function(a){return t/Math.pow(e,a*s)}}getRotation(){return this.get(sn.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,a=Math.log(i/s)/t;return function(u){return Math.log(i/u)/t/a}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const a=this.padding_;if(a){const u=this.getViewportSizeMinusPadding_();s=qu(s,this.getViewportSize_(),[u[0]/2+a[3],u[1]/2+a[0]],t,i)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,s;if(this.resolutions_){const a=Oc(this.resolutions_,e,1);t=a,i=this.resolutions_[a],a==this.resolutions_.length-1?s=2:s=i/this.resolutions_[a+1]}else i=this.maxResolution_,s=this.zoomFactor_;return t+Math.log(i/e)/Math.log(s)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=Ke(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,Ke(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(ve(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){ve(!Jl(e),25);const s=bi(e,this.getProjection());i=pg(s)}else if(e.getType()==="Circle"){const s=bi(e.getExtent(),this.getProjection());i=pg(s),i.rotate(this.getRotation(),nr(s))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),s=Math.sin(-t),a=e.getFlatCoordinates(),u=e.getStride();let h=1/0,d=1/0,m=-1/0,p=-1/0;for(let _=0,v=a.length;_<v;_+=u){const x=a[_]*i-a[_+1]*s,E=a[_]*s+a[_+1]*i;h=Math.min(h,x),d=Math.min(d,E),m=Math.max(m,x),p=Math.max(p,E)}return[h,d,m,p]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const s=t.padding!==void 0?t.padding:[0,0,0,0],a=t.nearest!==void 0?t.nearest:!1;let u;t.minResolution!==void 0?u=t.minResolution:t.maxZoom!==void 0?u=this.getResolutionForZoom(t.maxZoom):u=0;const h=this.rotatedExtentForGeometry(e);let d=this.getResolutionForExtentInternal(h,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);d=isNaN(d)?u:Math.max(d,u),d=this.getConstrainedResolution(d,a?0:1);const m=this.getRotation(),p=Math.sin(m),_=Math.cos(m),v=nr(h);v[0]+=(s[1]-s[3])/2*d,v[1]+=(s[0]-s[2])/2*d;const x=v[0]*_-v[1]*p,E=v[1]*_+v[0]*p,w=this.getConstrainedCenter([x,E],d),R=t.callback?t.callback:Hr;t.duration!==void 0?this.animateInternal({resolution:d,center:w,duration:t.duration,easing:t.easing},R):(this.targetResolution_=d,this.targetCenter_=w,this.applyTargetState_(!1,!0),Sl(R,!0))}centerOn(e,t,i){this.centerOnInternal(jn(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(qu(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,s){let a;const u=this.padding_;if(u&&e){const h=this.getViewportSizeMinusPadding_(-i),d=qu(e,s,[h[0]/2+u[3],h[1]/2+u[0]],t,i);a=[e[0]-d[0],e[1]-d[1]]}return a}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=_c(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&jn(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*e,0,s,i);t&&(this.targetCenter_=this.calculateCenterZoom(a,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=jn(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(s,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&jn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,s=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(s),u=this.constraints_.resolution(this.targetResolution_,0,a,i),h=this.constraints_.center(this.targetCenter_,u,a,i,this.calculateCenterShift(this.targetCenter_,u,s,a));this.get(sn.ROTATION)!==s&&this.set(sn.ROTATION,s),this.get(sn.RESOLUTION)!==u&&(this.set(sn.RESOLUTION,u),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(sn.CENTER)||!zl(this.get(sn.CENTER),h))&&this.set(sn.CENTER,h),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const s=t||0,a=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(a),h=this.constraints_.resolution(this.targetResolution_,s,u),d=this.constraints_.center(this.targetCenter_,h,u,!1,this.calculateCenterShift(this.targetCenter_,h,a,u));if(e===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=a,this.targetCenter_=d,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==a||!this.getCenterInternal()||!zl(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:d,resolution:h,duration:e,easing:Jr,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ht.INTERACTING,1)}endInteraction(e,t,i){i=i&&jn(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(ht.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Sl(o,e){setTimeout(function(){o(e)},0)}function w0(o){if(o.extent!==void 0){const t=o.smoothExtentConstraint!==void 0?o.smoothExtentConstraint:!0;return ug(o.extent,o.constrainOnlyCenter,t)}const e=Yc(o.projection,"EPSG:3857");if(o.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,ug(t,!1,!1)}return qy}function S0(o){let e,t,i,u=o.minZoom!==void 0?o.minZoom:$u,h=o.maxZoom!==void 0?o.maxZoom:28;const d=o.zoomFactor!==void 0?o.zoomFactor:2,m=o.multiWorld!==void 0?o.multiWorld:!1,p=o.smoothResolutionConstraint!==void 0?o.smoothResolutionConstraint:!0,_=o.showFullExtent!==void 0?o.showFullExtent:!1,v=Yc(o.projection,"EPSG:3857"),x=v.getExtent();let E=o.constrainOnlyCenter,w=o.extent;if(!m&&!w&&v.isGlobal()&&(E=!1,w=x),o.resolutions!==void 0){const R=o.resolutions;t=R[u],i=R[h]!==void 0?R[h]:R[R.length-1],o.constrainResolution?e=Qy(R,p,!E&&w,_):e=cg(t,i,p,!E&&w,_)}else{const k=(x?Math.max(Oe(x),En(x)):360*Wc.degrees/v.getMetersPerUnit())/Gc/Math.pow(2,$u),M=k/Math.pow(2,28-$u);t=o.maxResolution,t!==void 0?u=0:t=k/Math.pow(d,u),i=o.minResolution,i===void 0&&(o.maxZoom!==void 0?o.maxResolution!==void 0?i=t/Math.pow(d,h):i=k/Math.pow(d,h):i=M),h=u+Math.floor(Math.log(t/i)/Math.log(d)),i=t/Math.pow(d,h-u),o.constrainResolution?e=Jy(d,t,i,p,!E&&w,_):e=cg(t,i,p,!E&&w,_)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:u,zoomFactor:d}}function R0(o){if(o.enableRotation!==void 0?o.enableRotation:!0){const t=o.constrainRotation;return t===void 0||t===!0?t0():t===!1?hg:typeof t=="number"?e0(t):hg}return Kc}function T0(o){return!(o.sourceCenter&&o.targetCenter&&!zl(o.sourceCenter,o.targetCenter)||o.sourceResolution!==o.targetResolution||o.sourceRotation!==o.targetRotation)}function qu(o,e,t,i,s){const a=Math.cos(-s);let u=Math.sin(-s),h=o[0]*a-o[1]*u,d=o[1]*a+o[0]*u;h+=(e[0]/2-t[0])*i,d+=(t[1]-e[1]/2)*i,u=-u;const m=h*a-d*u,p=d*a+h*u;return[m,p]}class na extends sm{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Le.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Le.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ae(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=we(e,pe.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof mn?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let s;t.layerStatesArray?s=t.layerStatesArray.find(u=>u.layer===this):s=this.getLayerState();const a=this.getExtent();return eh(s,t.viewState)&&(!a||Lt(a,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const i=this.getSource();if(i&&(t=i.getAttributions()),!t)return[];const s=e instanceof mn?e.getViewStateAndExtent():e;let a=t(s);return Array.isArray(a)||(a=[a]),a}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(Le.MAP,e)}getMapInternal(){return this.get(Le.MAP)}setMap(e){this.mapPrecomposeKey_&&(Ae(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ae(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=we(e,xn.PRECOMPOSE,function(t){const s=t.frameState.layerStatesArray,a=this.getLayerState(!1);ve(!s.some(function(u){return u.layer===a.layer}),67),s.push(a)},this),this.mapRenderKey_=we(this,pe.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Le.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function eh(o,e){if(!o.visible)return!1;const t=e.resolution;if(t<o.minResolution||t>=o.maxResolution)return!1;const i=e.zoom;return i>o.minZoom&&i<=o.maxZoom}class I0 extends Mc{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){ge()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,s=e.pixelToCoordinateTransform;Ri(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Fc(s,i)}forEachFeatureAtCoordinate(e,t,i,s,a,u,h,d){let m;const p=t.viewState;function _(A,z,B,Z){return a.call(u,z,A?B:null,Z)}const v=p.projection,x=lm(e.slice(),v),E=[[0,0]];if(v.canWrapX()&&s){const A=v.getExtent(),z=Oe(A);E.push([-z,0],[z,0])}const w=t.layerStatesArray,R=w.length,k=[],M=[];for(let A=0;A<E.length;A++)for(let z=R-1;z>=0;--z){const B=w[z],Z=B.layer;if(Z.hasRenderer()&&eh(B,p)&&h.call(d,Z)){const V=Z.getRenderer(),te=Z.getSource();if(V&&te){const re=te.getWrapX()?x:e,_e=_.bind(null,B.managed);M[0]=re[0]+E[A][0],M[1]=re[1]+E[A][1],m=V.forEachFeatureAtCoordinate(M,t,i,_e,k)}if(m)return m}}if(k.length===0)return;const F=1/k.length;return k.forEach((A,z)=>A.distanceSq+=z*F),k.sort((A,z)=>A.distanceSq-z.distanceSq),k.some(A=>m=A.callback(A.feature,A.layer,A.geometry)),m}hasFeatureAtCoordinate(e,t,i,s,a,u){return this.forEachFeatureAtCoordinate(e,t,i,s,Bs,this,a,u)!==void 0}getMap(){return this.map_}renderFrame(e){ge()}flushDeclutterItems(e){}scheduleExpireIconCache(e){Dl.canExpireCache()&&e.postRenderFunctions.push(L0)}}function L0(o,e){Dl.expire()}class Rm extends Vn{constructor(e,t,i,s){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=s}}const Rl="ol-hidden",ia="ol-unselectable",th="ol-control",_g="ol-collapsed",k0=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),yg=["style","variant","weight","size","lineHeight","family"],Tm=function(o){const e=o.match(k0);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=yg.length;i<s;++i){const a=e[i+1];a!==void 0&&(t[yg[i]]=a)}return t.families=t.family.split(/,\s?/),t};function _t(o,e,t,i){let s;return t&&t.length?s=t.shift():Ac?s=new OffscreenCanvas(o||300,e||300):s=document.createElement("canvas"),o&&(s.width=o),e&&(s.height=e),s.getContext("2d",i)}function ra(o){const e=o.canvas;e.width=1,e.height=1,o.clearRect(0,0,1,1)}function vg(o,e){const t=e.parentNode;t&&t.replaceChild(o,e)}function xc(o){return o&&o.parentNode?o.parentNode.removeChild(o):null}function P0(o){for(;o.lastChild;)o.removeChild(o.lastChild)}function M0(o,e){const t=o.childNodes;for(let i=0;;++i){const s=t[i],a=e[i];if(!s&&!a)break;if(s!==a){if(!s){o.appendChild(a);continue}if(!a){o.removeChild(s),--i;continue}o.insertBefore(a,s)}}}const Im="10px sans-serif",It="#000",Wl="round",Un=[],Bn=0,qr="round",Hs=10,bs="#000",$s="center",jl="middle",qi=[0,0,0,0],qs=1,Xn=new Cn;let Gr=null,Ec;const Cc={},O0=function(){const e="32px ",t=["monospace","serif"],i=t.length,s="wmytzilWMYTZIL@#/&?$%10";let a,u;function h(m,p,_){let v=!0;for(let x=0;x<i;++x){const E=t[x];if(u=Xl(m+" "+p+" "+e+E,s),_!=E){const w=Xl(m+" "+p+" "+e+_+","+E,s);v=v&&w!=u}}return!!v}function d(){let m=!0;const p=Xn.getKeys();for(let _=0,v=p.length;_<v;++_){const x=p[_];Xn.get(x)<100&&(h.apply(this,x.split(`
`))?(eo(Cc),Gr=null,Ec=void 0,Xn.set(x,100)):(Xn.set(x,Xn.get(x)+1,!0),m=!1))}m&&(clearInterval(a),a=void 0)}return function(m){const p=Tm(m);if(!p)return;const _=p.families;for(let v=0,x=_.length;v<x;++v){const E=_[v],w=p.style+`
`+p.weight+`
`+E;Xn.get(w)===void 0&&(Xn.set(w,100,!0),h(p.style,p.weight,E)||(Xn.set(w,0,!0),a===void 0&&(a=setInterval(d,32))))}}}(),A0=function(){let o;return function(e){let t=Cc[e];if(t==null){if(Ac){const i=Tm(e),s=Lm(e,"g");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else o||(o=document.createElement("div"),o.innerHTML="M",o.style.minHeight="0",o.style.maxHeight="none",o.style.height="auto",o.style.padding="0",o.style.border="none",o.style.position="absolute",o.style.display="block",o.style.left="-99999px"),o.style.font=e,document.body.appendChild(o),t=o.offsetHeight,document.body.removeChild(o);Cc[e]=t}return t}}();function Lm(o,e){return Gr||(Gr=_t(1,1)),o!=Ec&&(Gr.font=o,Ec=Gr.font),Gr.measureText(e)}function Xl(o,e){return Lm(o,e).width}function xg(o,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((s,a)=>Math.max(s,Xl(o,a)),0);return t[e]=i,i}function F0(o,e){const t=[],i=[],s=[];let a=0,u=0,h=0,d=0;for(let m=0,p=e.length;m<=p;m+=2){const _=e[m];if(_===`
`||m===p){a=Math.max(a,u),s.push(u),u=0,h+=d;continue}const v=e[m+1]||o.font,x=Xl(v,_);t.push(x),u+=x;const E=A0(v);i.push(E),d=Math.max(d,E)}return{width:a,height:h,widths:t,heights:i,lineWidths:s}}function D0(o,e,t,i,s,a,u,h,d,m,p){o.save(),t!==1&&(o.globalAlpha*=t),e&&o.setTransform.apply(o,e),i.contextInstructions?(o.translate(d,m),o.scale(p[0],p[1]),N0(i,o)):p[0]<0||p[1]<0?(o.translate(d,m),o.scale(p[0],p[1]),o.drawImage(i,s,a,u,h,0,0,u,h)):o.drawImage(i,s,a,u,h,d,m,u*p[0],h*p[1]),o.restore()}function N0(o,e){const t=o.contextInstructions;for(let i=0,s=t.length;i<s;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class z0 extends I0{constructor(e){super(e),this.fontChangeListenerKey_=we(Xn,Zr.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=ia+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const s=new Rm(e,void 0,t);i.dispatchEvent(s)}}disposeInternal(){Ae(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(xn.PRECOMPOSE,e);const t=e.layerStatesArray.sort(function(u,h){return u.zIndex-h.zIndex}),i=e.viewState;this.children_.length=0;const s=this.declutterLayers_;s.length=0;let a=null;for(let u=0,h=t.length;u<h;++u){const d=t[u];e.layerIndex=u;const m=d.layer,p=m.getSourceState();if(!eh(d,i)||p!="ready"&&p!="undefined"){m.unrender();continue}const _=m.render(e,a);_&&(_!==a&&(this.children_.push(_),a=_),"getDeclutter"in m&&s.push(m))}this.flushDeclutterItems(e),M0(this.element_,this.children_),this.dispatchRenderEvent(xn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}flushDeclutterItems(e){const t=this.declutterLayers_;for(let i=t.length-1;i>=0;--i)t[i].renderDeclutter(e);t.length=0}}class Ei extends Vn{constructor(e,t){super(e),this.layer=t}}const Qu={LAYERS:"layers"};class es extends sm{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Qu.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new _n(i.slice(),{unique:!0}):ve(typeof i.getArray=="function",43):i=new _n(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ae),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(we(e,Tt.ADD,this.handleLayersAdd_,this),we(e,Tt.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Ae);eo(this.listenerKeys_);const t=e.getArray();for(let i=0,s=t.length;i<s;i++){const a=t[i];this.registerLayerListeners_(a),this.dispatchEvent(new Ei("addlayer",a))}this.changed()}registerLayerListeners_(e){const t=[we(e,Zr.PROPERTYCHANGE,this.handleLayerChange_,this),we(e,pe.CHANGE,this.handleLayerChange_,this)];e instanceof es&&t.push(we(e,"addlayer",this.handleLayerGroupAdd_,this),we(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Te(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Ei("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ei("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Ei("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=Te(t);this.listenerKeys_[i].forEach(Ae),delete this.listenerKeys_[i],this.dispatchEvent(new Ei("removelayer",t)),this.changed()}getLayers(){return this.get(Qu.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let s=0,a=i.length;s<a;++s)this.dispatchEvent(new Ei("removelayer",i[s]))}this.set(Qu.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(u){u.getLayerStatesArray(t)});const s=this.getLayerState();let a=s.zIndex;!e&&s.zIndex===void 0&&(a=0);for(let u=i,h=t.length;u<h;u++){const d=t[u];d.opacity*=s.opacity,d.visible=d.visible&&s.visible,d.maxResolution=Math.min(d.maxResolution,s.maxResolution),d.minResolution=Math.max(d.minResolution,s.minResolution),d.minZoom=Math.max(d.minZoom,s.minZoom),d.maxZoom=Math.min(d.maxZoom,s.maxZoom),s.extent!==void 0&&(d.extent!==void 0?d.extent=Us(d.extent,s.extent):d.extent=s.extent),d.zIndex===void 0&&(d.zIndex=a)}return t}getSourceState(){return"ready"}}class Wr extends Vn{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class vi extends Wr{constructor(e,t,i,s,a,u){super(e,t,a),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=u}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Ge={SINGLECLICK:"singleclick",CLICK:pe.CLICK,DBLCLICK:pe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},wc={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class G0 extends Hl{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=we(i,wc.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=we(i,wc.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(pe.TOUCHMOVE,this.boundHandleTouchMove_,bg?{passive:!1}:!1)}emulateClick_(e){let t=new vi(Ge.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new vi(Ge.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new vi(Ge.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Ge.POINTERUP||t.type==Ge.POINTERCANCEL){delete this.trackedTouches_[i];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==t.target){delete this.trackedTouches_[s];break}}else(t.type==Ge.POINTERDOWN||t.type==Ge.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new vi(Ge.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ae),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new vi(Ge.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(we(i,Ge.POINTERMOVE,this.handlePointerMove_,this),we(i,Ge.POINTERUP,this.handlePointerUp_,this),we(this.element_,Ge.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(we(this.element_.getRootNode(),Ge.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new vi(Ge.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new vi(Ge.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ae(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(pe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ae(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ae),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const xi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},ct={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Yl=1/0;class W0{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,eo(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(e){ve(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=Yl?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,s=t.length,a=t[e],u=i[e],h=e;for(;e<s>>1;){const d=this.getLeftChildIndex_(e),m=this.getRightChildIndex_(e),p=m<s&&i[m]<i[d]?m:d;t[e]=t[p],i[e]=i[p],e=p}t[e]=a,i[e]=u,this.siftDown_(h,e)}siftDown_(e,t){const i=this.elements_,s=this.priorities_,a=i[t],u=s[t];for(;t>e;){const h=this.getParentIndex_(t);if(s[h]>u)i[t]=i[h],s[t]=s[h],t=h;else break}i[t]=a,s[t]=u}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let s=0;const a=t.length;let u,h,d;for(h=0;h<a;++h)u=t[h],d=e(u),d==Yl?delete this.queuedElements_[this.keyFunction_(u)]:(i[s]=d,t[s++]=u);t.length=s,i.length=s,this.heapify_()}}const ue={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class j0 extends W0{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(pe.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===ue.LOADED||i===ue.ERROR||i===ue.EMPTY){i!==ue.ERROR&&t.removeEventListener(pe.CHANGE,this.boundHandleTileChange_);const s=t.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0,s,a,u;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;)a=this.dequeue()[0],u=a.getKey(),s=a.getState(),s===ue.IDLE&&!(u in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[u]=!0,++this.tilesLoading_,++i,a.load())}}function X0(o,e,t,i,s){if(!o||!(t in o.wantedTiles)||!o.wantedTiles[t][e.getKey()])return Yl;const a=o.viewState.center,u=i[0]-a[0],h=i[1]-a[1];return 65536*Math.log(s)+Math.sqrt(u*u+h*h)/s}class nh extends Cn{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){xc(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&xc(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)Ae(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Hr&&this.listenerKeys.push(we(e,xi.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Y0 extends nh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",s=e.expandClassName!==void 0?e.expandClassName:t+"-expand",a=e.collapseLabel!==void 0?e.collapseLabel:"",u=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof a=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=u):this.collapseLabel_=a;const h=e.label!==void 0?e.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=s):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(pe.CLICK,this.handleClick_.bind(this),!1);const m=t+" "+ia+" "+th+(this.collapsed_&&this.collapsible_?" "+_g:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=m,p.appendChild(this.toggleButton_),p.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(s=>s.getAttributions(e)))),i=!this.getMap().getAllLayers().some(s=>s.getSource()&&s.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),t}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Li(t,this.renderedAttributions_)){P0(this.ulElement_);for(let s=0,a=t.length;s<a;++s){const u=document.createElement("li");u.innerHTML=t[s],this.ulElement_.appendChild(u)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(_g),this.collapsed_?vg(this.collapseLabel_,this.label_):vg(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class U0 extends nh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",s=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(s));const a=e.tipLabel?e.tipLabel:"Reset rotation",u=document.createElement("button");u.className=t+"-reset",u.setAttribute("type","button"),u.title=a,u.appendChild(this.label_),u.addEventListener(pe.CLICK,this.handleClick_.bind(this),!1);const h=t+" "+ia+" "+th,d=this.element;d.className=h,d.appendChild(u),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Rl)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Jr}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const s="rotate("+i+"rad)";if(this.autoHide_){const a=this.element.classList.contains(Rl);!a&&i===0?this.element.classList.add(Rl):a&&i!==0&&this.element.classList.remove(Rl)}this.label_.style.transform=s}this.rotation_=i}}class B0 extends nh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,s=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",a=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",u=e.zoomInLabel!==void 0?e.zoomInLabel:"+",h=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",d=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",m=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=d,p.appendChild(typeof u=="string"?document.createTextNode(u):u),p.addEventListener(pe.CLICK,this.handleClick_.bind(this,i),!1);const _=document.createElement("button");_.className=a,_.setAttribute("type","button"),_.title=m,_.appendChild(typeof h=="string"?document.createTextNode(h):h),_.addEventListener(pe.CLICK,this.handleClick_.bind(this,-i),!1);const v=t+" "+ia+" "+th,x=this.element;x.className=v,x.appendChild(p),x.appendChild(_),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const a=i.getConstrainedZoom(s+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Jr})):i.setZoom(a)}}}function V0(o){o=o||{};const e=new _n;return(o.zoom!==void 0?o.zoom:!0)&&e.push(new B0(o.zoomOptions)),(o.rotate!==void 0?o.rotate:!0)&&e.push(new U0(o.rotateOptions)),(o.attribution!==void 0?o.attribution:!0)&&e.push(new Y0(o.attributionOptions)),e}const Eg={ACTIVE:"active"};class ro extends Cn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Eg.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Eg.ACTIVE,e)}setMap(e){this.map_=e}}function K0(o,e,t){const i=o.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];o.animateInternal({duration:t!==void 0?t:250,easing:i0,center:o.getConstrainedCenter(s)})}}function ih(o,e,t,i){const s=o.getZoom();if(s===void 0)return;const a=o.getConstrainedZoom(s+e),u=o.getResolutionForZoom(a);o.getAnimating()&&o.cancelAnimations(),o.animate({resolution:u,anchor:t,duration:i!==void 0?i:250,easing:Jr})}class Z0 extends ro{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Ge.DBLCLICK){const i=e.originalEvent,s=e.map,a=e.coordinate,u=i.shiftKey?-this.delta_:this.delta_,h=s.getView();ih(h,u,a,this.duration_),i.preventDefault(),t=!0}return!t}}class so extends ro{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ge.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ge.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Ge.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Ge.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function rh(o){const e=o.length;let t=0,i=0;for(let s=0;s<e;s++)t+=o[s].clientX,i+=o[s].clientY;return{clientX:t/e,clientY:i/e}}function Sc(o){const e=arguments;return function(t){let i=!0;for(let s=0,a=e.length;s<a&&(i=i&&e[s](t),!!i);++s);return i}}const H0=function(o){const e=o.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},b0=function(o){const e=o.map.getTargetElement(),t=o.map.getOwnerDocument().activeElement;return e.contains(t)},km=function(o){return o.map.getTargetElement().hasAttribute("tabindex")?b0(o):!0},$0=Bs,Pm=function(o){const e=o.originalEvent;return e.button==0&&!(dy&&Zg&&e.ctrlKey)},Mm=function(o){const e=o.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},q0=function(o){const e=o.originalEvent;return Zg?e.metaKey:e.ctrlKey},Q0=function(o){const e=o.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Om=function(o){const e=o.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Ju=function(o){const e=o.originalEvent;return ve(e!==void 0,56),e.pointerType=="mouse"},J0=function(o){const e=o.originalEvent;return ve(e!==void 0,56),e.isPrimary&&e.button===0};class ev extends so{constructor(e){super({stopDown:Zl}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Sc(Mm,J0);this.condition_=e.onFocusOnly?Sc(km,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,s=t.getEventPixel(rh(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const a=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],h=e.map.getView();Uy(a,h.getResolution()),jc(a,h.getRotation()),h.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),u=i.getCenterInternal(),h=t.getPixelFromCoordinateInternal(u),d=t.getCoordinateFromPixelInternal([h[0]-s*Math.cos(a),h[1]-s*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(d),duration:500,easing:Jr})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class tv extends so{constructor(e){e=e||{},super({stopDown:Zl}),this.condition_=e.condition?e.condition:H0,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Ju(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===Kc)return;const s=t.getSize(),a=e.pixel,u=Math.atan2(s[1]/2-a[1],a[0]-s[0]/2);if(this.lastAngle_!==void 0){const h=u-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=u}handleUpEvent(e){return Ju(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Ju(e)&&Pm(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class nv extends Mc{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",s=this.element_.style;s.left=Math.min(e[0],t[0])+i,s.top=Math.min(e[1],t[1])+i,s.width=Math.abs(t[0]-e[0])+i,s.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,s=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new Ii([s])}getGeometry(){return this.geometry_}}const Tl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class ec extends Vn{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class iv extends so{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new nv(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Pm,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const s=i[0]-t[0],a=i[1]-t[1];return s*s+a*a>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ec(Tl.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new ec(t?Tl.BOXEND:Tl.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ec(Tl.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class rv extends iv{constructor(e){e=e||{};const t=e.condition?e.condition:Q0;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let s=this.getGeometry();if(this.out_){const a=i.rotatedExtentForGeometry(s),u=i.getResolutionForExtentInternal(a),h=i.getResolution()/u;s=s.clone(),s.scale(h*h)}i.fitInternal(s,{duration:this.duration_,easing:Jr})}}const Ki={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class sv extends ro{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Mm(t)&&Om(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==pe.KEYDOWN){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==Ki.DOWN||s==Ki.LEFT||s==Ki.RIGHT||s==Ki.UP)){const u=e.map.getView(),h=u.getResolution()*this.pixelDelta_;let d=0,m=0;s==Ki.DOWN?m=-h:s==Ki.LEFT?d=-h:s==Ki.RIGHT?d=h:m=h;const p=[d,m];jc(p,u.getRotation()),K0(u,p,this.duration_),i.preventDefault(),t=!0}}return!t}}class ov extends ro{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!q0(t)&&Om(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==pe.KEYDOWN||e.type==pe.KEYPRESS){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==="+"||s==="-")){const a=e.map,u=s==="+"?this.delta_:-this.delta_,h=a.getView();ih(h,u,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}class lv{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const s=this.points_[t+2]-this.points_[i+2];if(s<1e3/60)return!1;const a=this.points_[t]-this.points_[i],u=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(u,a),this.initialVelocity_=Math.sqrt(a*a+u*u)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class av extends ro{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:$0;this.condition_=e.onFocusOnly?Sc(km,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==pe.WHEEL)return!0;const i=e.map,s=e.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let a;if(e.type==pe.WHEEL&&(a=s.deltaY,cy&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Hg),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;const u=Date.now();this.startTime_===void 0&&(this.startTime_=u),(!this.mode_||u-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?"trackpad":"wheel");const h=i.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=u,!1;this.totalDelta_+=a;const d=Math.max(this.timeout_-(u-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),d),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-Ke(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),ih(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class uv extends so{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Zl),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],s=this.targetPointers[1],a=Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX);if(this.lastAngle_!==void 0){const d=a-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=d}this.lastAngle_=a;const u=e.map,h=u.getView();h.getConstraints().rotation!==Kc&&(this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel(rh(this.targetPointers))),this.rotating_&&(u.render(),h.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class cv extends so{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Zl),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],s=this.targetPointers[1],a=i.clientX-s.clientX,u=i.clientY-s.clientY,h=Math.sqrt(a*a+u*u);this.lastDistance_!==void 0&&(t=this.lastDistance_/h),this.lastDistance_=h;const d=e.map,m=d.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(rh(this.targetPointers))),d.render(),m.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),s=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function hv(o){o=o||{};const e=new _n,t=new lv(-.005,.05,100);return(o.altShiftDragRotate!==void 0?o.altShiftDragRotate:!0)&&e.push(new tv),(o.doubleClickZoom!==void 0?o.doubleClickZoom:!0)&&e.push(new Z0({delta:o.zoomDelta,duration:o.zoomDuration})),(o.dragPan!==void 0?o.dragPan:!0)&&e.push(new ev({onFocusOnly:o.onFocusOnly,kinetic:t})),(o.pinchRotate!==void 0?o.pinchRotate:!0)&&e.push(new uv),(o.pinchZoom!==void 0?o.pinchZoom:!0)&&e.push(new cv({duration:o.zoomDuration})),(o.keyboard!==void 0?o.keyboard:!0)&&(e.push(new sv),e.push(new ov({delta:o.zoomDelta,duration:o.zoomDuration}))),(o.mouseWheelZoom!==void 0?o.mouseWheelZoom:!0)&&e.push(new av({onFocusOnly:o.onFocusOnly,duration:o.zoomDuration})),(o.shiftDragZoom!==void 0?o.shiftDragZoom:!0)&&e.push(new rv({duration:o.zoomDuration})),e}function Cg(o){return o[0]>0&&o[1]>0}function dv(o,e,t){return t===void 0&&(t=[0,0]),t[0]=o[0]*e+.5|0,t[1]=o[1]*e+.5|0,t}function Zt(o,e){return Array.isArray(o)?o:(e===void 0?e=[o,o]:(e[0]=o,e[1]=o),e)}function Am(o){if(o instanceof na){o.setMapInternal(null);return}o instanceof es&&o.getLayers().forEach(Am)}function Fm(o,e){if(o instanceof na){o.setMapInternal(e);return}if(o instanceof es){const t=o.getLayers().getArray();for(let i=0,s=t.length;i<s;++i)Fm(t[i],e)}}let fv=class extends Cn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=gv(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Hg,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=vn(),this.pixelToCoordinateTransform_=vn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||V0(),this.interactions=t.interactions||hv({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new j0(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ct.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(ct.VIEW,this.handleViewChanged_),this.addChangeListener(ct.SIZE,this.handleSizeChanged_),this.addChangeListener(ct.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof mn)&&e.view.then(function(s){i.setView(new mn(s))}),this.controls.addEventListener(Tt.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(Tt.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(Tt.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(Tt.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(Tt.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(Tt.REMOVE,s=>{const a=s.element.getId();a!==void 0&&delete this.overlayIdIndex_[a.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Fm(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const a=i.hitTolerance!==void 0?i.hitTolerance:0,u=i.layerFilter!==void 0?i.layerFilter:Bs,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,a,h,t,null,u,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(s){i.push(s)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(s){s instanceof es?t(s.getLayers()):e.push(s)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const s=t.layerFilter!==void 0?t.layerFilter:Bs,a=t.hitTolerance!==void 0?t.hitTolerance:0,u=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,u,s,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),s=this.getSize(),a=i.width/s[0],u=i.height/s[1],h="changedTouches"in e?e.changedTouches[0]:e;return[(h.clientX-i.left)/a,(h.clientY-i.top)/u]}getTarget(){return this.get(ct.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return _c(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?tt(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ct.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof _n){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const s=e[t];if(!s.visible)continue;const a=s.layer.getRenderer();if(a&&!a.ready)return!0;const u=s.layer.getSource();if(u&&u.loading)return!0}return!1}getPixelFromCoordinate(e){const t=jn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?tt(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ct.SIZE)}getView(){return this.get(ct.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,s){return X0(this.frameState_,e,t,i,s)}handleBrowserEvent(e,t){t=t||e.type;const i=new vi(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===wc.POINTERDOWN||i===pe.WHEEL||i===pe.KEYDOWN){const s=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():s,u=t.target;if(this.overlayContainerStopEvent_.contains(u)||!(a===s?s.documentElement:a).contains(u))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const s=this.getInteractions().getArray().slice();for(let a=s.length-1;a>=0;a--){const u=s[a];if(u.getMap()!==this||!u.getActive()||!this.getTargetElement())continue;if(!u.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let s=this.maxTilesLoading_,a=s;if(e){const u=e.viewHints;if(u[ht.ANIMATING]||u[ht.INTERACTING]){const h=Date.now()-e.time>8;s=h?0:8,a=h?0:2}}t.getTilesLoading()<s&&(t.reprioritize(),t.loadMoreTiles(s,a))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(xn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(xn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Wr(xi.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Wr(xi.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let s=0,a=i.length;s<a;++s)i[s](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,s=this.targetChangeHandlerKeys_.length;i<s;++i)Ae(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(pe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(pe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,xc(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new z0(this)),this.mapBrowserEventHandler_=new G0(this,this.moveTolerance_);for(const a in Ge)this.mapBrowserEventHandler_.addEventListener(Ge[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(pe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(pe.WHEEL,this.boundHandleBrowserEvent_,bg?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[we(i,pe.KEYDOWN,this.handleBrowserEvent,this),we(i,pe.KEYPRESS,this.handleBrowserEvent,this)];const s=t.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ae(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ae(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=we(e,Zr.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=we(e,pe.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ae),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ei("addlayer",e)),this.layerGroupPropertyListenerKeys_=[we(e,Zr.PROPERTYCHANGE,this.render,this),we(e,pe.CHANGE,this.render,this),we(e,"addlayer",this.handleLayerAdd_,this),we(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const s=e[t].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const e=this.frameState_;e&&this.renderer_.flushDeclutterItems(e)}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Am(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),s=this.frameState_;let a=null;if(t!==void 0&&Cg(t)&&i&&i.isDef()){const u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=i.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:fc(h.center,h.resolution,h.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:h,viewHints:u,wantedTiles:{},mapId:Te(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;a.nextExtent=fc(h.nextCenter,h.nextResolution,d,t)}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s&&(!this.previousExtent_||!Jl(this.previousExtent_)&&!Vs(a.extent,this.previousExtent_))&&(this.dispatchEvent(new Wr(xi.MOVESTART,this,s)),this.previousExtent_=no(this.previousExtent_)),this.previousExtent_&&!a.viewHints[ht.ANIMATING]&&!a.viewHints[ht.INTERACTING]&&!Vs(a.extent,this.previousExtent_)&&(this.dispatchEvent(new Wr(xi.MOVEEND,this,a)),qg(a.extent,this.previousExtent_))),this.dispatchEvent(new Wr(xi.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(xi.LOADSTART)||this.hasListener(xi.LOADEND)||this.hasListener(xn.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Ei("removelayer",t)),this.set(ct.LAYERGROUP,e)}setSize(e){this.set(ct.SIZE,e)}setTarget(e){this.set(ct.TARGET,e)}setView(e){if(!e||e instanceof mn){this.set(ct.VIEW,e);return}this.set(ct.VIEW,new mn);const t=this;e.then(function(i){t.setView(new mn(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const s=getComputedStyle(e),a=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),u=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(a)&&!isNaN(u)&&(t=[a,u],!Cg(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&am("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!Li(t,i))&&(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let t;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(t=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(t)}}};function gv(o){let e=null;o.keyboardEventTarget!==void 0&&(e=typeof o.keyboardEventTarget=="string"?document.getElementById(o.keyboardEventTarget):o.keyboardEventTarget);const t={},i=o.layers&&typeof o.layers.getLayers=="function"?o.layers:new es({layers:o.layers});t[ct.LAYERGROUP]=i,t[ct.TARGET]=o.target,t[ct.VIEW]=o.view instanceof mn?o.view:new mn;let s;o.controls!==void 0&&(Array.isArray(o.controls)?s=new _n(o.controls.slice()):(ve(typeof o.controls.getArray=="function",47),s=o.controls));let a;o.interactions!==void 0&&(Array.isArray(o.interactions)?a=new _n(o.interactions.slice()):(ve(typeof o.interactions.getArray=="function",48),a=o.interactions));let u;return o.overlays!==void 0?Array.isArray(o.overlays)?u=new _n(o.overlays.slice()):(ve(typeof o.overlays.getArray=="function",49),u=o.overlays):u=new _n,{controls:s,interactions:a,keyboardEventTarget:e,overlays:u,values:t}}const Il={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class mv extends na{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Il.PRELOAD)}setPreload(e){this.set(Il.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Il.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Il.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const We={IDLE:0,LOADING:1,LOADED:2,ERROR:3};class pv extends to{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return ge()}getData(e){return null}prepareFrame(e){return ge()}renderFrame(e,t){return ge()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(s,a)=>{const u=this.loadedTileCallback.bind(this,i,s);return e.forEachLoadedTile(t,s,a,u)}}forEachFeatureAtCoordinate(e,t,i,s,a){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===We.LOADED||t.getState()===We.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=We.LOADED&&t!=We.ERROR&&e.addEventListener(pe.CHANGE,this.boundHandleImageChange_),t==We.IDLE&&(e.load(),t=e.getState()),t==We.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const wg=[];let jr=null;function _v(){jr=_t(1,1,void 0,{willReadFrequently:!0})}class Dm extends pv{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=vn(),this.pixelTransform=vn(),this.inversePixelTransform=vn(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){jr||_v(),jr.clearRect(0,0,1,1);let s;try{jr.drawImage(e,t,i,1,1,0,0,1,1),s=jr.getImageData(0,0,1,1).data}catch{return jr=null,null}return s}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const s=this.getLayer().getClassName();let a,u;if(e&&e.className===s&&(!i||e&&e.style.backgroundColor&&Li(Fl(e.style.backgroundColor),Fl(i)))){const h=e.firstElementChild;h instanceof HTMLCanvasElement&&(u=h.getContext("2d"))}if(u&&u.canvas.style.transform===t?(this.container=e,this.context=u,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=document.createElement("div"),a.className=s;let h=a.style;h.position="absolute",h.width="100%",h.height="100%",u=_t();const d=u.canvas;a.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=a,this.context=u}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const s=or(i),a=Ql(i),u=ql(i),h=$l(i);tt(t.coordinateToPixelTransform,s),tt(t.coordinateToPixelTransform,a),tt(t.coordinateToPixelTransform,u),tt(t.coordinateToPixelTransform,h);const d=this.inversePixelTransform;tt(d,s),tt(d,a),tt(d,u),tt(d,h),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.lineTo(Math.round(h[0]),Math.round(h[1])),e.clip()}dispatchRenderEvent_(e,t,i){const s=this.getLayer();if(s.hasListener(e)){const a=new Rm(e,this.inversePixelTransform,i,t);s.dispatchEvent(a)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(xn.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(xn.POSTRENDER,e,t)}getRenderTransform(e,t,i,s,a,u,h){const d=a/2,m=u/2,p=s/t,_=-p,v=-e[0]+h,x=-e[1];return Ri(this.tempTransform,d,m,p,_,-i,v,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Nm extends Hl{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(pe.CHANGE)}release(){this.state===ue.ERROR&&this.setState(ue.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==ue.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(e.getState()==ue.LOADED){e.interimTile=null;break}else e.getState()==ue.LOADING?t=e:e.getState()==ue.IDLE?t.interimTile=e.interimTile:t=e;e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ue.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ge()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const s=t-i+1e3/60;return s>=this.transition_?1:fm(s/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}function zm(o,e,t){const i=o;let s=!0,a=!1,u=!1;const h=[Al(i,pe.LOAD,function(){u=!0,a||e()})];return i.src&&fy?(a=!0,i.decode().then(function(){s&&e()}).catch(function(d){s&&(u?e():t())})):h.push(Al(i,pe.ERROR,t)),function(){s=!1,h.forEach(Ae)}}class Gm extends Nm{constructor(e,t,i,s,a,u){super(e,t,u),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=a}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ue.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ue.ERROR,this.unlistenImage_(),this.image_=yv(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ue.LOADED:this.state=ue.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ue.ERROR&&(this.state=ue.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ue.IDLE&&(this.state=ue.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=zm(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function yv(){const o=_t(1,1);return o.fillStyle="rgba(0,0,0,0)",o.fillRect(0,0,1,1),o.canvas}const vv=.5,xv=10,Sg=.25;class Ev{constructor(e,t,i,s,a,u){this.sourceProj_=e,this.targetProj_=t;let h={};const d=Gl(this.targetProj_,this.sourceProj_);this.transformInv_=function(M){const F=M[0]+"/"+M[1];return h[F]||(h[F]=d(M)),h[F]},this.maxSourceExtent_=s,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&Oe(s)>=Oe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Oe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Oe(this.targetProj_.getExtent()):null;const m=or(i),p=Ql(i),_=ql(i),v=$l(i),x=this.transformInv_(m),E=this.transformInv_(p),w=this.transformInv_(_),R=this.transformInv_(v),k=xv+(u?Math.max(0,Math.ceil(Math.log2(dc(i)/(u*u*256*256)))):0);if(this.addQuad_(m,p,_,v,x,E,w,R,k),this.wrapsXInSource_){let M=1/0;this.triangles_.forEach(function(F,A,z){M=Math.min(M,F.source[0][0],F.source[1][0],F.source[2][0])}),this.triangles_.forEach(F=>{if(Math.max(F.source[0][0],F.source[1][0],F.source[2][0])-M>this.sourceWorldWidth_/2){const A=[[F.source[0][0],F.source[0][1]],[F.source[1][0],F.source[1][1]],[F.source[2][0],F.source[2][1]]];A[0][0]-M>this.sourceWorldWidth_/2&&(A[0][0]-=this.sourceWorldWidth_),A[1][0]-M>this.sourceWorldWidth_/2&&(A[1][0]-=this.sourceWorldWidth_),A[2][0]-M>this.sourceWorldWidth_/2&&(A[2][0]-=this.sourceWorldWidth_);const z=Math.min(A[0][0],A[1][0],A[2][0]);Math.max(A[0][0],A[1][0],A[2][0])-z<this.sourceWorldWidth_/2&&(F.source=A)}})}h={}}addTriangle_(e,t,i,s,a,u){this.triangles_.push({source:[s,a,u],target:[e,t,i]})}addQuad_(e,t,i,s,a,u,h,d,m){const p=eg([a,u,h,d]),_=this.sourceWorldWidth_?Oe(p)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&_>.5&&_<1;let E=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const R=eg([e,t,i,s]);E=Oe(R)/this.targetWorldWidth_>Sg||E}!x&&this.sourceProj_.isGlobal()&&_&&(E=_>Sg||E)}if(!E&&this.maxSourceExtent_&&isFinite(p[0])&&isFinite(p[1])&&isFinite(p[2])&&isFinite(p[3])&&!Lt(p,this.maxSourceExtent_))return;let w=0;if(!E&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(u[0])||!isFinite(u[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(m>0)E=!0;else if(w=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(u[0])||!isFinite(u[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(m>0){if(!E){const R=[(e[0]+i[0])/2,(e[1]+i[1])/2],k=this.transformInv_(R);let M;x?M=(Br(a[0],v)+Br(h[0],v))/2-Br(k[0],v):M=(a[0]+h[0])/2-k[0];const F=(a[1]+h[1])/2-k[1];E=M*M+F*F>this.errorThresholdSquared_}if(E){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const R=[(t[0]+i[0])/2,(t[1]+i[1])/2],k=this.transformInv_(R),M=[(s[0]+e[0])/2,(s[1]+e[1])/2],F=this.transformInv_(M);this.addQuad_(e,t,R,M,a,u,k,F,m-1),this.addQuad_(M,R,i,s,F,k,h,d,m-1)}else{const R=[(e[0]+t[0])/2,(e[1]+t[1])/2],k=this.transformInv_(R),M=[(i[0]+s[0])/2,(i[1]+s[1])/2],F=this.transformInv_(M);this.addQuad_(e,R,M,s,a,k,F,d,m-1),this.addQuad_(R,t,i,M,k,u,h,F,m-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(e,i,s,a,h,d),(w&14)==0&&this.addTriangle_(e,i,t,a,h,u),w&&((w&13)==0&&this.addTriangle_(t,s,e,u,d,a),(w&7)==0&&this.addTriangle_(t,s,i,u,d,h))}calculateSourceExtent(){const e=Ht();return this.triangles_.forEach(function(t,i,s){const a=t.source;Ys(e,a[0]),Ys(e,a[1]),Ys(e,a[2])}),e}getTriangles(){return this.triangles_}}let tc;const Kr=[];function Rg(o,e,t,i,s){o.beginPath(),o.moveTo(0,0),o.lineTo(e,t),o.lineTo(i,s),o.closePath(),o.save(),o.clip(),o.fillRect(0,0,Math.max(e,i)+1,Math.max(t,s)),o.restore()}function nc(o,e){return Math.abs(o[e*4]-210)>2||Math.abs(o[e*4+3]-.75*255)>2}function Cv(){if(tc===void 0){const o=_t(6,6,Kr);o.globalCompositeOperation="lighter",o.fillStyle="rgba(210, 0, 0, 0.75)",Rg(o,4,5,4,0),Rg(o,4,5,0,5);const e=o.getImageData(0,0,3,3).data;tc=nc(e,0)||nc(e,4)||nc(e,8),ra(o),Kr.push(o.canvas)}return tc}function Tg(o,e,t,i){const s=hm(t,e,o);let a=lg(e,i,t);const u=e.getMetersPerUnit();u!==void 0&&(a*=u);const h=o.getMetersPerUnit();h!==void 0&&(a/=h);const d=o.getExtent();if(!d||bl(d,s)){const m=lg(o,a,s)/a;isFinite(m)&&m>0&&(a/=m)}return a}function wv(o,e,t,i){const s=nr(t);let a=Tg(o,e,s,i);return(!isFinite(a)||a<=0)&&tm(t,function(u){return a=Tg(o,e,u,i),isFinite(a)&&a>0}),a}function Sv(o,e,t,i,s,a,u,h,d,m,p,_){const v=_t(Math.round(t*o),Math.round(t*e),Kr);if(_||(v.imageSmoothingEnabled=!1),d.length===0)return v.canvas;v.scale(t,t);function x(A){return Math.round(A*t)/t}v.globalCompositeOperation="lighter";const E=Ht();d.forEach(function(A,z,B){Jg(E,A.extent)});const w=Oe(E),R=En(E),k=_t(Math.round(t*w/i),Math.round(t*R/i),Kr);_||(k.imageSmoothingEnabled=!1);const M=t/i;d.forEach(function(A,z,B){const Z=A.extent[0]-E[0],V=-(A.extent[3]-E[3]),te=Oe(A.extent),re=En(A.extent);A.image.width>0&&A.image.height>0&&k.drawImage(A.image,m,m,A.image.width-2*m,A.image.height-2*m,Z*M,V*M,te*M,re*M)});const F=or(u);return h.getTriangles().forEach(function(A,z,B){const Z=A.source,V=A.target;let te=Z[0][0],re=Z[0][1],_e=Z[1][0],he=Z[1][1],ce=Z[2][0],Re=Z[2][1];const $=x((V[0][0]-F[0])/a),J=x(-(V[0][1]-F[1])/a),Y=x((V[1][0]-F[0])/a),N=x(-(V[1][1]-F[1])/a),K=x((V[2][0]-F[0])/a),X=x(-(V[2][1]-F[1])/a),L=te,I=re;te=0,re=0,_e-=L,he-=I,ce-=L,Re-=I;const se=[[_e,he,0,0,Y-$],[ce,Re,0,0,K-$],[0,0,_e,he,N-J],[0,0,ce,Re,X-J]],b=Ry(se);if(b){if(v.save(),v.beginPath(),Cv()||!_){v.moveTo(Y,N);const ne=4,me=$-Y,xe=J-N;for(let de=0;de<ne;de++)v.lineTo(Y+x((de+1)*me/ne),N+x(de*xe/(ne-1))),de!=ne-1&&v.lineTo(Y+x((de+1)*me/ne),N+x((de+1)*xe/(ne-1)));v.lineTo(K,X)}else v.moveTo(Y,N),v.lineTo($,J),v.lineTo(K,X);v.clip(),v.transform(b[0],b[2],b[1],b[3],$,J),v.translate(E[0]-L,E[3]-I),v.scale(i/t,-i/t),v.drawImage(k.canvas,0,0),v.restore()}}),ra(k),Kr.push(k.canvas),p&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,h.getTriangles().forEach(function(A,z,B){const Z=A.target,V=(Z[0][0]-F[0])/a,te=-(Z[0][1]-F[1])/a,re=(Z[1][0]-F[0])/a,_e=-(Z[1][1]-F[1])/a,he=(Z[2][0]-F[0])/a,ce=-(Z[2][1]-F[1])/a;v.beginPath(),v.moveTo(re,_e),v.lineTo(V,te),v.lineTo(he,ce),v.closePath(),v.stroke()}),v.restore()),v.canvas}class Rc extends Nm{constructor(e,t,i,s,a,u,h,d,m,p,_,v){super(a,ue.IDLE,{interpolate:!!v}),this.renderEdges_=_!==void 0?_:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=s,this.wrappedTileCoord_=u||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const x=s.getTileCoordExtent(this.wrappedTileCoord_),E=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const R=E?Us(x,E):x;if(dc(R)===0){this.state=ue.EMPTY;return}const k=e.getExtent();k&&(w?w=Us(w,k):w=k);const M=s.getResolution(this.wrappedTileCoord_[0]),F=wv(e,i,R,M);if(!isFinite(F)||F<=0){this.state=ue.EMPTY;return}const A=p!==void 0?p:vv;if(this.triangulation_=new Ev(e,i,R,w,F*A,M),this.triangulation_.getTriangles().length===0){this.state=ue.EMPTY;return}this.sourceZ_=t.getZForResolution(F);let z=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(z[1]=Ke(z[1],w[1],w[3]),z[3]=Ke(z[3],w[1],w[3])):z=Us(z,w)),!dc(z))this.state=ue.EMPTY;else{const B=t.getTileRangeForExtentAndZ(z,this.sourceZ_);for(let Z=B.minX;Z<=B.maxX;Z++)for(let V=B.minY;V<=B.maxY;V++){const te=m(this.sourceZ_,Z,V,h);te&&this.sourceTiles_.push(te)}this.sourceTiles_.length===0&&(this.state=ue.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&t.getState()==ue.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=ue.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),s=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],u=this.targetTileGrid_.getResolution(t),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Sv(s,a,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),u,d,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ue.LOADED}this.changed()}load(){if(this.state==ue.IDLE){this.state=ue.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const i=t.getState();if(i==ue.IDLE||i==ue.LOADING){e++;const s=we(t,pe.CHANGE,function(a){const u=t.getState();(u==ue.LOADED||u==ue.ERROR||u==ue.EMPTY)&&(Ae(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,i,s){t.getState()==ue.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ae),this.sourcesListenerKeys_=null}release(){this.canvas_&&(ra(this.canvas_.getContext("2d")),Kr.push(this.canvas_),this.canvas_=null),super.release()}}class sh{constructor(e,t,i,s){this.minX=e,this.maxX=t,this.minY=i,this.maxY=s}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Fr(o,e,t,i,s){return s!==void 0?(s.minX=o,s.maxX=e,s.minY=t,s.maxY=i,s):new sh(o,e,t,i)}class Rv extends Dm{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Ht(),this.tmpTileRange_=new sh(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),s=t.getUseInterimTilesOnError();return i==ue.LOADED||i==ue.EMPTY||i==ue.ERROR&&!s}getTile(e,t,i,s){const a=s.pixelRatio,u=s.viewState.projection,h=this.getLayer();let m=h.getSource().getTile(e,t,i,a,u);return m.getState()==ue.ERROR&&h.getUseInterimTilesOnError()&&h.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(m)||(m=m.getInterimTile()),m}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),s=tt(t.pixelToCoordinateTransform,e.slice()),a=i.getExtent();if(a&&!bl(a,s))return null;const u=t.pixelRatio,h=t.viewState.projection,d=t.viewState,m=i.getRenderSource(),p=m.getTileGridForProjection(d.projection),_=m.getTilePixelRatio(t.pixelRatio);for(let v=p.getZForResolution(d.resolution);v>=p.getMinZoom();--v){const x=p.getTileCoordForCoordAndZ(s,v),E=m.getTile(v,x[1],x[2],u,h);if(!(E instanceof Gm||E instanceof Rc)||E instanceof Rc&&E.getState()===ue.EMPTY)return null;if(E.getState()!==ue.LOADED)continue;const w=p.getOrigin(v),R=Zt(p.getTileSize(v)),k=p.getResolution(v),M=Math.floor(_*((s[0]-w[0])/k-x[1]*R[0])),F=Math.floor(_*((w[1]-s[1])/k-x[2]*R[1])),A=Math.round(_*m.getGutterForProjection(d.projection));return this.getImageData(E.getImage(),M+A,F+A)}return null}loadedTileCallback(e,t,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,t,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],s=e.viewState,a=s.projection,u=s.resolution,h=s.center,d=s.rotation,m=e.pixelRatio,p=this.getLayer(),_=p.getSource(),v=_.getRevision(),x=_.getTileGridForProjection(a),E=x.getZForResolution(u,_.zDirection),w=x.getResolution(E);let R=e.extent;const k=e.viewState.resolution,M=_.getTilePixelRatio(m),F=Math.round(Oe(R)/k*m),A=Math.round(En(R)/k*m),z=i.extent&&bi(i.extent);z&&(R=Us(R,bi(i.extent)));const B=w*F/2/M,Z=w*A/2/M,V=[h[0]-B,h[1]-Z,h[0]+B,h[1]+Z],te=x.getTileRangeForExtentAndZ(R,E),re={};re[E]={};const _e=this.createLoadedTileFinder(_,a,re),he=this.tmpExtent,ce=this.tmpTileRange_;this.newTiles_=!1;const Re=d?gc(s.center,k,d,e.size):void 0;for(let se=te.minX;se<=te.maxX;++se)for(let b=te.minY;b<=te.maxY;++b){if(d&&!x.tileCoordIntersectsViewport([E,se,b],Re))continue;const ne=this.getTile(E,se,b,e);if(this.isDrawableTile(ne)){const de=Te(this);if(ne.getState()==ue.LOADED){re[E][ne.tileCoord.toString()]=ne;let Ee=ne.inTransition(de);Ee&&i.opacity!==1&&(ne.endTransition(de),Ee=!1),!this.newTiles_&&(Ee||!this.renderedTiles.includes(ne))&&(this.newTiles_=!0)}if(ne.getAlpha(de,e.time)===1)continue}const me=x.getTileCoordChildTileRange(ne.tileCoord,ce,he);let xe=!1;me&&(xe=_e(E+1,me)),xe||x.forEachTileCoordParentTileRange(ne.tileCoord,_e,ce,he)}const $=w/u*m/M;Ri(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/m,1/m,d,-F/2,-A/2);const J=$g(this.pixelTransform);this.useContainer(t,J,this.getBackground(e));const Y=this.context,N=Y.canvas;Fc(this.inversePixelTransform,this.pixelTransform),Ri(this.tempTransform,F/2,A/2,$,$,0,-F/2,-A/2),N.width!=F||N.height!=A?(N.width=F,N.height=A):this.containerReused||Y.clearRect(0,0,F,A),z&&this.clipUnrotated(Y,e,z),_.getInterpolate()||(Y.imageSmoothingEnabled=!1),this.preRender(Y,e),this.renderedTiles.length=0;let K=Object.keys(re).map(Number);K.sort(tr);let X,L,I;i.opacity===1&&(!this.containerReused||_.getOpaque(e.viewState.projection))?K=K.reverse():(X=[],L=[]);for(let se=K.length-1;se>=0;--se){const b=K[se],ne=_.getTilePixelSize(b,m,a),xe=x.getResolution(b)/w,de=ne[0]*xe*$,Ee=ne[1]*xe*$,Ue=x.getTileCoordForCoordAndZ(or(V),b),wn=x.getTileCoordExtent(Ue),Sn=tt(this.tempTransform,[M*(wn[0]-V[0])/w,M*(V[3]-wn[3])/w]),Rn=M*_.getGutterForProjection(a),Nt=re[b];for(const Kn in Nt){const bt=Nt[Kn],Zn=bt.tileCoord,ki=Ue[1]-Zn[1],Hn=Math.round(Sn[0]-(ki-1)*de),zt=Ue[2]-Zn[2],ln=Math.round(Sn[1]-(zt-1)*Ee),$e=Math.round(Sn[0]-ki*de),dt=Math.round(Sn[1]-zt*Ee),yt=Hn-$e,Gt=ln-dt,Tn=E===b,$t=Tn&&bt.getAlpha(Te(this),e.time)!==1;let kt=!1;if(!$t)if(X){I=[$e,dt,$e+yt,dt,$e+yt,dt+Gt,$e,dt+Gt];for(let In=0,an=X.length;In<an;++In)if(E!==b&&b<L[In]){const je=X[In];Lt([$e,dt,$e+yt,dt+Gt],[je[0],je[3],je[4],je[7]])&&(kt||(Y.save(),kt=!0),Y.beginPath(),Y.moveTo(I[0],I[1]),Y.lineTo(I[2],I[3]),Y.lineTo(I[4],I[5]),Y.lineTo(I[6],I[7]),Y.moveTo(je[6],je[7]),Y.lineTo(je[4],je[5]),Y.lineTo(je[2],je[3]),Y.lineTo(je[0],je[1]),Y.clip())}X.push(I),L.push(b)}else Y.clearRect($e,dt,yt,Gt);this.drawTileImage(bt,e,$e,dt,yt,Gt,Rn,Tn),X&&!$t?(kt&&Y.restore(),this.renderedTiles.unshift(bt)):this.renderedTiles.push(bt),this.updateUsedTiles(e.usedTiles,_,bt)}}return this.renderedRevision=v,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!Vs(this.renderedExtent_,V),this.renderedExtent_=V,this.renderedPixelRatio=m,this.renderedProjection=a,this.manageTilePyramid(e,_,x,m,a,R,E,p.getPreload()),this.scheduleExpireCache(e,_),this.postRender(Y,e),i.extent&&Y.restore(),Y.imageSmoothingEnabled=!0,J!==N.style.transform&&(N.style.transform=J),this.container}drawTileImage(e,t,i,s,a,u,h,d){const m=this.getTileImage(e);if(!m)return;const p=Te(this),_=t.layerStatesArray[t.layerIndex],v=_.opacity*(d?e.getAlpha(p,t.time):1),x=v!==this.context.globalAlpha;x&&(this.context.save(),this.context.globalAlpha=v),this.context.drawImage(m,h,h,m.width-2*h,m.height-2*h,i,s,a,u),x&&this.context.restore(),v!==_.opacity?t.animate=!0:d&&e.endTransition(p)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=(function(s,a,u){const h=Te(s);h in u.usedTiles&&s.expireCache(u.viewState.projection,u.usedTiles[h])}).bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const s=Te(t);s in e||(e[s]={}),e[s][i.getKey()]=!0}manageTilePyramid(e,t,i,s,a,u,h,d,m){const p=Te(t);p in e.wantedTiles||(e.wantedTiles[p]={});const _=e.wantedTiles[p],v=e.tileQueue,x=i.getMinZoom(),E=e.viewState.rotation,w=E?gc(e.viewState.center,e.viewState.resolution,E,e.size):void 0;let R=0,k,M,F,A,z,B;for(B=x;B<=h;++B)for(M=i.getTileRangeForExtentAndZ(u,B,M),F=i.getResolution(B),A=M.minX;A<=M.maxX;++A)for(z=M.minY;z<=M.maxY;++z)E&&!i.tileCoordIntersectsViewport([B,A,z],w)||(h-B<=d?(++R,k=t.getTile(B,A,z,s,a),k.getState()==ue.IDLE&&(_[k.getKey()]=!0,v.isKeyQueued(k.getKey())||v.enqueue([k,p,i.getTileCoordCenter(k.tileCoord),F])),m!==void 0&&m(k)):t.useTile(B,A,z,a));t.updateCacheSize(R,a)}}class Tv extends mv{constructor(e){super(e)}createRenderer(){return new Rv(this)}}function Iv(o,e,t,i,s){Wm(o,e,t||0,i||o.length-1,s||Lv)}function Wm(o,e,t,i,s){for(;i>t;){if(i-t>600){var a=i-t+1,u=e-t+1,h=Math.log(a),d=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*d*(a-d)/a)*(u-a/2<0?-1:1),p=Math.max(t,Math.floor(e-u*d/a+m)),_=Math.min(i,Math.floor(e+(a-u)*d/a+m));Wm(o,e,p,_,s)}var v=o[e],x=t,E=i;for(Gs(o,t,e),s(o[i],v)>0&&Gs(o,t,i);x<E;){for(Gs(o,x,E),x++,E--;s(o[x],v)<0;)x++;for(;s(o[E],v)>0;)E--}s(o[t],v)===0?Gs(o,t,E):(E++,Gs(o,E,i)),E<=e&&(t=E+1),e<=E&&(i=E-1)}}function Gs(o,e,t){var i=o[e];o[e]=o[t],o[t]=i}function Lv(o,e){return o<e?-1:o>e?1:0}let jm=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!kl(e,t))return i;const s=this.toBBox,a=[];for(;t;){for(let u=0;u<t.children.length;u++){const h=t.children[u],d=t.leaf?s(h):h;kl(e,d)&&(t.leaf?i.push(h):rc(e,d)?this._all(h,i):a.push(h))}t=a.pop()}return i}collides(e){let t=this.data;if(!kl(e,t))return!1;const i=[];for(;t;){for(let s=0;s<t.children.length;s++){const a=t.children[s],u=t.leaf?this.toBBox(a):a;if(kl(e,u)){if(t.leaf||rc(e,u))return!0;i.push(a)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Xr([]),this}remove(e,t){if(!e)return this;let i=this.data;const s=this.toBBox(e),a=[],u=[];let h,d,m;for(;i||a.length;){if(i||(i=a.pop(),d=a[a.length-1],h=u.pop(),m=!0),i.leaf){const p=kv(e,i.children,t);if(p!==-1)return i.children.splice(p,1),a.push(i),this._condense(a),this}!m&&!i.leaf&&rc(i,s)?(a.push(i),u.push(h),h=0,d=i,i=i.children[0]):d?(h++,i=d.children[h],m=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,s){const a=i-t+1;let u=this._maxEntries,h;if(a<=u)return h=Xr(e.slice(t,i+1)),Dr(h,this.toBBox),h;s||(s=Math.ceil(Math.log(a)/Math.log(u)),u=Math.ceil(a/Math.pow(u,s-1))),h=Xr([]),h.leaf=!1,h.height=s;const d=Math.ceil(a/u),m=d*Math.ceil(Math.sqrt(u));Ig(e,t,i,m,this.compareMinX);for(let p=t;p<=i;p+=m){const _=Math.min(p+m-1,i);Ig(e,p,_,d,this.compareMinY);for(let v=p;v<=_;v+=d){const x=Math.min(v+d-1,_);h.children.push(this._build(e,v,x,s-1))}}return Dr(h,this.toBBox),h}_chooseSubtree(e,t,i,s){for(;s.push(t),!(t.leaf||s.length-1===i);){let a=1/0,u=1/0,h;for(let d=0;d<t.children.length;d++){const m=t.children[d],p=ic(m),_=Ov(e,m)-p;_<u?(u=_,a=p<a?p:a,h=m):_===u&&p<a&&(a=p,h=m)}t=h||t.children[0]}return t}_insert(e,t,i){const s=i?e:this.toBBox(e),a=[],u=this._chooseSubtree(s,this.data,t,a);for(u.children.push(e),Xs(u,s);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(s,a,t)}_split(e,t){const i=e[t],s=i.children.length,a=this._minEntries;this._chooseSplitAxis(i,a,s);const u=this._chooseSplitIndex(i,a,s),h=Xr(i.children.splice(u,i.children.length-u));h.height=i.height,h.leaf=i.leaf,Dr(i,this.toBBox),Dr(h,this.toBBox),t?e[t-1].children.push(h):this._splitRoot(i,h)}_splitRoot(e,t){this.data=Xr([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Dr(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let s,a=1/0,u=1/0;for(let h=t;h<=i-t;h++){const d=js(e,0,h,this.toBBox),m=js(e,h,i,this.toBBox),p=Av(d,m),_=ic(d)+ic(m);p<a?(a=p,s=h,u=_<u?_:u):p===a&&_<u&&(u=_,s=h)}return s||i-t}_chooseSplitAxis(e,t,i){const s=e.leaf?this.compareMinX:Pv,a=e.leaf?this.compareMinY:Mv,u=this._allDistMargin(e,t,i,s),h=this._allDistMargin(e,t,i,a);u<h&&e.children.sort(s)}_allDistMargin(e,t,i,s){e.children.sort(s);const a=this.toBBox,u=js(e,0,t,a),h=js(e,i-t,i,a);let d=Ll(u)+Ll(h);for(let m=t;m<i-t;m++){const p=e.children[m];Xs(u,e.leaf?a(p):p),d+=Ll(u)}for(let m=i-t-1;m>=t;m--){const p=e.children[m];Xs(h,e.leaf?a(p):p),d+=Ll(h)}return d}_adjustParentBBoxes(e,t,i){for(let s=i;s>=0;s--)Xs(t[s],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Dr(e[t],this.toBBox)}};function kv(o,e,t){if(!t)return e.indexOf(o);for(let i=0;i<e.length;i++)if(t(o,e[i]))return i;return-1}function Dr(o,e){js(o,0,o.children.length,e,o)}function js(o,e,t,i,s){s||(s=Xr(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let a=e;a<t;a++){const u=o.children[a];Xs(s,o.leaf?i(u):u)}return s}function Xs(o,e){return o.minX=Math.min(o.minX,e.minX),o.minY=Math.min(o.minY,e.minY),o.maxX=Math.max(o.maxX,e.maxX),o.maxY=Math.max(o.maxY,e.maxY),o}function Pv(o,e){return o.minX-e.minX}function Mv(o,e){return o.minY-e.minY}function ic(o){return(o.maxX-o.minX)*(o.maxY-o.minY)}function Ll(o){return o.maxX-o.minX+(o.maxY-o.minY)}function Ov(o,e){return(Math.max(e.maxX,o.maxX)-Math.min(e.minX,o.minX))*(Math.max(e.maxY,o.maxY)-Math.min(e.minY,o.minY))}function Av(o,e){const t=Math.max(o.minX,e.minX),i=Math.max(o.minY,e.minY),s=Math.min(o.maxX,e.maxX),a=Math.min(o.maxY,e.maxY);return Math.max(0,s-t)*Math.max(0,a-i)}function rc(o,e){return o.minX<=e.minX&&o.minY<=e.minY&&e.maxX<=o.maxX&&e.maxY<=o.maxY}function kl(o,e){return e.minX<=o.maxX&&e.minY<=o.maxY&&e.maxX>=o.minX&&e.maxY>=o.minY}function Xr(o){return{children:o,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ig(o,e,t,i,s){const a=[e,t];for(;a.length;){if(t=a.pop(),e=a.pop(),t-e<=i)continue;const u=e+Math.ceil((t-e)/i/2)*i;Iv(o,u,e,t,s),a.push(e,u,u,t)}}class sa{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Zt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new sa({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ge()}getImage(e){return ge()}getHitDetectionImage(){return ge()}getPixelRatio(e){return 1}getImageState(){return ge()}getImageSize(){return ge()}getOrigin(){return ge()}getSize(){return ge()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Zt(e)}listenImageChange(e){ge()}load(){ge()}unlistenImageChange(e){ge()}}function yn(o){return Array.isArray(o)?rm(o):o}class oa extends sa{constructor(e){const t=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:t,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),t=new oa({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_;if(!e)return null;const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let t=this.canvas_[e];if(!t){const i=this.renderOptions_,s=_t(i.size*e,i.size*e);this.draw_(i,s,e),t=s.canvas,this.canvas_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return We.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let s=this.radius_,a=this.radius2_===void 0?s:this.radius2_;if(s<a){const B=s;s=a,a=B}const u=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/u,d=a*Math.sin(h),m=Math.sqrt(a*a-d*d),p=s-m,_=Math.sqrt(d*d+p*p),v=_/d;if(e==="miter"&&v<=i)return v*t;const x=t/2/v,E=t/2*(p/_),R=Math.sqrt((s+x)*(s+x)+E*E)-s;if(this.radius2_===void 0||e==="bevel")return R*2;const k=s*Math.sin(h),M=Math.sqrt(s*s-k*k),F=a-M,z=Math.sqrt(k*k+F*F)/k;if(z<=i){const B=z*t/2-a-s;return 2*Math.max(R,B)}return R*2}createRenderOptions(){let e=qr,t=0,i=null,s=0,a,u=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=bs),a=yn(a),u=this.stroke_.getWidth(),u===void 0&&(u=qs),i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=qr),t=this.stroke_.getMiterLimit(),t===void 0&&(t=Hs));const h=this.calculateLineJoinSize_(e,u,t),d=Math.max(this.radius_,this.radius2_||0),m=Math.ceil(2*d+h);return{strokeStyle:a,strokeWidth:u,size:m,lineDash:i,lineDashOffset:s,lineJoin:e,miterLimit:t}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let s=this.fill_.getColor();s===null&&(s=It),t.fillStyle=yn(s),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let t=this.fill_.getColor(),i=0;if(typeof t=="string"&&(t=Fl(t)),t===null?i=1:Array.isArray(t)&&(i=t.length===4?t[3]:1),i===0){const s=_t(e.size,e.size);this.hitDetectionCanvas_=s.canvas,this.drawHitDetectionCanvas_(e,s)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const a=this.angle_-Math.PI/2,u=2*Math.PI/t;for(let h=0;h<t;h++){const d=a+h*u,m=h%2===0?i:s;e.lineTo(m*Math.cos(d),m*Math.sin(d))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=It,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}class oo extends oa{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new oo({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}class ir{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new ir({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}class lo{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new lo({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class rr{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Lg,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new rr({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Lg,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function Fv(o){let e;if(typeof o=="function")e=o;else{let t;Array.isArray(o)?t=o:(ve(typeof o.getZIndex=="function",41),t=[o]),e=function(){return t}}return e}let sc=null;function Dv(o,e){if(!sc){const t=new ir({color:"rgba(255,255,255,0.4)"}),i=new lo({color:"#3399CC",width:1.25});sc=[new rr({image:new oo({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return sc}function Lg(o){return o.getGeometry()}let Ws=null;class Nv extends Hl{constructor(e,t,i,s,a,u){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=s,this.canvas_={},this.color_=u,this.unlisten_=null,this.imageState_=a,this.size_=i,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===We.LOADED){Ws||(Ws=_t(1,1,void 0,{willReadFrequently:!0})),Ws.drawImage(this.image_,0,0);try{Ws.getImageData(0,0,1,1),this.tainted_=!1}catch{Ws=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(pe.CHANGE)}handleImageError_(){this.imageState_=We.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=We.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=_t(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===We.IDLE){this.image_||this.initializeImage_(),this.imageState_=We.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=zm(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==We.LOADED)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const s=i.getContext("2d");s.scale(e,e),s.drawImage(t,0,0),s.globalCompositeOperation="multiply",s.fillStyle=im(this.color_),s.fillRect(0,0,i.width/e,i.height/e),s.globalCompositeOperation="destination-in",s.drawImage(t,0,0),this.canvas_[e]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function zv(o,e,t,i,s,a){let u=Dl.get(e,i,a);return u||(u=new Nv(o,e,t,i,s,a),Dl.set(e,i,a,u)),u}function kg(o,e,t,i){return t!==void 0&&i!==void 0?[t/o,i/e]:t!==void 0?t/o:i!==void 0?i/e:1}class la extends sa{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,s=e.scale!==void 0?e.scale:1,a=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:s,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:a,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const u=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let h=e.src;ve(!(h!==void 0&&u),4),ve(!u||u&&this.imgSize_,5),(h===void 0||h.length===0)&&u&&(h=u.src||Te(u)),ve(h!==void 0&&h.length>0,6),ve(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const d=e.src!==void 0?We.IDLE:We.LOADED;if(this.color_=e.color!==void 0?Fl(e.color):null,this.iconImage_=zv(u,h,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,d,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let m,p;if(e.size)[m,p]=e.size;else{const _=this.getImage(1);if(_ instanceof HTMLCanvasElement||_.src&&_.complete)m=_.width,p=_.height;else{this.initialOptions_=e;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const x=this.iconImage_.getSize();this.setScale(kg(x[0],x[1],e.width,e.height))};this.listenImageChange(v);return}}m!==void 0&&this.setScale(kg(m,p,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new la({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=s[0]),this.anchorYUnits_=="fraction"&&(e[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+s[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==We.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==We.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(pe.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(pe.CHANGE,e)}}const Gv="#333";class oh{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Zt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new ir({color:Gv}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new oh({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Zt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function Pg(o){return new rr({fill:Qs(o,""),stroke:Js(o,""),text:Wv(o),image:jv(o)})}function Qs(o,e){const t=o[e+"fill-color"];if(t)return t==="none"?null:new ir({color:t})}function Js(o,e){const t=o[e+"stroke-width"],i=o[e+"stroke-color"];if(!(!t&&!i))return new lo({width:t,color:i,lineCap:o[e+"stroke-line-cap"],lineJoin:o[e+"stroke-line-join"],lineDash:o[e+"stroke-line-dash"],lineDashOffset:o[e+"stroke-line-dash-offset"],miterLimit:o[e+"stroke-miter-limit"]})}function Wv(o){const e=o["text-value"];return e?new oh({text:e,font:o["text-font"],maxAngle:o["text-max-angle"],offsetX:o["text-offset-x"],offsetY:o["text-offset-y"],overflow:o["text-overflow"],placement:o["text-placement"],repeat:o["text-repeat"],scale:o["text-scale"],rotateWithView:o["text-rotate-with-view"],rotation:o["text-rotation"],textAlign:o["text-align"],justify:o["text-justify"],textBaseline:o["text-baseline"],padding:o["text-padding"],fill:Qs(o,"text-"),backgroundFill:Qs(o,"text-background-"),stroke:Js(o,"text-"),backgroundStroke:Js(o,"text-background-")}):void 0}function jv(o){const e=o["icon-src"],t=o["icon-img"];if(e||t)return new la({src:e,img:t,imgSize:o["icon-img-size"],anchor:o["icon-anchor"],anchorOrigin:o["icon-anchor-origin"],anchorXUnits:o["icon-anchor-x-units"],anchorYUnits:o["icon-anchor-y-units"],color:o["icon-color"],crossOrigin:o["icon-cross-origin"],offset:o["icon-offset"],displacement:o["icon-displacement"],opacity:o["icon-opacity"],scale:o["icon-scale"],width:o["icon-width"],height:o["icon-height"],rotation:o["icon-rotation"],rotateWithView:o["icon-rotate-with-view"],size:o["icon-size"],declutterMode:o["icon-declutter-mode"]});const i=o["shape-points"];if(i){const a="shape-";return new oa({points:i,fill:Qs(o,a),stroke:Js(o,a),radius:o["shape-radius"],radius1:o["shape-radius1"],radius2:o["shape-radius2"],angle:o["shape-angle"],displacement:o["shape-displacement"],rotation:o["shape-rotation"],rotateWithView:o["shape-rotate-with-view"],scale:o["shape-scale"],declutterMode:o["shape-declutter-mode"]})}const s=o["circle-radius"];if(s){const a="circle-";return new oo({radius:s,fill:Qs(o,a),stroke:Js(o,a),displacement:o["circle-displacement"],scale:o["circle-scale"],rotation:o["circle-rotation"],rotateWithView:o["circle-rotate-with-view"],declutterMode:o["circle-declutter-mode"]})}}const Mg={RENDER_ORDER:"renderOrder"};class Xv extends na{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Mg.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new jm(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(Mg.RENDER_ORDER,e)}setStyle(e){let t;if(e===void 0)t=Dv;else if(e===null)t=null;else if(typeof e=="function")t=e;else if(e instanceof rr)t=e;else if(Array.isArray(e)){const i=e.length,s=new Array(i);for(let a=0;a<i;++a){const u=e[a];u instanceof rr?s[a]=u:s[a]=Pg(u)}t=s}else t=Pg(e);this.style_=t,this.styleFunction_=e===null?void 0:Fv(this.style_),this.changed()}}const oe={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Pl=[oe.FILL],wi=[oe.STROKE],Qi=[oe.BEGIN_PATH],Og=[oe.CLOSE_PATH];class Xm{drawCustom(e,t,i,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}class ao extends Xm{constructor(e,t,i,s){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,a=this.coordinates;let u=a.length;for(let h=0,d=e.length;h<d;h+=t)s[0]=e[h],s[1]=e[h+1],bl(i,s)&&(a[u++]=s[0],a[u++]=s[1]);return u}appendFlatLineCoordinates(e,t,i,s,a,u){const h=this.coordinates;let d=h.length;const m=this.getBufferedMaxExtent();u&&(t+=s);let p=e[t],_=e[t+1];const v=this.tmpCoordinate_;let x=!0,E,w,R;for(E=t+s;E<i;E+=s)v[0]=e[E],v[1]=e[E+1],R=hc(m,v),R!==w?(x&&(h[d++]=p,h[d++]=_,x=!1),h[d++]=v[0],h[d++]=v[1]):R===et.INTERSECTING?(h[d++]=v[0],h[d++]=v[1],x=!1):x=!0,p=v[0],_=v[1],w=R;return(a&&x||E===t+s)&&(h[d++]=p,h[d++]=_),d}drawCustomCoordinates_(e,t,i,s,a){for(let u=0,h=i.length;u<h;++u){const d=i[u],m=this.appendFlatLineCoordinates(e,t,d,s,!1,!1);a.push(m),t=d}return t}drawCustom(e,t,i,s){this.beginGeometry(e,t);const a=e.getType(),u=e.getStride(),h=this.coordinates.length;let d,m,p,_,v;switch(a){case"MultiPolygon":d=e.getOrientedFlatCoordinates(),_=[];const x=e.getEndss();v=0;for(let E=0,w=x.length;E<w;++E){const R=[];v=this.drawCustomCoordinates_(d,v,x[E],u,R),_.push(R)}this.instructions.push([oe.CUSTOM,h,_,e,i,yc]),this.hitDetectionInstructions.push([oe.CUSTOM,h,_,e,s||i,yc]);break;case"Polygon":case"MultiLineString":p=[],d=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),v=this.drawCustomCoordinates_(d,0,e.getEnds(),u,p),this.instructions.push([oe.CUSTOM,h,p,e,i,Ks]),this.hitDetectionInstructions.push([oe.CUSTOM,h,p,e,s||i,Ks]);break;case"LineString":case"Circle":d=e.getFlatCoordinates(),m=this.appendFlatLineCoordinates(d,0,d.length,u,!1,!1),this.instructions.push([oe.CUSTOM,h,m,e,i,Ci]),this.hitDetectionInstructions.push([oe.CUSTOM,h,m,e,s||i,Ci]);break;case"MultiPoint":d=e.getFlatCoordinates(),m=this.appendFlatPointCoordinates(d,u),m>h&&(this.instructions.push([oe.CUSTOM,h,m,e,i,Ci]),this.hitDetectionInstructions.push([oe.CUSTOM,h,m,e,s||i,Ci]));break;case"Point":d=e.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),m=this.coordinates.length,this.instructions.push([oe.CUSTOM,h,m,e,i]),this.hitDetectionInstructions.push([oe.CUSTOM,h,m,e,s||i]);break}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[oe.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[oe.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let s,a,u=-1;for(t=0;t<i;++t)s=e[t],a=s[0],a==oe.END_GEOMETRY?u=t:a==oe.BEGIN_GEOMETRY&&(s[2]=t,ry(this.hitDetectionInstructions,u,t),u=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const s=e.getColor();i.fillStyle=yn(s||It)}else i.fillStyle=void 0;if(t){const s=t.getColor();i.strokeStyle=yn(s||bs);const a=t.getLineCap();i.lineCap=a!==void 0?a:Wl;const u=t.getLineDash();i.lineDash=u?u.slice():Un;const h=t.getLineDashOffset();i.lineDashOffset=h||Bn;const d=t.getLineJoin();i.lineJoin=d!==void 0?d:qr;const m=t.getWidth();i.lineWidth=m!==void 0?m:qs;const p=t.getMiterLimit();i.miterLimit=p!==void 0?p:Hs,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[oe.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(!0),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[oe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,s=e.lineCap,a=e.lineDash,u=e.lineDashOffset,h=e.lineJoin,d=e.lineWidth,m=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=s||a!=e.currentLineDash&&!Li(e.currentLineDash,a)||e.currentLineDashOffset!=u||e.currentLineJoin!=h||e.currentLineWidth!=d||e.currentMiterLimit!=m)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=s,e.currentLineDash=a,e.currentLineDashOffset=u,e.currentLineJoin=h,e.currentLineWidth=d,e.currentMiterLimit=m)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[oe.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=qg(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Dc(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Yv extends ao{constructor(e,t,i,s){super(e,t,i,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length,u=this.appendFlatPointCoordinates(i,s);this.instructions.push([oe.DRAW_IMAGE,a,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([oe.DRAW_IMAGE,a,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length,u=this.appendFlatPointCoordinates(i,s);this.instructions.push([oe.DRAW_IMAGE,a,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([oe.DRAW_IMAGE,a,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),s=e.getSize(),a=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=e.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=s[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class Uv extends ao{constructor(e,t,i,s){super(e,t,i,s)}drawFlatCoordinates_(e,t,i,s){const a=this.coordinates.length,u=this.appendFlatLineCoordinates(e,t,i,s,!1,!1),h=[oe.MOVE_TO_LINE_TO,a,u];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i}drawLineString(e,t){const i=this.state,s=i.strokeStyle,a=i.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Un,Bn],Qi);const u=e.getFlatCoordinates(),h=e.getStride();this.drawFlatCoordinates_(u,0,u.length,h),this.hitDetectionInstructions.push(wi),this.endGeometry(t)}drawMultiLineString(e,t){const i=this.state,s=i.strokeStyle,a=i.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Un,Bn],Qi);const u=e.getEnds(),h=e.getFlatCoordinates(),d=e.getStride();let m=0;for(let p=0,_=u.length;p<_;++p)m=this.drawFlatCoordinates_(h,m,u[p],d);this.hitDetectionInstructions.push(wi),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(wi),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(wi),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Qi)}}class Ag extends ao{constructor(e,t,i,s){super(e,t,i,s)}drawFlatCoordinatess_(e,t,i,s){const a=this.state,u=a.fillStyle!==void 0,h=a.strokeStyle!==void 0,d=i.length;this.instructions.push(Qi),this.hitDetectionInstructions.push(Qi);for(let m=0;m<d;++m){const p=i[m],_=this.coordinates.length,v=this.appendFlatLineCoordinates(e,t,p,s,!0,!h),x=[oe.MOVE_TO_LINE_TO,_,v];this.instructions.push(x),this.hitDetectionInstructions.push(x),h&&(this.instructions.push(Og),this.hitDetectionInstructions.push(Og)),t=p}return u&&(this.instructions.push(Pl),this.hitDetectionInstructions.push(Pl)),h&&(this.instructions.push(wi),this.hitDetectionInstructions.push(wi)),t}drawCircle(e,t){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([oe.SET_FILL_STYLE,It]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Un,Bn]);const u=e.getFlatCoordinates(),h=e.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(u,0,u.length,h,!1,!1);const m=[oe.CIRCLE,d];this.instructions.push(Qi,m),this.hitDetectionInstructions.push(Qi,m),i.fillStyle!==void 0&&(this.instructions.push(Pl),this.hitDetectionInstructions.push(Pl)),i.strokeStyle!==void 0&&(this.instructions.push(wi),this.hitDetectionInstructions.push(wi)),this.endGeometry(t)}drawPolygon(e,t){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([oe.SET_FILL_STYLE,It]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Un,Bn]);const u=e.getEnds(),h=e.getOrientedFlatCoordinates(),d=e.getStride();this.drawFlatCoordinatess_(h,0,u,d),this.endGeometry(t)}drawMultiPolygon(e,t){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([oe.SET_FILL_STYLE,It]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Un,Bn]);const u=e.getEndss(),h=e.getOrientedFlatCoordinates(),d=e.getStride();let m=0;for(let p=0,_=u.length;p<_;++p)m=this.drawFlatCoordinatess_(h,m,u[p],d);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,s=t.length;i<s;++i)t[i]=Zi(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function Bv(o,e,t,i,s){const a=[];let u=t,h=0,d=e.slice(t,2);for(;h<o&&u+s<i;){const[m,p]=d.slice(-2),_=e[u+s],v=e[u+s+1],x=Math.sqrt((_-m)*(_-m)+(v-p)*(v-p));if(h+=x,h>=o){const E=(o-h+x)/x,w=Dt(m,_,E),R=Dt(p,v,E);d.push(w,R),a.push(d),d=[w,R],h==o&&(u+=s),h=0}else if(h<o)d.push(e[u+s],e[u+s+1]),u+=s;else{const E=x-h,w=Dt(m,_,E/x),R=Dt(p,v,E/x);d.push(w,R),a.push(d),d=[w,R],h=0,u+=s}}return h>0&&a.push(d),a}function Vv(o,e,t,i,s){let a=t,u=t,h=0,d=0,m=t,p,_,v,x,E,w,R,k,M,F;for(_=t;_<i;_+=s){const A=e[_],z=e[_+1];E!==void 0&&(M=A-E,F=z-w,x=Math.sqrt(M*M+F*F),R!==void 0&&(d+=v,p=Math.acos((R*M+k*F)/(v*x)),p>o&&(d>h&&(h=d,a=m,u=_),d=0,m=_-s)),v=x,R=M,k=F),E=A,w=z}return d+=x,d>h?[m,_]:[a,u]}const Ul={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Kv extends ao{constructor(e,t,i,s){super(e,t,i,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[It]={fillStyle:It},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const i=this.textFillState_,s=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!i&&!s)return;const u=this.coordinates;let h=u.length;const d=e.getType();let m=null,p=e.getStride();if(a.placement==="line"&&(d=="LineString"||d=="MultiLineString"||d=="Polygon"||d=="MultiPolygon")){if(!Lt(this.getBufferedMaxExtent(),e.getExtent()))return;let _;if(m=e.getFlatCoordinates(),d=="LineString")_=[m.length];else if(d=="MultiLineString")_=e.getEnds();else if(d=="Polygon")_=e.getEnds().slice(0,1);else if(d=="MultiPolygon"){const w=e.getEndss();_=[];for(let R=0,k=w.length;R<k;++R)_.push(w[R][0])}this.beginGeometry(e,t);const v=a.repeat,x=v?void 0:a.textAlign;let E=0;for(let w=0,R=_.length;w<R;++w){let k;v?k=Bv(v*this.resolution,m,E,_[w],p):k=[m.slice(E,_[w])];for(let M=0,F=k.length;M<F;++M){const A=k[M];let z=0,B=A.length;if(x==null){const V=Vv(a.maxAngle,A,0,A.length,2);z=V[0],B=V[1]}for(let V=z;V<B;V+=p)u.push(A[V],A[V+1]);const Z=u.length;E=_[w],this.drawChars_(h,Z),h=Z}}this.endGeometry(t)}else{let _=a.overflow?null:[];switch(d){case"Point":case"MultiPoint":m=e.getFlatCoordinates();break;case"LineString":m=e.getFlatMidpoint();break;case"Circle":m=e.getCenter();break;case"MultiLineString":m=e.getFlatMidpoints(),p=2;break;case"Polygon":m=e.getFlatInteriorPoint(),a.overflow||_.push(m[2]/this.resolution),p=3;break;case"MultiPolygon":const k=e.getFlatInteriorPoints();m=[];for(let M=0,F=k.length;M<F;M+=3)a.overflow||_.push(k[M+2]/this.resolution),m.push(k[M],k[M+1]);if(m.length===0)return;p=2;break}const v=this.appendFlatPointCoordinates(m,p);if(v===h)return;if(_&&(v-h)/2!==m.length/p){let k=h/2;_=_.filter((M,F)=>{const A=u[(k+F)*2]===m[F*p]&&u[(k+F)*2+1]===m[F*p+1];return A||--k,A})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let x=a.padding;if(x!=qi&&(a.scale[0]<0||a.scale[1]<0)){let k=a.padding[0],M=a.padding[1],F=a.padding[2],A=a.padding[3];a.scale[0]<0&&(M=-M,A=-A),a.scale[1]<0&&(k=-k,F=-F),x=[k,M,F,A]}const E=this.pixelRatio;this.instructions.push([oe.DRAW_IMAGE,h,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,x==qi?qi:x.map(function(k){return k*E}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]);const w=1/E,R=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=It,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([oe.DRAW_IMAGE,h,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,void 0,this.declutterImageWithText_,x,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?It:this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]),a.backgroundFill&&(this.state.fillStyle=R,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,s=this.strokeKey_;e&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const a=this.textKey_;a in this.textStates||(this.textStates[a]={font:t.font,textAlign:t.textAlign||$s,justify:t.justify,textBaseline:t.textBaseline||jl,scale:t.scale});const u=this.fillKey_;i&&(u in this.fillStates||(this.fillStates[u]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,s=this.textState_,a=this.strokeKey_,u=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,m=Ul[s.textBaseline],p=this.textOffsetY_*d,_=this.text_,v=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([oe.DRAW_CHARS,e,t,m,s.overflow,h,s.maxAngle,d,p,a,v*d,_,u,1]),this.hitDetectionInstructions.push([oe.DRAW_CHARS,e,t,m,s.overflow,h&&It,s.maxAngle,1,p,a,v,_,u,1/d])}setTextStyle(e,t){let i,s,a;if(!e)this.text_="";else{const u=e.getFill();u?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=yn(u.getColor()||It)):(s=null,this.textFillState_=s);const h=e.getStroke();if(!h)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);const E=h.getLineDash(),w=h.getLineDashOffset(),R=h.getWidth(),k=h.getMiterLimit();a.lineCap=h.getLineCap()||Wl,a.lineDash=E?E.slice():Un,a.lineDashOffset=w===void 0?Bn:w,a.lineJoin=h.getLineJoin()||qr,a.lineWidth=R===void 0?qs:R,a.miterLimit=k===void 0?Hs:k,a.strokeStyle=yn(h.getColor()||bs)}i=this.textState_;const d=e.getFont()||Im;O0(d);const m=e.getScaleArray();i.overflow=e.getOverflow(),i.font=d,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||jl,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||qi,i.scale=m===void 0?[1,1]:m;const p=e.getOffsetX(),_=e.getOffsetY(),v=e.getRotateWithView(),x=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=p===void 0?0:p,this.textOffsetY_=_===void 0?0:_,this.textRotateWithView_=v===void 0?!1:v,this.textRotation_=x===void 0?0:x,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:Te(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=s?typeof s.fillStyle=="string"?s.fillStyle:"|"+Te(s.fillStyle):""}this.declutterImageWithText_=t}}const Zv={Circle:Ag,Default:ao,Image:Yv,LineString:Uv,Polygon:Ag,Text:Kv};class Fg{constructor(e,t,i,s){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const s in i){const a=i[s].finish();e[t][s]=a}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let s=this.buildersByZIndex_[i];s===void 0&&(s={},this.buildersByZIndex_[i]=s);let a=s[t];if(a===void 0){const u=Zv[t];a=new u(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[t]=a}return a}}function Hv(o,e,t,i,s,a,u,h,d,m,p,_){let v=o[e],x=o[e+1],E=0,w=0,R=0,k=0;function M(){E=v,w=x,e+=i,v=o[e],x=o[e+1],k+=R,R=Math.sqrt((v-E)*(v-E)+(x-w)*(x-w))}do M();while(e<t-i&&k+R<a);let F=R===0?0:(a-k)/R;const A=Dt(E,v,F),z=Dt(w,x,F),B=e-i,Z=k,V=a+h*d(m,s,p);for(;e<t-i&&k+R<V;)M();F=R===0?0:(V-k)/R;const te=Dt(E,v,F),re=Dt(w,x,F);let _e;if(_){const J=[A,z,te,re];gm(J,0,4,2,_,J,J),_e=J[0]>J[2]}else _e=A>te;const he=Math.PI,ce=[],Re=B+i===e;e=B,R=0,k=Z,v=o[e],x=o[e+1];let $;if(Re){M(),$=Math.atan2(x-w,v-E),_e&&($+=$>0?-he:he);const J=(te+A)/2,Y=(re+z)/2;return ce[0]=[J,Y,(V-a)/2,$,s],ce}s=s.replace(/\n/g," ");for(let J=0,Y=s.length;J<Y;){M();let N=Math.atan2(x-w,v-E);if(_e&&(N+=N>0?-he:he),$!==void 0){let b=N-$;if(b+=b>he?-2*he:b<-he?2*he:0,Math.abs(b)>u)return null}$=N;const K=J;let X=0;for(;J<Y;++J){const b=_e?Y-J-1:J,ne=h*d(m,s[b],p);if(e+i<t&&k+R<a+X+ne/2)break;X+=ne}if(J===K)continue;const L=_e?s.substring(Y-K,Y-J):s.substring(K,J);F=R===0?0:(a+X/2-k)/R;const I=Dt(E,v,F),se=Dt(w,x,F);ce.push([I,se,X/2,N,L]),a+=X}return ce}function Ym(o,e,t,i){let s=o[e],a=o[e+1],u=0;for(let h=e+i;h<t;h+=i){const d=o[h],m=o[h+1];u+=Math.sqrt((d-s)*(d-s)+(m-a)*(m-a)),s=d,a=m}return u}const Nr=Ht(),mi=[],Gn=[],Wn=[],pi=[];function Dg(o){return o[3].declutterBox}const Ng=new RegExp("[-----]");function oc(o,e){return e==="start"?e=Ng.test(o)?"right":"left":e==="end"&&(e=Ng.test(o)?"left":"right"),Ul[e]}function bv(o,e,t){return t>0&&o.push(`
`,""),o.push(e,""),o}class $v{constructor(e,t,i,s){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=vn(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,i,s){const a=e+t+i+s;if(this.labels_[a])return this.labels_[a];const u=s?this.strokeStates[s]:null,h=i?this.fillStates[i]:null,d=this.textStates[t],m=this.pixelRatio,p=[d.scale[0]*m,d.scale[1]*m],_=Array.isArray(e),v=d.justify?Ul[d.justify]:oc(Array.isArray(e)?e[0]:e,d.textAlign||$s),x=s&&u.lineWidth?u.lineWidth:0,E=_?e:e.split(`
`).reduce(bv,[]),{width:w,height:R,widths:k,heights:M,lineWidths:F}=F0(d,E),A=w+x,z=[],B=(A+2)*p[0],Z=(R+x)*p[1],V={width:B<0?Math.floor(B):Math.ceil(B),height:Z<0?Math.floor(Z):Math.ceil(Z),contextInstructions:z};(p[0]!=1||p[1]!=1)&&z.push("scale",p),s&&(z.push("strokeStyle",u.strokeStyle),z.push("lineWidth",x),z.push("lineCap",u.lineCap),z.push("lineJoin",u.lineJoin),z.push("miterLimit",u.miterLimit),z.push("setLineDash",[u.lineDash]),z.push("lineDashOffset",u.lineDashOffset)),i&&z.push("fillStyle",h.fillStyle),z.push("textBaseline","middle"),z.push("textAlign","center");const te=.5-v;let re=v*A+te*x;const _e=[],he=[];let ce=0,Re=0,$=0,J=0,Y;for(let N=0,K=E.length;N<K;N+=2){const X=E[N];if(X===`
`){Re+=ce,ce=0,re=v*A+te*x,++J;continue}const L=E[N+1]||d.font;L!==Y&&(s&&_e.push("font",L),i&&he.push("font",L),Y=L),ce=Math.max(ce,M[$]);const I=[X,re+te*k[$]+v*(k[$]-F[J]),.5*(x+ce)+Re];re+=k[$],s&&_e.push("strokeText",I),i&&he.push("fillText",I),++$}return Array.prototype.push.apply(z,_e),Array.prototype.push.apply(z,he),this.labels_[a]=V,V}replayTextBackground_(e,t,i,s,a,u,h){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,a),e.lineTo.apply(e,t),u&&(this.alignFill_=u[2],this.fill_(e)),h&&(this.setStrokeStyle_(e,h),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,s,a,u,h,d,m,p,_,v,x,E,w,R){h*=v[0],d*=v[1];let k=i-h,M=s-d;const F=a+m>e?e-m:a,A=u+p>t?t-p:u,z=E[3]+F*v[0]+E[1],B=E[0]+A*v[1]+E[2],Z=k-E[3],V=M-E[0];(w||_!==0)&&(mi[0]=Z,pi[0]=Z,mi[1]=V,Gn[1]=V,Gn[0]=Z+z,Wn[0]=Gn[0],Wn[1]=V+B,pi[1]=Wn[1]);let te;return _!==0?(te=Ri(vn(),i,s,1,1,_,-i,-s),tt(te,mi),tt(te,Gn),tt(te,Wn),tt(te,pi),Ti(Math.min(mi[0],Gn[0],Wn[0],pi[0]),Math.min(mi[1],Gn[1],Wn[1],pi[1]),Math.max(mi[0],Gn[0],Wn[0],pi[0]),Math.max(mi[1],Gn[1],Wn[1],pi[1]),Nr)):Ti(Math.min(Z,Z+z),Math.min(V,V+B),Math.max(Z,Z+z),Math.max(V,V+B),Nr),x&&(k=Math.round(k),M=Math.round(M)),{drawImageX:k,drawImageY:M,drawImageW:F,drawImageH:A,originX:m,originY:p,declutterBox:{minX:Nr[0],minY:Nr[1],maxX:Nr[2],maxY:Nr[3],value:R},canvasTransform:te,scale:v}}replayImageOrLabel_(e,t,i,s,a,u,h){const d=!!(u||h),m=s.declutterBox,p=e.canvas,_=h?h[2]*s.scale[0]/2:0;return m.minX-_<=p.width/t&&m.maxX+_>=0&&m.minY-_<=p.height/t&&m.maxY+_>=0&&(d&&this.replayTextBackground_(e,mi,Gn,Wn,pi,u,h),D0(e,s.canvasTransform,a,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(e){if(this.alignFill_){const t=tt(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,s){const a=this.textStates[t],u=this.createLabel(e,t,s,i),h=this.strokeStates[i],d=this.pixelRatio,m=oc(Array.isArray(e)?e[0]:e,a.textAlign||$s),p=Ul[a.textBaseline||jl],_=h&&h.lineWidth?h.lineWidth:0,v=u.width/d-2*a.scale[0],x=m*v+2*(.5-m)*_,E=p*u.height/d+2*(.5-p)*_;return{label:u,anchorX:x,anchorY:E}}execute_(e,t,i,s,a,u,h,d){let m;this.pixelCoordinates_&&Li(i,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=er(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),my(this.renderedTransform_,i));let p=0;const _=s.length;let v=0,x,E,w,R,k,M,F,A,z,B,Z,V,te=0,re=0,_e=null,he=null;const ce=this.coordinateCache_,Re=this.viewRotation_,$=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,J={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Re},Y=this.instructions!=s||this.overlaps?0:200;let N,K,X,L;for(;p<_;){const I=s[p];switch(I[0]){case oe.BEGIN_GEOMETRY:N=I[1],L=I[3],N.getGeometry()?h!==void 0&&!Lt(h,L.getExtent())?p=I[2]+1:++p:p=I[2];break;case oe.BEGIN_PATH:te>Y&&(this.fill_(e),te=0),re>Y&&(e.stroke(),re=0),!te&&!re&&(e.beginPath(),R=NaN,k=NaN),++p;break;case oe.CIRCLE:v=I[1];const b=m[v],ne=m[v+1],me=m[v+2],xe=m[v+3],de=me-b,Ee=xe-ne,Ue=Math.sqrt(de*de+Ee*Ee);e.moveTo(b+Ue,ne),e.arc(b,ne,Ue,0,2*Math.PI,!0),++p;break;case oe.CLOSE_PATH:e.closePath(),++p;break;case oe.CUSTOM:v=I[1],x=I[2];const wn=I[3],Sn=I[4],Rn=I.length==6?I[5]:void 0;J.geometry=wn,J.feature=N,p in ce||(ce[p]=[]);const Nt=ce[p];Rn?Rn(m,v,x,2,Nt):(Nt[0]=m[v],Nt[1]=m[v+1],Nt.length=2),Sn(Nt,J),++p;break;case oe.DRAW_IMAGE:v=I[1],x=I[2],A=I[3],E=I[4],w=I[5];let Kn=I[6];const bt=I[7],Zn=I[8],ki=I[9],Hn=I[10];let zt=I[11];const ln=I[12];let $e=I[13];const dt=I[14],yt=I[15];if(!A&&I.length>=20){z=I[19],B=I[20],Z=I[21],V=I[22];const rt=this.drawLabelWithPointPlacement_(z,B,Z,V);A=rt.label,I[3]=A;const kn=I[23];E=(rt.anchorX-kn)*this.pixelRatio,I[4]=E;const ft=I[24];w=(rt.anchorY-ft)*this.pixelRatio,I[5]=w,Kn=A.height,I[6]=Kn,$e=A.width,I[13]=$e}let Gt;I.length>25&&(Gt=I[25]);let Tn,$t,kt;I.length>17?(Tn=I[16],$t=I[17],kt=I[18]):(Tn=qi,$t=!1,kt=!1),Hn&&$?zt+=Re:!Hn&&!$&&(zt-=Re);let In=0;for(;v<x;v+=2){if(Gt&&Gt[In++]<$e/this.pixelRatio)continue;const rt=this.calculateImageOrLabelDimensions_(A.width,A.height,m[v],m[v+1],$e,Kn,E,w,Zn,ki,zt,ln,a,Tn,$t||kt,N),kn=[e,t,A,rt,bt,$t?_e:null,kt?he:null];if(d){if(dt==="none")continue;if(dt==="obstacle"){d.insert(rt.declutterBox);continue}else{let ft,Pt;if(yt){const st=x-v;if(!yt[st]){yt[st]=kn;continue}if(ft=yt[st],delete yt[st],Pt=Dg(ft),d.collides(Pt))continue}if(d.collides(rt.declutterBox))continue;ft&&(d.insert(Pt),this.replayImageOrLabel_.apply(this,ft)),d.insert(rt.declutterBox)}}this.replayImageOrLabel_.apply(this,kn)}++p;break;case oe.DRAW_CHARS:const an=I[1],je=I[2],ts=I[3],uo=I[4];V=I[5];const co=I[6],ho=I[7],ar=I[8];Z=I[9];const Pi=I[10];z=I[11],B=I[12];const ur=[I[13],I[13]],Mi=this.textStates[B],Ln=Mi.font,Wt=[Mi.scale[0]*ho,Mi.scale[1]*ho];let jt;Ln in this.widths_?jt=this.widths_[Ln]:(jt={},this.widths_[Ln]=jt);const ns=Ym(m,an,je,2),is=Math.abs(Wt[0])*xg(Ln,z,jt);if(uo||is<=ns){const rt=this.textStates[B].textAlign,kn=(ns-is)*oc(z,rt),ft=Hv(m,an,je,2,z,kn,co,Math.abs(Wt[0]),xg,Ln,jt,$?0:this.viewRotation_);e:if(ft){const Pt=[];let st,un,bn,Be,vt;if(Z)for(st=0,un=ft.length;st<un;++st){vt=ft[st],bn=vt[4],Be=this.createLabel(bn,B,"",Z),E=vt[2]+(Wt[0]<0?-Pi:Pi),w=ts*Be.height+(.5-ts)*2*Pi*Wt[1]/Wt[0]-ar;const gt=this.calculateImageOrLabelDimensions_(Be.width,Be.height,vt[0],vt[1],Be.width,Be.height,E,w,0,0,vt[3],ur,!1,qi,!1,N);if(d&&d.collides(gt.declutterBox))break e;Pt.push([e,t,Be,gt,1,null,null])}if(V)for(st=0,un=ft.length;st<un;++st){vt=ft[st],bn=vt[4],Be=this.createLabel(bn,B,V,""),E=vt[2],w=ts*Be.height-ar;const gt=this.calculateImageOrLabelDimensions_(Be.width,Be.height,vt[0],vt[1],Be.width,Be.height,E,w,0,0,vt[3],ur,!1,qi,!1,N);if(d&&d.collides(gt.declutterBox))break e;Pt.push([e,t,Be,gt,1,null,null])}d&&d.load(Pt.map(Dg));for(let gt=0,cr=Pt.length;gt<cr;++gt)this.replayImageOrLabel_.apply(this,Pt[gt])}}++p;break;case oe.END_GEOMETRY:if(u!==void 0){N=I[1];const rt=u(N,L);if(rt)return rt}++p;break;case oe.FILL:Y?te++:this.fill_(e),++p;break;case oe.MOVE_TO_LINE_TO:for(v=I[1],x=I[2],K=m[v],X=m[v+1],M=K+.5|0,F=X+.5|0,(M!==R||F!==k)&&(e.moveTo(K,X),R=M,k=F),v+=2;v<x;v+=2)K=m[v],X=m[v+1],M=K+.5|0,F=X+.5|0,(v==x-2||M!==R||F!==k)&&(e.lineTo(K,X),R=M,k=F);++p;break;case oe.SET_FILL_STYLE:_e=I,this.alignFill_=I[2],te&&(this.fill_(e),te=0,re&&(e.stroke(),re=0)),e.fillStyle=I[1],++p;break;case oe.SET_STROKE_STYLE:he=I,re&&(e.stroke(),re=0),this.setStrokeStyle_(e,I),++p;break;case oe.STROKE:Y?re++:e.stroke(),++p;break;default:++p;break}}te&&this.fill_(e),re&&e.stroke()}execute(e,t,i,s,a,u){this.viewRotation_=s,this.execute_(e,t,i,this.instructions,a,void 0,void 0,u)}executeHitDetection(e,t,i,s,a){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,s,a)}}const lc=["Polygon","Circle","LineString","Image","Text","Default"];class zg{constructor(e,t,i,s,a,u){this.maxExtent_=e,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=u,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=vn(),this.createExecutors_(a)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e){for(const t in e){let i=this.executorsByZIndex_[t];i===void 0&&(i={},this.executorsByZIndex_[t]=i);const s=e[t];for(const a in s){const u=s[a];i[a]=new $v(this.resolution_,this.pixelRatio_,this.overlaps_,u)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let s=0,a=e.length;s<a;++s)if(e[s]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,s,a,u){s=Math.round(s);const h=s*2+1,d=Ri(this.hitDetectionTransform_,s+.5,s+.5,1/t,-1/t,-i,-e[0],-e[1]),m=!this.hitDetectionContext_;m&&(this.hitDetectionContext_=_t(h,h,void 0,{willReadFrequently:!0}));const p=this.hitDetectionContext_;p.canvas.width!==h||p.canvas.height!==h?(p.canvas.width=h,p.canvas.height=h):m||p.clearRect(0,0,h,h);let _;this.renderBuffer_!==void 0&&(_=Ht(),Ys(_,e),Dc(_,t*(this.renderBuffer_+s),_));const v=qv(s);let x;function E(z,B){const Z=p.getImageData(0,0,h,h).data;for(let V=0,te=v.length;V<te;V++)if(Z[v[V]]>0){if(!u||x!=="Image"&&x!=="Text"||u.includes(z)){const re=(v[V]-3)/4,_e=s-re%h,he=s-(re/h|0),ce=a(z,B,_e*_e+he*he);if(ce)return ce}p.clearRect(0,0,h,h);break}}const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(tr);let R,k,M,F,A;for(R=w.length-1;R>=0;--R){const z=w[R].toString();for(M=this.executorsByZIndex_[z],k=lc.length-1;k>=0;--k)if(x=lc[k],F=M[x],F!==void 0&&(A=F.executeHitDetection(p,d,i,E,_),A))return A}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],s=t[1],a=t[2],u=t[3],h=[i,s,i,u,a,u,a,s];return er(h,0,8,2,e,h),h}isEmpty(){return br(this.executorsByZIndex_)}execute(e,t,i,s,a,u,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(tr),this.maxExtent_&&(e.save(),this.clip(e,i)),u=u||lc;let m,p,_,v,x,E;for(h&&d.reverse(),m=0,p=d.length;m<p;++m){const w=d[m].toString();for(x=this.executorsByZIndex_[w],_=0,v=u.length;_<v;++_){const R=u[_];E=x[R],E!==void 0&&E.execute(e,t,i,s,a,h)}}this.maxExtent_&&e.restore()}}const ac={};function qv(o){if(ac[o]!==void 0)return ac[o];const e=o*2+1,t=o*o,i=new Array(t+1);for(let a=0;a<=o;++a)for(let u=0;u<=o;++u){const h=a*a+u*u;if(h>t)break;let d=i[h];d||(d=[],i[h]=d),d.push(((o+a)*e+(o+u))*4+3),a>0&&d.push(((o-a)*e+(o+u))*4+3),u>0&&(d.push(((o+a)*e+(o-u))*4+3),a>0&&d.push(((o-a)*e+(o-u))*4+3))}const s=[];for(let a=0,u=i.length;a<u;++a)i[a]&&s.push(...i[a]);return ac[o]=s,s}class Qv extends Xm{constructor(e,t,i,s,a,u,h){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=s,this.transformRotation_=s?zc(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=a,this.squaredTolerance_=u,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=vn()}drawImages_(e,t,i,s){if(!this.image_)return;const a=er(e,t,i,s,this.transform_,this.pixelCoordinates_),u=this.context_,h=this.tmpLocalTransform_,d=u.globalAlpha;this.imageOpacity_!=1&&(u.globalAlpha=d*this.imageOpacity_);let m=this.imageRotation_;this.transformRotation_===0&&(m-=this.viewRotation_),this.imageRotateWithView_&&(m+=this.viewRotation_);for(let p=0,_=a.length;p<_;p+=2){const v=a[p]-this.imageAnchorX_,x=a[p+1]-this.imageAnchorY_;if(m!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const E=v+this.imageAnchorX_,w=x+this.imageAnchorY_;Ri(h,E,w,1,1,m,-E,-w),u.setTransform.apply(u,h),u.translate(E,w),u.scale(this.imageScale_[0],this.imageScale_[1]),u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),u.setTransform(1,0,0,1,0,0)}else u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(u.globalAlpha=d)}drawText_(e,t,i,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const a=er(e,t,i,s,this.transform_,this.pixelCoordinates_),u=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);t<i;t+=s){const d=a[t]+this.textOffsetX_,m=a[t+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(u.translate(d-this.textOffsetX_,m-this.textOffsetY_),u.rotate(h),u.translate(this.textOffsetX_,this.textOffsetY_),u.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&u.strokeText(this.text_,0,0),this.textFillState_&&u.fillText(this.text_,0,0),u.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&u.strokeText(this.text_,d,m),this.textFillState_&&u.fillText(this.text_,d,m))}}moveToLineTo_(e,t,i,s,a){const u=this.context_,h=er(e,t,i,s,this.transform_,this.pixelCoordinates_);u.moveTo(h[0],h[1]);let d=h.length;a&&(d-=2);for(let m=2;m<d;m+=2)u.lineTo(h[m],h[m+1]);return a&&u.closePath(),i}drawRings_(e,t,i,s){for(let a=0,u=i.length;a<u;++a)t=this.moveToLineTo_(e,t,i[a],s,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Lt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=l0(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],s=t[3]-t[1],a=Math.sqrt(i*i+s*s),u=this.context_;u.beginPath(),u.arc(t[0],t[1],a,0,2*Math.PI),this.fillState_&&u.fill(),this.strokeState_&&u.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,s=t.length;i<s;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Lt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Lt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,s=e.getFlatCoordinates();let a=0;const u=e.getEnds(),h=e.getStride();i.beginPath();for(let d=0,m=u.length;d<m;++d)a=this.moveToLineTo_(s,a,u[d],h,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Lt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Lt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let s=0;const a=e.getEndss(),u=e.getStride();t.beginPath();for(let h=0,d=a.length;h<d;++h){const m=a[h];s=this.drawRings_(i,s,m,u)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Li(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,s=e.textAlign?e.textAlign:$s;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=s&&(i.textAlign=s,t.textAlign=s),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=s,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:s,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:yn(i||It)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),s=t.getLineCap(),a=t.getLineDash(),u=t.getLineDashOffset(),h=t.getLineJoin(),d=t.getWidth(),m=t.getMiterLimit(),p=a||Un;this.strokeState_={lineCap:s!==void 0?s:Wl,lineDash:this.pixelRatio_===1?p:p.map(_=>_*this.pixelRatio_),lineDashOffset:(u||Bn)*this.pixelRatio_,lineJoin:h!==void 0?h:qr,lineWidth:(d!==void 0?d:qs)*this.pixelRatio_,miterLimit:m!==void 0?m:Hs,strokeStyle:yn(i||bs)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),s=e.getAnchor(),a=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const u=e.getScaleArray();this.imageScale_=[u[0]*this.pixelRatio_/i,u[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const x=t.getColor();this.textFillState_={fillStyle:yn(x||It)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const x=i.getColor(),E=i.getLineCap(),w=i.getLineDash(),R=i.getLineDashOffset(),k=i.getLineJoin(),M=i.getWidth(),F=i.getMiterLimit();this.textStrokeState_={lineCap:E!==void 0?E:Wl,lineDash:w||Un,lineDashOffset:R||Bn,lineJoin:k!==void 0?k:qr,lineWidth:M!==void 0?M:qs,miterLimit:F!==void 0?F:Hs,strokeStyle:yn(x||bs)}}const s=e.getFont(),a=e.getOffsetX(),u=e.getOffsetY(),h=e.getRotateWithView(),d=e.getRotation(),m=e.getScaleArray(),p=e.getText(),_=e.getTextAlign(),v=e.getTextBaseline();this.textState_={font:s!==void 0?s:Im,textAlign:_!==void 0?_:$s,textBaseline:v!==void 0?v:jl},this.text_=p!==void 0?Array.isArray(p)?p.reduce((x,E,w)=>x+=w%2?" ":E,""):p:"",this.textOffsetX_=a!==void 0?this.pixelRatio_*a:0,this.textOffsetY_=u!==void 0?this.pixelRatio_*u:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}}}const pn=.5;function Jv(o,e,t,i,s,a,u){const h=o[0]*pn,d=o[1]*pn,m=_t(h,d);m.imageSmoothingEnabled=!1;const p=m.canvas,_=new Qv(m,pn,s,null,u),v=t.length,x=Math.floor((256*256*256-1)/v),E={};for(let R=1;R<=v;++R){const k=t[R-1],M=k.getStyleFunction()||i;if(!M)continue;let F=M(k,a);if(!F)continue;Array.isArray(F)||(F=[F]);const z=(R*x).toString(16).padStart(7,"#00000");for(let B=0,Z=F.length;B<Z;++B){const V=F[B],te=V.getGeometryFunction()(k);if(!te||!Lt(s,te.getExtent()))continue;const re=V.clone(),_e=re.getFill();_e&&_e.setColor(z);const he=re.getStroke();he&&(he.setColor(z),he.setLineDash(null)),re.setText(void 0);const ce=V.getImage();if(ce){const Y=ce.getImageSize();if(!Y)continue;const N=_t(Y[0],Y[1],void 0,{alpha:!1}),K=N.canvas;N.fillStyle=z,N.fillRect(0,0,K.width,K.height),re.setImage(new la({img:K,imgSize:Y,anchor:ce.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ce.getOrigin(),opacity:1,size:ce.getSize(),scale:ce.getScale(),rotation:ce.getRotation(),rotateWithView:ce.getRotateWithView()}))}const Re=re.getZIndex()||0;let $=E[Re];$||($={},E[Re]=$,$.Polygon=[],$.Circle=[],$.LineString=[],$.Point=[]);const J=te.getType();if(J==="GeometryCollection"){const Y=te.getGeometriesArrayRecursive();for(let N=0,K=Y.length;N<K;++N){const X=Y[N];$[X.getType().replace("Multi","")].push(X,re)}}else $[J.replace("Multi","")].push(te,re)}}const w=Object.keys(E).map(Number).sort(tr);for(let R=0,k=w.length;R<k;++R){const M=E[w[R]];for(const F in M){const A=M[F];for(let z=0,B=A.length;z<B;z+=2){_.setStyle(A[z+1]);for(let Z=0,V=e.length;Z<V;++Z)_.setTransform(e[Z]),_.drawGeometry(A[z])}}}return m.getImageData(0,0,p.width,p.height)}function ex(o,e,t){const i=[];if(t){const s=Math.floor(Math.round(o[0])*pn),a=Math.floor(Math.round(o[1])*pn),u=(Ke(s,0,t.width-1)+Ke(a,0,t.height-1)*t.width)*4,h=t.data[u],d=t.data[u+1],p=t.data[u+2]+256*(d+256*h),_=Math.floor((256*256*256-1)/e.length);p&&p%_===0&&i.push(e[p/_-1])}return i}const tx=.5,Um={Point:cx,LineString:lx,Polygon:dx,MultiPoint:hx,MultiLineString:ax,MultiPolygon:ux,GeometryCollection:ox,Circle:rx};function nx(o,e){return parseInt(Te(o),10)-parseInt(Te(e),10)}function ix(o,e){const t=Tc(o,e);return t*t}function Tc(o,e){return tx*o/e}function rx(o,e,t,i,s){const a=t.getFill(),u=t.getStroke();if(a||u){const d=o.getBuilder(t.getZIndex(),"Circle");d.setFillStrokeStyle(a,u),d.drawCircle(e,i)}const h=t.getText();if(h&&h.getText()){const d=(s||o).getBuilder(t.getZIndex(),"Text");d.setTextStyle(h),d.drawText(e,i)}}function Gg(o,e,t,i,s,a,u){let h=!1;const d=t.getImage();if(d){const m=d.getImageState();m==We.LOADED||m==We.ERROR?d.unlistenImageChange(s):(m==We.IDLE&&d.load(),d.listenImageChange(s),h=!0)}return sx(o,e,t,i,a,u),h}function sx(o,e,t,i,s,a){const u=t.getGeometryFunction()(e);if(!u)return;const h=u.simplifyTransformed(i,s);if(t.getRenderer())Bm(o,h,t,e);else{const m=Um[h.getType()];m(o,h,t,e,a)}}function Bm(o,e,t,i){if(e.getType()=="GeometryCollection"){const a=e.getGeometries();for(let u=0,h=a.length;u<h;++u)Bm(o,a[u],t,i);return}o.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer())}function ox(o,e,t,i,s){const a=e.getGeometriesArray();let u,h;for(u=0,h=a.length;u<h;++u){const d=Um[a[u].getType()];d(o,a[u],t,i,s)}}function lx(o,e,t,i,s){const a=t.getStroke();if(a){const h=o.getBuilder(t.getZIndex(),"LineString");h.setFillStrokeStyle(null,a),h.drawLineString(e,i)}const u=t.getText();if(u&&u.getText()){const h=(s||o).getBuilder(t.getZIndex(),"Text");h.setTextStyle(u),h.drawText(e,i)}}function ax(o,e,t,i,s){const a=t.getStroke();if(a){const h=o.getBuilder(t.getZIndex(),"LineString");h.setFillStrokeStyle(null,a),h.drawMultiLineString(e,i)}const u=t.getText();if(u&&u.getText()){const h=(s||o).getBuilder(t.getZIndex(),"Text");h.setTextStyle(u),h.drawText(e,i)}}function ux(o,e,t,i,s){const a=t.getFill(),u=t.getStroke();if(u||a){const d=o.getBuilder(t.getZIndex(),"Polygon");d.setFillStrokeStyle(a,u),d.drawMultiPolygon(e,i)}const h=t.getText();if(h&&h.getText()){const d=(s||o).getBuilder(t.getZIndex(),"Text");d.setTextStyle(h),d.drawText(e,i)}}function cx(o,e,t,i,s){const a=t.getImage(),u=t.getText();let h;if(a){if(a.getImageState()!=We.LOADED)return;let d=o;if(s){const p=a.getDeclutterMode();if(p!=="none")if(d=s,p==="obstacle"){const _=o.getBuilder(t.getZIndex(),"Image");_.setImageStyle(a,h),_.drawPoint(e,i)}else u&&u.getText()&&(h={})}const m=d.getBuilder(t.getZIndex(),"Image");m.setImageStyle(a,h),m.drawPoint(e,i)}if(u&&u.getText()){let d=o;s&&(d=s);const m=d.getBuilder(t.getZIndex(),"Text");m.setTextStyle(u,h),m.drawText(e,i)}}function hx(o,e,t,i,s){const a=t.getImage(),u=t.getText();let h;if(a){if(a.getImageState()!=We.LOADED)return;let d=o;if(s){const p=a.getDeclutterMode();if(p!=="none")if(d=s,p==="obstacle"){const _=o.getBuilder(t.getZIndex(),"Image");_.setImageStyle(a,h),_.drawMultiPoint(e,i)}else u&&u.getText()&&(h={})}const m=d.getBuilder(t.getZIndex(),"Image");m.setImageStyle(a,h),m.drawMultiPoint(e,i)}if(u&&u.getText()){let d=o;s&&(d=s);const m=d.getBuilder(t.getZIndex(),"Text");m.setTextStyle(u,h),m.drawText(e,i)}}function dx(o,e,t,i,s){const a=t.getFill(),u=t.getStroke();if(a||u){const d=o.getBuilder(t.getZIndex(),"Polygon");d.setFillStrokeStyle(a,u),d.drawPolygon(e,i)}const h=t.getText();if(h&&h.getText()){const d=(s||o).getBuilder(t.getZIndex(),"Text");d.setTextStyle(h),d.drawText(e,i)}}class fx extends Dm{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Ht(),this.wrappedRenderedExtent_=Ht(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,i){const s=t.extent,a=t.viewState,u=a.center,h=a.resolution,d=a.projection,m=a.rotation,p=d.getExtent(),_=this.getLayer().getSource(),v=t.pixelRatio,x=t.viewHints,E=!(x[ht.ANIMATING]||x[ht.INTERACTING]),w=this.compositionContext_,R=Math.round(t.size[0]*v),k=Math.round(t.size[1]*v),M=_.getWrapX()&&d.canWrapX(),F=M?Oe(p):null,A=M?Math.ceil((s[2]-p[2])/F)+1:1;let z=M?Math.floor((s[0]-p[0])/F):0;do{const B=this.getRenderTransform(u,h,m,v,R,k,z*F);e.execute(w,1,B,m,E,void 0,i)}while(++z<A)}setupCompositionContext_(){if(this.opacity_!==1){const e=_t(this.context.canvas.width,this.context.canvas.height,wg);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,ra(this.compositionContext_),wg.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const i=e.pixelRatio,s=e.layerStatesArray[e.layerIndex];py(this.pixelTransform,1/i,1/i),Fc(this.inversePixelTransform,this.pixelTransform);const a=$g(this.pixelTransform);this.useContainer(t,a,this.getBackground(e));const u=this.context,h=u.canvas,d=this.replayGroup_,m=this.declutterExecutorGroup;let p=d&&!d.isEmpty()||m&&!m.isEmpty();if(!p&&!(this.getLayer().hasListener(xn.PRERENDER)||this.getLayer().hasListener(xn.POSTRENDER)))return null;const _=Math.round(e.size[0]*i),v=Math.round(e.size[1]*i);h.width!=_||h.height!=v?(h.width=_,h.height=v,h.style.transform!==a&&(h.style.transform=a)):this.containerReused||u.clearRect(0,0,_,v),this.preRender(u,e);const x=e.viewState;x.projection,this.opacity_=s.opacity,this.setupCompositionContext_();let E=!1;if(p&&s.extent&&this.clipping){const w=bi(s.extent);p=Lt(w,e.extent),E=p&&!Yr(w,e.extent),E&&this.clipUnrotated(this.compositionContext_,e,w)}return p&&this.renderWorlds(d,e),E&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(u,e),this.renderedRotation_!==x.rotation&&(this.renderedRotation_=x.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=[this.context.canvas.width,this.context.canvas.height];tt(this.pixelTransform,i);const s=this.renderedCenter_,a=this.renderedResolution_,u=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,m=this.getLayer(),p=[],_=i[0]*pn,v=i[1]*pn;p.push(this.getRenderTransform(s,a,u,pn,_,v,0).slice());const x=m.getSource(),E=h.getExtent();if(x.getWrapX()&&h.canWrapX()&&!Yr(E,d)){let w=d[0];const R=Oe(E);let k=0,M;for(;w<E[0];)--k,M=R*k,p.push(this.getRenderTransform(s,a,u,pn,_,v,M).slice()),w+=R;for(k=0,w=d[2];w>E[2];)++k,M=R*k,p.push(this.getRenderTransform(s,a,u,pn,_,v,M).slice()),w-=R}this.hitDetectionImageData_=Jv(i,p,this.renderedFeatures_,m.getStyleFunction(),d,a,u)}t(ex(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,s,a){if(!this.replayGroup_)return;const u=t.viewState.resolution,h=t.viewState.rotation,d=this.getLayer(),m={},p=function(x,E,w){const R=Te(x),k=m[R];if(k){if(k!==!0&&w<k.distanceSq){if(w===0)return m[R]=!0,a.splice(a.lastIndexOf(k),1),s(x,d,E);k.geometry=E,k.distanceSq=w}}else{if(w===0)return m[R]=!0,s(x,d,E);a.push(m[R]={feature:x,layer:d,geometry:E,distanceSq:w,callback:s})}};let _;const v=[this.replayGroup_];return this.declutterExecutorGroup&&v.push(this.declutterExecutorGroup),v.some(x=>_=x.forEachFeatureAtCoordinate(e,u,h,i,p,x===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(E=>E.value):null)),_}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const s=e.viewHints[ht.ANIMATING],a=e.viewHints[ht.INTERACTING],u=t.getUpdateWhileAnimating(),h=t.getUpdateWhileInteracting();if(this.ready&&!u&&s||!h&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=e.extent,m=e.viewState,p=m.projection,_=m.resolution,v=e.pixelRatio,x=t.getRevision(),E=t.getRenderBuffer();let w=t.getRenderOrder();w===void 0&&(w=nx);const R=m.center.slice(),k=Dc(d,E*_),M=k.slice(),F=[k.slice()],A=p.getExtent();if(i.getWrapX()&&p.canWrapX()&&!Yr(A,e.extent)){const $=Oe(A),J=Math.max(Oe(k)/2,$);k[0]=A[0]-J,k[2]=A[2]+J,lm(R,p);const Y=nm(F[0],p);Y[0]<A[0]&&Y[2]<A[2]?F.push([Y[0]+$,Y[1],Y[2]+$,Y[3]]):Y[0]>A[0]&&Y[2]>A[2]&&F.push([Y[0]-$,Y[1],Y[2]-$,Y[3]])}if(this.ready&&this.renderedResolution_==_&&this.renderedRevision_==x&&this.renderedRenderOrder_==w&&Yr(this.wrappedRenderedExtent_,k))return Li(this.renderedExtent_,M)||(this.hitDetectionImageData_=null,this.renderedExtent_=M),this.renderedCenter_=R,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const z=new Fg(Tc(_,v),k,_,v);let B;this.getLayer().getDeclutter()&&(B=new Fg(Tc(_,v),k,_,v));let Z;for(let $=0,J=F.length;$<J;++$)i.loadFeatures(F[$],_,p);const V=ix(_,v);let te=!0;const re=$=>{let J;const Y=$.getStyleFunction()||t.getStyleFunction();if(Y&&(J=Y($,_)),J){const N=this.renderFeature($,V,J,z,Z,B);te=te&&!N}},_e=dm(k),he=i.getFeaturesInExtent(_e);w&&he.sort(w);for(let $=0,J=he.length;$<J;++$)re(he[$]);this.renderedFeatures_=he,this.ready=te;const ce=z.finish(),Re=new zg(k,_,v,i.getOverlaps(),ce,t.getRenderBuffer());return B&&(this.declutterExecutorGroup=new zg(k,_,v,i.getOverlaps(),B.finish(),t.getRenderBuffer())),this.renderedResolution_=_,this.renderedRevision_=x,this.renderedRenderOrder_=w,this.renderedExtent_=M,this.wrappedRenderedExtent_=k,this.renderedCenter_=R,this.renderedProjection_=p,this.replayGroup_=Re,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,s,a,u){if(!i)return!1;let h=!1;if(Array.isArray(i))for(let d=0,m=i.length;d<m;++d)h=Gg(s,e,i[d],t,this.boundHandleStyleImageChange_,a,u)||h;else h=Gg(s,e,i,t,this.boundHandleStyleImageChange_,a,u);return h}}class gx extends Xv{constructor(e){super(e)}createRenderer(){return new fx(this)}}class Wg{constructor(e){this.rbush_=new jm(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[Te(t)]=i}load(e,t){const i=new Array(t.length);for(let s=0,a=t.length;s<a;s++){const u=e[s],h=t[s],d={minX:u[0],minY:u[1],maxX:u[2],maxY:u[3],value:h};i[s]=d,this.items_[Te(h)]=d}this.rbush_.load(i)}remove(e){const t=Te(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[Te(t)],s=[i.minX,i.minY,i.maxX,i.maxY];Vs(s,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(s){return s.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let s=0,a=e.length;s<a;s++)if(i=t(e[s]),i)return i;return i}isEmpty(){return br(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Ti(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class Vm extends Cn{constructor(e){super(),this.projection=be(e.projection),this.attributions_=jg(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,s){t.viewResolver=i,t.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=jg(e),this.changed()}setState(e){this.state_=e,this.changed()}}function jg(o){return o?Array.isArray(o)?function(e){return o}:typeof o=="function"?o:function(e){return[o]}:null}const on={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function mx(o,e){return[[-1/0,-1/0,1/0,1/0]]}let px=!1;function _x(o,e,t,i,s,a,u){const h=new XMLHttpRequest;h.open("GET",typeof o=="function"?o(t,i,s):o,!0),e.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=px,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const m=e.getType();let p;m=="json"||m=="text"?p=h.responseText:m=="xml"?(p=h.responseXML,p||(p=new DOMParser().parseFromString(h.responseText,"application/xml"))):m=="arraybuffer"&&(p=h.response),p?a(e.readFeatures(p,{extent:t,featureProjection:s}),e.readProjection(p)):u()}else u()},h.onerror=u,h.send()}function Xg(o,e){return function(t,i,s,a,u){const h=this;_x(o,e,t,i,s,function(d,m){h.addFeatures(d),a!==void 0&&a(d)},u||Hr)}}class _i extends Vn{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class yx extends Vm{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Hr,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(ve(this.format_,7),this.loader_=Xg(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:mx;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new Wg:null,this.loadedExtentsRtree_=new Wg,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,s;Array.isArray(e.features)?s=e.features:e.features&&(i=e.features,s=i.getArray()),!t&&i===void 0&&(i=new _n(s)),s!==void 0&&this.addFeaturesInternal(s),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Te(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const s=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new _i(on.ADDFEATURE,e))}setupChangeEvents_(e,t){this.featureChangeKeys_[e]=[we(t,pe.CHANGE,this.handleFeatureChange_,this),we(t,Zr.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,t){let i=!0;const s=t.getId();return s!==void 0&&(s.toString()in this.idIndex_?i=!1:this.idIndex_[s.toString()]=t),i&&(ve(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],s=[];for(let a=0,u=e.length;a<u;a++){const h=e[a],d=Te(h);this.addToIndex_(d,h)&&i.push(h)}for(let a=0,u=i.length;a<u;a++){const h=i[a],d=Te(h);this.setupChangeEvents_(d,h);const m=h.getGeometry();if(m){const p=m.getExtent();t.push(p),s.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(t,s),this.hasListener(on.ADDFEATURE))for(let a=0,u=i.length;a<u;a++)this.dispatchEvent(new _i(on.ADDFEATURE,i[a]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(on.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(on.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Tt.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Tt.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Ae);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=s=>{this.removeFeatureInternal(s)};this.featuresRtree_.forEach(i);for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new _i(on.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(s){if(s.getGeometry().intersectsCoordinate(e))return t(s)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){const a=t(i);if(a)return a}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),br(this.nullGeometryFeatures_)||Yn(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const s=wy(e,t);return[].concat(...s.map(a=>this.featuresRtree_.getInExtent(a)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],s=e[1];let a=null;const u=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return t=t||Bs,this.featuresRtree_.forEachInExtent(d,function(m){if(t(m)){const p=m.getGeometry(),_=h;if(h=p.closestPointXY(i,s,u,h),h<_){a=m;const v=Math.sqrt(h);d[0]=i-v,d[1]=s-v,d[2]=i+v,d[3]=s+v}}}),a}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=Te(t),s=t.getGeometry();if(!s)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const u=s.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(u,t)):this.featuresRtree_&&this.featuresRtree_.update(u,t)}const a=t.getId();if(a!==void 0){const u=a.toString();this.idIndex_[u]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[u]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new _i(on.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Te(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&br(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const s=this.loadedExtentsRtree_,a=this.strategy_(e,t,i);for(let u=0,h=a.length;u<h;++u){const d=a[u];s.forEachInExtent(d,function(p){return Yr(p.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new _i(on.FEATURESLOADSTART)),this.loader_.call(this,d,t,i,p=>{--this.loadingExtentsCount_,this.dispatchEvent(new _i(on.FEATURESLOADEND,void 0,p))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new _i(on.FEATURESLOADERROR))}),s.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,function(s){if(Vs(s.extent,e))return i=s,!0}),i&&t.remove(i)}removeFeature(e){if(!e)return;const t=Te(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Te(e),i=this.featureChangeKeys_[t];if(!i)return;i.forEach(Ae),delete this.featureChangeKeys_[t];const s=e.getId();return s!==void 0&&delete this.idIndex_[s.toString()],delete this.uidIndex_[t],this.dispatchEvent(new _i(on.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}return t}setLoader(e){this.loader_=e}setUrl(e){ve(this.format_,7),this.url_=e,this.setLoader(Xg(e,this.format_))}}class vx{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return ve(i!==void 0,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return ve(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){ve(!(e in this.entries_),16);const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function Yg(o,e,t,i){return i!==void 0?(i[0]=o,i[1]=e,i[2]=t,i):[o,e,t]}function aa(o,e,t){return o+"/"+e+"/"+t}function Km(o){return aa(o[0],o[1],o[2])}function xx(o){return o.split("/").map(Number)}function Ex(o){return(o[1]<<o[0])+o[2]}function Cx(o,e){const t=o[0],i=o[1],s=o[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const a=e.getFullTileRange(t);return a?a.containsXY(i,s):!0}class Zm extends vx{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=xx(e)[0];this.forEach(s=>{s.tileCoord[0]!==i&&(this.remove(Km(s.tileCoord)),s.release())})}}const uc={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},zr=[0,0,0],yi=5;class Hm{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ve(sy(this.resolutions_,function(s,a){return a-s}),17);let t;if(!e.origins){for(let s=0,a=this.resolutions_.length-1;s<a;++s)if(!t)t=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ve(this.origins_.length==this.resolutions_.length,20));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=or(i)),ve(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ve(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Gc,ve(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,a){const u=new sh(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){const h=this.getTileRangeForExtentAndZ(i,a);u.minX=Math.max(h.minX,u.minX),u.maxX=Math.min(h.maxX,u.maxX),u.minY=Math.max(h.minY,u.minY),u.maxY=Math.min(h.maxY,u.maxY)}return u},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const s=this.getTileRangeForExtentAndZ(e,t);for(let a=s.minX,u=s.maxX;a<=u;++a)for(let h=s.minY,d=s.maxY;h<=d;++h)i([t,a,h])}forEachTileCoordParentTileRange(e,t,i,s){let a,u,h,d=null,m=e[0]-1;for(this.zoomFactor_===2?(u=e[1],h=e[2]):d=this.getTileCoordExtent(e,s);m>=this.minZoom;){if(this.zoomFactor_===2?(u=Math.floor(u/2),h=Math.floor(h/2),a=Fr(u,u,h,h,i)):a=this.getTileRangeForExtentAndZ(d,m,i),t(m,a))return!0;--m}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const a=e[1]*2,u=e[2]*2;return Fr(a,a+1,u,u+1,t)}const s=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const s=e[0],a=e[1],u=e[2];if(t===s)return Fr(a,u,a,u,i);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,t-s),m=Math.floor(a*d),p=Math.floor(u*d);if(t<s)return Fr(m,m,p,p,i);const _=Math.floor(d*(a+1))-1,v=Math.floor(d*(u+1))-1;return Fr(m,_,p,v,i)}const h=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,zr);const s=zr[1],a=zr[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,zr);const u=zr[1],h=zr[2];return Fr(s,u,a,h,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=Zt(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*s[0]*i,t[1]-(e[2]+.5)*s[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),s=this.getResolution(e[0]),a=Zt(this.getTileSize(e[0]),this.tmpSize_),u=i[0]+e[1]*a[0]*s,h=i[1]-(e[2]+1)*a[1]*s,d=u+a[0]*s,m=h+a[1]*s;return Ti(u,h,d,m,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,s,a){const u=this.getZForResolution(i),h=i/this.getResolution(u),d=this.getOrigin(u),m=Zt(this.getTileSize(u),this.tmpSize_);let p=h*(e-d[0])/i/m[0],_=h*(d[1]-t)/i/m[1];return s?(p=Cl(p,yi)-1,_=Cl(_,yi)-1):(p=El(p,yi),_=El(_,yi)),Yg(u,p,_,a)}getTileCoordForXYAndZ_(e,t,i,s,a){const u=this.getOrigin(i),h=this.getResolution(i),d=Zt(this.getTileSize(i),this.tmpSize_);let m=(e-u[0])/h/d[0],p=(u[1]-t)/h/d[1];return s?(m=Cl(m,yi)-1,p=Cl(p,yi)-1):(m=El(m,yi),p=El(p,yi)),Yg(i,m,p,a)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=Oc(this.resolutions_,e,t||0);return Ke(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return Em(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let s=this.minZoom;s<t;++s)i[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=i}}function bm(o){let e=o.getDefaultTileGrid();return e||(e=Tx(o),o.setDefaultTileGrid(e)),e}function wx(o,e,t){const i=e[0],s=o.getTileCoordCenter(e),a=lh(t);if(!bl(a,s)){const u=Oe(a),h=Math.ceil((a[0]-s[0])/u);return s[0]+=u*h,o.getTileCoordForCoordAndZ(s,i)}return e}function Sx(o,e,t,i){i=i!==void 0?i:"top-left";const s=$m(o,e,t);return new Hm({extent:o,origin:xy(o,i),resolutions:s,tileSize:t})}function Rx(o){const e=o||{},t=e.extent||be("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:$m(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Hm(i)}function $m(o,e,t,i){e=e!==void 0?e:Oy,t=Zt(t!==void 0?t:Gc);const s=En(o),a=Oe(o);i=i>0?i:Math.max(a/t[0],s/t[1]);const u=e+1,h=new Array(u);for(let d=0;d<u;++d)h[d]=i/Math.pow(2,d);return h}function Tx(o,e,t,i){const s=lh(o);return Sx(s,e,t,i)}function lh(o){o=be(o);let e=o.getExtent();if(!e){const t=180*Wc.degrees/o.getMetersPerUnit();e=Ti(-t,-t,t,t)}return e}class Ix extends Vm{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&Zt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new Zm(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,s){const a=this.getTileCacheForProjection(e);if(!a)return!1;let u=!0,h,d,m;for(let p=i.minX;p<=i.maxX;++p)for(let _=i.minY;_<=i.maxY;++_)d=aa(t,p,_),m=!1,a.containsKey(d)&&(h=a.get(d),m=h.getState()===ue.LOADED,m&&(m=s(h)!==!1)),m||(u=!1);return u}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,s,a){return ge()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:bm(e)}getTileCacheForProjection(e){const t=this.getProjection();return ve(t===null||Hi(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const s=this.getTileGridForProjection(i),a=this.getTilePixelRatio(t),u=Zt(s.getTileSize(e),this.tmpSize);return a==1?u:dv(u,a,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=wx(i,e,t)),Cx(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,s){}}class Lx extends Vn{constructor(e,t){super(e),this.tile=t}}function kx(o,e){const t=/\{z\}/g,i=/\{x\}/g,s=/\{y\}/g,a=/\{-y\}/g;return function(u,h,d){if(u)return o.replace(t,u[0].toString()).replace(i,u[1].toString()).replace(s,u[2].toString()).replace(a,function(){const m=u[0],p=e.getFullTileRange(m);return ve(p,55),(p.getHeight()-u[2]-1).toString()})}}function Px(o,e){const t=o.length,i=new Array(t);for(let s=0;s<t;++s)i[s]=kx(o[s],e);return Mx(i)}function Mx(o){return o.length===1?o[0]:function(e,t,i){if(!e)return;const s=Ex(e),a=Br(s,o.length);return o[a](e,t,i)}}function Ox(o){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(o);if(t){const i=t[1].charCodeAt(0),s=t[2].charCodeAt(0);let a;for(a=i;a<=s;++a)e.push(o.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(o),t){const i=parseInt(t[2],10);for(let s=parseInt(t[1],10);s<=i;s++)e.push(o.replace(t[0],s.toString()));return e}return e.push(o),e}class ah extends Ix{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===ah.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=Te(t),s=t.getState();let a;s==ue.LOADING?(this.tileLoadingKeys_[i]=!0,a=uc.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=s==ue.ERROR?uc.TILELOADERROR:s==ue.LOADED?uc.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new Lx(a,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=Ox(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Px(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const s=aa(e,t,i);this.tileCache.containsKey(s)&&this.tileCache.get(s)}}class Ax extends ah{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Fx,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Gm,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const s in this.tileCacheForProjection){const a=this.tileCacheForProjection[s];a.expireCache(a==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Hi(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Hi(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Hi(t,e)))return this.tileGrid;const i=Te(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=bm(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||Hi(t,e))return this.tileCache;const i=Te(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Zm(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,s,a,u){const h=[e,t,i],d=this.getTileCoordForTileUrlFunction(h,a),m=d?this.tileUrlFunction(d,s,a):void 0,p=new this.tileClass(h,m!==void 0?ue.IDLE:ue.EMPTY,m!==void 0?m:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=u,p.addEventListener(pe.CHANGE,this.handleTileChange.bind(this)),p}getTile(e,t,i,s,a){const u=this.getProjection();if(!u||!a||Hi(u,a))return this.getTileInternal(e,t,i,s,u||a);const h=this.getTileCacheForProjection(a),d=[e,t,i];let m;const p=Km(d);h.containsKey(p)&&(m=h.get(p));const _=this.getKey();if(m&&m.key==_)return m;const v=this.getTileGridForProjection(u),x=this.getTileGridForProjection(a),E=this.getTileCoordForTileUrlFunction(d,a),w=new Rc(u,v,a,x,d,E,this.getTilePixelRatio(s),this.getGutter(),(R,k,M,F)=>this.getTileInternal(R,k,M,F,u),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return w.key=_,m?(w.interimTile=m,w.refreshInterimChain(),h.replace(p,w)):h.set(p,w),w}getTileInternal(e,t,i,s,a){let u=null;const h=aa(e,t,i),d=this.getKey();if(!this.tileCache.containsKey(h))u=this.createTile_(e,t,i,s,a,d),this.tileCache.set(h,u);else if(u=this.tileCache.get(h),u.key!=d){const m=u;u=this.createTile_(e,t,i,s,a,d),m.getState()==ue.IDLE?u.interimTile=m.interimTile:u.interimTile=m,u.refreshInterimChain(),this.tileCache.replace(h,u)}return u}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const i=be(e);if(i){const s=Te(i);s in this.tileGridForProjection||(this.tileGridForProjection[s]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function Fx(o,e){o.getImage().src=e}class Dx extends Ax{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:Rx({extent:lh(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}class uh extends Cn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new uh(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Ae(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=we(e,pe.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?Nx(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Nx(o){if(typeof o=="function")return o;let e;return Array.isArray(o)?e=o:(ve(typeof o.getZIndex=="function",41),e=[o]),function(){return e}}const zx='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Gx extends Dx{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[zx];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",s=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:s,wrapX:e.wrapX,zDirection:e.zDirection})}}class Bl extends mm{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Ae),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(we(this.geometries_[e],pe.CHANGE,this.changed,this))}clone(){const e=new Bl(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,s){if(s<sr(this.getExtent(),e,t))return s;const a=this.geometries_;for(let u=0,h=a.length;u<h;++u)s=a[u].closestPointXY(e,t,i,s);return s}containsXY(e,t){const i=this.geometries_;for(let s=0,a=i.length;s<a;++s)if(i[s].containsXY(e,t))return!0;return!1}computeExtent(e){no(e);const t=this.geometries_;for(let i=0,s=t.length;i<s;++i)Jg(e,t[i].getExtent());return e}getGeometries(){return Ug(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,s=t.length;i<s;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let s=!1;for(let a=0,u=i.length;a<u;++a){const h=i[a],d=h.getSimplifiedGeometry(e);t.push(d),d!==h&&(s=!0)}if(s){const a=new Bl(null);return a.setGeometriesArray(t),a}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,s=t.length;i<s;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let s=0,a=i.length;s<a;++s)i[s].rotate(e,t);this.changed()}scale(e,t,i){i||(i=nr(this.getExtent()));const s=this.geometries_;for(let a=0,u=s.length;a<u;++a)s[a].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(Ug(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,s=t.length;i<s;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let s=0,a=i.length;s<a;++s)i[s].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Ug(o){const e=[];for(let t=0,i=o.length;t<i;++t)e.push(o[t].clone());return e}class Wx{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?be(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=be(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return ge()}readFeature(e,t){return ge()}readFeatures(e,t){return ge()}readGeometry(e,t){return ge()}readProjection(e){return ge()}writeFeature(e,t){return ge()}writeFeatures(e,t){return ge()}writeGeometry(e,t){return ge()}}function qm(o,e,t){const i=t?be(t.featureProjection):null,s=t?be(t.dataProjection):null;let a;if(i&&s&&!Hi(i,s)?a=(e?o.clone():o).transform(e?i:s,e?s:i):a=o,e&&t&&t.decimals!==void 0){const u=Math.pow(10,t.decimals),h=function(d){for(let m=0,p=d.length;m<p;++m)d[m]=Math.round(d[m]*u)/u;return d};a===o&&(a=o.clone()),a.applyTransform(h)}return a}class jx extends Wx{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Ml(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Ml(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return ge()}readFeaturesFromObject(e,t){return ge()}readGeometry(e,t){return this.readGeometryFromObject(Ml(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return ge()}readProjection(e){return this.readProjectionFromObject(Ml(e))}readProjectionFromObject(e){return ge()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return ge()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return ge()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return ge()}}function Ml(o){if(typeof o=="string"){const e=JSON.parse(o);return e||null}return o!==null?o:null}function Qm(o,e,t,i,s,a,u){let h,d;const m=(t-e)/i;if(m===1)h=e;else if(m===2)h=e,d=s;else if(m!==0){let p=o[e],_=o[e+1],v=0;const x=[0];for(let R=e+i;R<t;R+=i){const k=o[R],M=o[R+1];v+=Math.sqrt((k-p)*(k-p)+(M-_)*(M-_)),x.push(v),p=k,_=M}const E=s*v,w=iy(x,E);w<0?(d=(E-x[-w-2])/(x[-w-1]-x[-w-2]),h=e+(-w-2)*i):h=e+w*i}u=u>1?u:2,a=a||new Array(u);for(let p=0;p<u;++p)a[p]=h===void 0?NaN:d===void 0?o[h+p]:Dt(o[h+p],o[h+i+p],d);return a}function Ic(o,e,t,i,s,a){if(t==e)return null;let u;if(s<o[e+i-1])return a?(u=o.slice(e,e+i),u[i-1]=s,u):null;if(o[t-1]<s)return a?(u=o.slice(t-i,t),u[i-1]=s,u):null;if(s==o[e+i-1])return o.slice(e,e+i);let h=e/i,d=t/i;for(;h<d;){const v=h+d>>1;s<o[(v+1)*i-1]?d=v:h=v+1}const m=o[h*i-1];if(s==m)return o.slice((h-1)*i,(h-1)*i+i);const p=o[(h+1)*i-1],_=(s-m)/(p-m);u=[];for(let v=0;v<i-1;++v)u.push(Dt(o[(h-1)*i+v],o[h*i+v],_));return u.push(s),u}function Xx(o,e,t,i,s,a,u){if(u)return Ic(o,e,t[t.length-1],i,s,a);let h;if(s<o[i-1])return a?(h=o.slice(0,i),h[i-1]=s,h):null;if(o[o.length-1]<s)return a?(h=o.slice(o.length-i),h[i-1]=s,h):null;for(let d=0,m=t.length;d<m;++d){const p=t[d];if(e!=p){if(s<o[e+i-1])return null;if(s<=o[p-1])return Ic(o,e,p,i,s,!1);e=p}}return null}class Qr extends lr{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){this.flatCoordinates?Yn(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new Qr(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,s){return s<sr(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,s))}forEachSegment(e){return xm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,Ic(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Ci(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Qm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Ym(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Qc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Qr(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return ta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ea(this.flatCoordinates,0,e,this.stride),this.changed()}}class Vl extends lr{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let s=this.getLayout();const a=e,u=[],h=[];for(let d=0,m=a.length;d<m;++d){const p=a[d];d===0&&(s=p.getLayout()),Yn(u,p.getFlatCoordinates()),h.push(u.length)}this.setFlatCoordinates(s,u),this.ends_=h}}appendLineString(e){this.flatCoordinates?Yn(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Vl(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,s){return s<sr(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hc(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$c(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,s))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,Xx(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return Ks(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Qr(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,s=[];let a=0;for(let u=0,h=t.length;u<h;++u){const d=t[u],m=new Qr(e.slice(a,d),i);s.push(m),a=d}return s}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const s=this.ends_,a=this.stride;for(let u=0,h=s.length;u<h;++u){const d=s[u],m=Qm(t,i,d,a,.5);Yn(e,m),i=d}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=d0(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new Vl(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return v0(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=qc(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class ua extends lr{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?Yn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new ua(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,s){if(s<sr(this.getExtent(),e,t))return s;const a=this.flatCoordinates,u=this.stride;for(let h=0,d=a.length;h<d;h+=u){const m=Ji(e,t,a[h],a[h+1]);if(m<s){s=m;for(let p=0;p<u;++p)i[p]=a[h+p];i.length=u}}return s}getCoordinates(){return Ci(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new $r(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,s=[];for(let a=0,u=e.length;a<u;a+=i){const h=new $r(e.slice(a,a+i),t);s.push(h)}return s}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let s=0,a=t.length;s<a;s+=i){const u=t[s],h=t[s+1];if(Nc(e,u,h))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ea(this.flatCoordinates,0,e,this.stride),this.changed()}}function Yx(o,e,t,i){const s=[];let a=Ht();for(let u=0,h=t.length;u<h;++u){const d=t[u];a=Qg(o,e,d[0],i),s.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=d[d.length-1]}return s}class Kl extends lr{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let s=this.getLayout();const a=e,u=[],h=[];for(let d=0,m=a.length;d<m;++d){const p=a[d];d===0&&(s=p.getLayout());const _=u.length,v=p.getEnds();for(let x=0,E=v.length;x<E;++x)v[x]+=_;Yn(u,p.getFlatCoordinates()),h.push(v)}t=s,e=u,i=h}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Yn(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let s=0,a=t.length;s<a;++s)t[s]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let s=0;s<e;++s)t[s]=this.endss_[s].slice();const i=new Kl(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,s){return s<sr(this.getExtent(),e,t)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(a0(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),u0(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,s))}containsXY(e,t){return _0(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return m0(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),mg(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,yc(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Yx(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=y0(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new ua(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;C0(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=mg(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=g0(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new Kl(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const a=this.endss_[e-1];t=a[a.length-1]}const i=this.endss_[e].slice(),s=i[i.length-1];if(t!==0)for(let a=0,u=i.length;a<u;++a)i[a]-=t;return new Ii(this.flatCoordinates.slice(t,s),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,s=[];let a=0;for(let u=0,h=i.length;u<h;++u){const d=i[u].slice(),m=d[d.length-1];if(a!==0)for(let _=0,v=d.length;_<v;++_)d[_]-=a;const p=new Ii(t.slice(a,m),e,d);s.push(p),a=m}return s}getType(){return"MultiPolygon"}intersectsExtent(e){return x0(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=h0(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const s=i[i.length-1];this.flatCoordinates.length=s.length===0?0:s[s.length-1]}this.changed()}}class Ux extends jx{constructor(e){e=e||{},super(),this.dataProjection=be(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=be(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const s=Lc(i.geometry,t),a=new uh;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&a.setGeometryName(i.geometry_name),a.setGeometry(s),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a}readFeaturesFromObject(e,t){const i=e;let s=null;if(i.type==="FeatureCollection"){const a=e;s=[];const u=a.features;for(let h=0,d=u.length;h<d;++h)s.push(this.readFeatureFromObject(u[h],t))}else s=[this.readFeatureFromObject(e,t)];return s}readGeometryFromObject(e,t){return Lc(e,t)}readProjectionFromObject(e){const t=e.crs;let i;return t?t.type=="name"?i=be(t.properties.name):t.type==="EPSG"?i=be("EPSG:"+t.properties.code):ve(!1,36):i=this.dataProjection,i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},s=e.getId();if(s!==void 0&&(i.id=s),!e.hasProperties())return i;const a=e.getProperties(),u=e.getGeometry();return u&&(i.geometry=kc(u,t),delete a[e.getGeometryName()]),br(a)||(i.properties=a),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let s=0,a=e.length;s<a;++s)i.push(this.writeFeatureObject(e[s],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return kc(e,this.adaptOptions(t))}}function Lc(o,e){if(!o)return null;let t;switch(o.type){case"Point":{t=Vx(o);break}case"LineString":{t=Kx(o);break}case"Polygon":{t=$x(o);break}case"MultiPoint":{t=Hx(o);break}case"MultiLineString":{t=Zx(o);break}case"MultiPolygon":{t=bx(o);break}case"GeometryCollection":{t=Bx(o);break}default:throw new Error("Unsupported GeoJSON type: "+o.type)}return qm(t,!1,e)}function Bx(o,e){const t=o.geometries.map(function(i){return Lc(i,e)});return new Bl(t)}function Vx(o){return new $r(o.coordinates)}function Kx(o){return new Qr(o.coordinates)}function Zx(o){return new Vl(o.coordinates)}function Hx(o){return new ua(o.coordinates)}function bx(o){return new Kl(o.coordinates)}function $x(o){return new Ii(o.coordinates)}function kc(o,e){o=qm(o,!0,e);const t=o.getType();let i;switch(t){case"Point":{i=n1(o);break}case"LineString":{i=Qx(o);break}case"Polygon":{i=i1(o,e);break}case"MultiPoint":{i=e1(o);break}case"MultiLineString":{i=Jx(o);break}case"MultiPolygon":{i=t1(o,e);break}case"GeometryCollection":{i=qx(o,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function qx(o,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:o.getGeometriesArray().map(function(i){return kc(i,e)})}}function Qx(o,e){return{type:"LineString",coordinates:o.getCoordinates()}}function Jx(o,e){return{type:"MultiLineString",coordinates:o.getCoordinates()}}function e1(o,e){return{type:"MultiPoint",coordinates:o.getCoordinates()}}function t1(o,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:o.getCoordinates(t)}}function n1(o,e){return{type:"Point",coordinates:o.getCoordinates()}}function i1(o,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:o.getCoordinates(t)}}const r1=()=>(Vg.useEffect(()=>{new fv({target:"map",layers:[new Tv({source:new Gx}),new gx({source:new yx({url:"https://kart.dsb.no/path/to/geojson",format:new Ux}),style:new rr({fill:new ir({color:"rgba(0, 0, 255, 0.1)"}),stroke:new lo({color:"blue",width:2}),image:new oo({radius:5,fill:new ir({color:"red"})})})})],view:new mn({center:by([10.7522,59.9139]),zoom:6})})},[]),cc.jsx("div",{id:"map",style:{width:"100%",height:"500px"}}));ny.createRoot(document.getElementById("root")).render(cc.jsx(b_.StrictMode,{children:cc.jsx(r1,{})}));
